;
(self.AMP=self.AMP||[]).push({m:1,v:"2205120110001",n:"amp-skimlinks",ev:"0.1",l:!0,f:function(t,n){(()=>{var n="load-start";function i(t){let n=!1,i=null,s=t;return(...t)=>(n||(i=s.apply(self,t),n=!0,s=null),i)}var{isArray:s}=Array,{hasOwnProperty:r,toString:e}=Object.prototype;function o(t){return(t.ownerDocument||t).defaultView}function c(t,n,i){return function(t,n){for(const i in n)t.setAttribute(i,n[i]);return t}(t.createElement(n),i)}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var u,h=self.__AMP_LOG;function a(t){return function(t,n){throw new Error("failed to call initLogConstructor")}()}function l(t,n,i,s,r,e,o,c,u,h,a){return t}function f(t,n,i,s,r,e,o,c,u,l,f){return(h.user||(h.user=a()),void h.user.win?h.userForEmbed||(h.userForEmbed=a()):h.user).assert(t,n,i,s,r,e,o,c,u,l,f)}function d(){return u||(u=Promise.resolve(void 0))}function _(t,n){return g(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function p(t,n){return g(P(k(t)),n)}function m(t,n){return function(t,n){const i=I(t,n);if(i)return i;const s=T(t);return s[n]=function(){const t=new class{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}},{promise:n,reject:i,resolve:s}=t;return n.catch((()=>{})),{obj:null,promise:n,resolve:s,reject:i,context:null,ctor:null}}(),s[n].promise}(P(t),n)}function A(t,n){return I(P(t),n)}function k(t){return t.nodeType?(n=o(t),_(n,"ampdoc")).getAmpDoc(t):t;var n}function P(t){const n=k(t);return n.isSingleDoc()?n.win:n}function g(t,n){l(function(t,n){const i=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!i||!i.ctor)}(t,n));const i=T(t)[n];return i.obj||(l(i.ctor),l(i.context),i.obj=new i.ctor(i.context),l(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function I(t,n){const i=T(t)[n];return i?i.promise?i.promise:(g(t,n),i.promise=Promise.resolve(i.obj)):null}function T(t){let n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}var v,w=t=>function(t,n,i,s){const r=A(t,n);if(r)return r;const e=k(t);return e.whenExtensionsKnown().then((()=>{const t=e.getExtensionVersion(i);return t?_(e.win,"extensions").waitForExtension(i,t):null})).then((i=>i?m(t,n):null))}(t,"amp-analytics-instrumentation","amp-analytics"),R=t=>p(t,"documentInfo").get(),b=class{constructor(t,n){this.syncResponse=t,this.asyncResponse=n}};function E(){let t="";for(let n=0;n<8;n++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t}function M(t){const{hostname:n}=function(t,n){return v||(v=self.document.createElement("a")),function(t,n,i){return t.href="",new URL(n,t.href)}(v,t)}(t);return n.replace(/^www\./,"")}function V(t){return t?t.hostname.replace(/^www\./,""):""}function U(t,n){const{excludedDomains:i}=n;return i&&-1!==i.indexOf(t)}function y(t,n){return U(V(t),n)}new Set(["c","v","a","ad"]);var O="affiliate",L="ignore",$="unknown",j="data-skimlinks-custom-tracking-id",x="amp@1.0.3",S="amp-skimlinks",N="https://t.skimresources.com/api",C={pageTrackingUrl:`${N}/track.php?data=\${data}`,linksTrackingUrl:`${N}/link?data=\${data}`,nonAffiliateTrackingUrl:`${N}/?call=track&rnd=\${rnd}&data=\${data}`,beaconUrl:"https://r.skimresources.com/api"},D=["facebook.com","go.redirectingat.com","go.skimresources.com","instagram.com","twitter.com","youtube.com"],q="PAGE_SCANNED",z="CLICK",J="data-link-rewriter-original-url";function F(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function B(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,s)}return i}function G(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?B(Object(i),!0).forEach((function(n){F(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}var W,Z=["Webkit","webkit","Moz","moz","ms","O","o"];function H(t,n,i,s,r){const e=function(t,n,i){if(n.startsWith("--"))return n;W||(W=Object.create(null));let s=W[n];if(!s||i){if(s=n,void 0===t[n]){const i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),r=function(t,n){for(let i=0;i<Z.length;i++){const s=Z[i]+n;if(void 0!==t[s])return s}return""}(t,i);void 0!==t[r]&&(s=r)}i||(W[n]=s)}return s}(t.style,n,r);if(!e)return;const o=s?i+s:i;t.style.setProperty(function(t){const n=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return Z.some((t=>n.startsWith(t+"-")))?`-${n}`:n}(e),o)}var K=!1,Q=/nochunking=1/.test(self.location.hash),X=d();var Y="not_run",tt=class{constructor(t){this.state=Y,this.Qi=t}Xi(t){if("run"!=this.state){this.state="run";try{this.Qi(t)}catch(t){throw this.Zi(t),t}}}ts(){return this.Qi.displayName||this.Qi.name}Zi(t){}ss(){return!1}es(){return!1}},nt=class extends tt{constructor(t,n,i){super(t),this.ns=i}Zi(t){var n;l((n=self.document).defaultView),K||(K=!0,function(t){!function(t,n){for(const i in n)H(t,i,n[i])}(t.body,{opacity:1,visibility:"visible","animation":"none"})}(n))}ss(){return this.rs()}es(){return this.ns.hs}rs(){return this.ns.ampdoc.isVisible()}},it=class{constructor(t){var n;this.ampdoc=t,this.i=t.win,this.os=new class{constructor(){this.Ki=[]}peek(){const t=this.length;return t?this.Ki[t-1].item:null}enqueue(t,n){if(isNaN(n))throw new Error("Priority must not be NaN.");const i=this.Yi(n);this.Ki.splice(i,0,{item:t,priority:n})}Yi(t){let n=-1,i=0,s=this.length;for(;i<=s&&(n=Math.floor((i+s)/2),n!==this.length);)if(this.Ki[n].priority<t)i=n+1;else{if(!(n>0&&this.Ki[n-1].priority>=t))break;s=n-1}return n}forEach(t){let n=this.length;for(;n--;)t(this.Ki[n].item)}dequeue(){const t=this.Ki.pop();return t?t.item:null}get length(){return this.Ki.length}},this.us=this.ls.bind(this),this.cs=0,this.ds=!(!this.i.navigator.scheduling||!this.i.navigator.scheduling.isInputPending),this.fs=!1,this.Ji=this.i.document.documentElement.hasAttribute("i-amphtml-no-boilerplate"),this.i.addEventListener("message",(t=>{"amp-macro-task"==t.data&&this.ls(null)})),this.hs=!1,(n=t,m(n,"viewer")).then((()=>{this.hs=!0})),t.onVisibilityChanged((()=>{t.isVisible()&&this.ps()}))}run(t,n){const i=new tt(t);this._s(i,n)}runForStartup(t){const n=new nt(t,this.i,this);this._s(n,Number.POSITIVE_INFINITY)}_s(t,n){this.os.enqueue(t,n),this.ps()}As(t){let n=this.os.peek();for(;n&&n.state!==Y;)this.os.dequeue(),n=this.os.peek();return n&&t&&this.os.dequeue(),n}ls(t){const n=this.As(!0);if(!n)return this.fs=!1,this.cs=0,!1;let i;try{i=Date.now(),n.Xi(t)}finally{X.then().then().then().then().then().then().then().then().then((()=>{this.fs=!1,this.cs+=Date.now()-i,this.ps()}))}return!0}gs(t){if(this.Ji&&(this.ds?this.i.navigator.scheduling.isInputPending():this.cs>5))return this.cs=0,void this.Ps();X.then((()=>{this.us(t)}))}ps(){if(this.fs)return;const t=this.As();return t?t.ss()?(this.fs=!0,void this.gs(null)):void(t.es()&&this.i.requestIdleCallback?function(t,n,i,s){const r=Date.now();t.requestIdleCallback((function n(i){if(i.timeRemaining()<15){const e=2e3-(Date.now()-r);e<=0||i.didTimeout?s(i):t.requestIdleCallback(n,{timeout:e})}else s(i)}),{timeout:2e3})}(this.i,0,0,this.us):this.Ps()):void 0}Ps(){this.i.postMessage("amp-macro-task","*")}};function st(t,n){f(t,`<amp-skimlinks> Invalid option => ${n}`)}function rt(t,n){let i=[].concat(n).concat(D);const s=t.getAttribute("excluded-domains");return s&&(i=i.concat(s.trim().split(/\s+/).map((t=>t.replace(/^www\./,""))))),i}function et(t){const n=t.getAttribute("publisher-code");return st(n,'"publisher-code" is required.'),n}function ot(t){const n=t.getAttribute("tracking");return!n||(st("true"===n||"false"===n,'"tracking" possible values are "true" or "false".'),"true"===n)}function ct(t){const n=t.getAttribute("custom-tracking-id");return n&&st(n.length<=50,'"custom-tracking-id" should be <=50 characters and only contain upper and lowercase characters, numbers, underscores and pipes.'),n}function ut(t){return t.getAttribute("link-selector")||null}function ht(t){const n=[];return t.canonicalUrl&&n.push(M(t.canonicalUrl)),t.sourceUrl&&n.push(M(t.sourceUrl)),n}function at(t){let n=t.getAttribute("custom-redirect-domain");return n?(n=n.replace(/^\/\/|^https?:\/\/|\/$/g,""),`http://${n}`):"https://go.skimresources.com"}function lt(t){try{const n=function(t){const n=(s=t,/^[\w-]+$/.test("script"),"> script",s.querySelectorAll(function(t,n){return t.replace(/^|,/g,"$&:scope ")}("> script"))),{length:i}=n;var s;if(1!==i)throw new Error(`Found ${i} <script> children. Expected 1.`);const r=n[0];if(!function(t){var n;return"SCRIPT"==t.tagName&&"APPLICATION/JSON"==(null===(n=t.getAttribute("type"))||void 0===n?void 0:n.toUpperCase())}(r))throw new Error('<script> child must have type="application/json"');try{var e;return o=null!==(e=r.textContent)&&void 0!==e?e:"",JSON.parse(o)}catch(t){throw new Error("Failed to parse <script> contents. Is it valid JSON?")}var o}(t);return{pageTrackingUrl:n.pageTrackingUrl||C.pageTrackingUrl,linksTrackingUrl:n.linksTrackingUrl||C.linksTrackingUrl,nonAffiliateTrackingUrl:n.nonAffiliateTrackingUrl||C.nonAffiliateTrackingUrl,beaconUrl:n.beaconUrl||C.beaconUrl}}catch(t){return C}}var ft="page-impressions",dt="link-impressions",_t="non-affiliate-click",pt=class extends t.BaseElement{constructor(t){super(t),this.NR=null,this.OI=null,this._k=null,this.Fe=null,this.Ak=null,this.kk={},this.Pk=null,this.Ik=null,this.Tk=null,this.wk=null,this.RI=null}buildCallback(){var t,n;return this.NR=_(this.win,"xhr"),this.OI=this.getAmpDoc(),this._k=R(this.OI),this.Fe=p(this.OI,"viewer"),this.Ak=new class{constructor(t){var n;this.Rc=t.getRootNode(),this.Rk=this.bk(t),this.Ek=[],this.Mk(this.Rc),(n=t,p(n,"navigation")).registerAnchorMutator(this.maybeRewriteLink.bind(this),0)}registerLinkRewriter(t,n,i){const s=new class{constructor(t,n,i,s){this.events=new class{constructor(){this.St=null}add(t){return this.St||(this.St=[]),this.St.push(t),()=>{this.remove(t)}}remove(t){this.St&&function(t,n){const i=t.indexOf(n);-1!=i&&t.splice(i,1)}(this.St,t)}removeAll(){this.St&&(this.St.length=0)}fire(t){if(this.St)for(const n of this.St.slice())n(t)}getHandlerCount(){var t,n;return null!==(t=null===(n=this.St)||void 0===n?void 0:n.length)&&void 0!==t?t:0}},this.id=n,this.Rc=t,this.Vk=i,this.Uk=s.linkSelector||"a",this.yk=300,this.Ok=new class{constructor(){this.Lk=[],this.$k=[]}updateLinkList(t){this.$k=t.map(this.getReplacementUrlForAnchor.bind(this)),this.Lk=t}updateReplacementUrls(t){t.forEach((t=>{const{anchor:n,replacementUrl:i}=t,s=this.Lk.indexOf(n);-1!==s&&(this.$k[s]=i)}))}getReplacementUrlForAnchor(t){const n=this.Lk.indexOf(t);return-1!==n?this.$k[n]:null}isInCache(t){return-1!==this.Lk.indexOf(t)}getAnchorReplacementList(){return this.Lk.map((t=>({anchor:t,replacementUrl:this.getReplacementUrlForAnchor(t)})))}}}getReplacementUrl(t){return this.isWatchingLink(t)?this.Ok.getReplacementUrlForAnchor(t):null}getAnchorReplacementList(){return this.Ok.getAnchorReplacementList()}isWatchingLink(t){return this.Ok.isInCache(t)}rewriteAnchorUrl(t){const n=this.getReplacementUrl(t);return!(!n||n===t.href||(t.setAttribute(J,t.href),t.href=n,setTimeout((()=>{t.href=t.getAttribute(J),t.removeAttribute(J)}),this.yk),0))}onDomUpdated(){return new Promise((t=>{!function(t,n,i){if(Q)return void X.then(n);const s=function(t){return function(t,n,i,s){const r=k(t);!function(t,n,i,s,r,e){const o=T(t);let c=o[i];c||(c=o[i]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),c.ctor||(c.ctor=s,c.context=n,c.sharedInstance=!1,c.resolve&&g(t,i))}(P(r),r,n,i)}(t,"chunk",it),p(t,"chunk")}(t);s.run(n,i)}(this.Rc.nodeType==Node.DOCUMENT_NODE?this.Rc.documentElement:this.Rc,(()=>this.jk().then((()=>{this.events.fire({type:q}),t()}))),10)}))}jk(){const t=this.xk(),n=this.Sk(t);if(this.Ok.updateLinkList(t),!n.length)return d();this.Ok.updateReplacementUrls(n.map((t=>({anchor:t,replacementUrl:null}))));const i=this.Vk(n);return f(i instanceof b,'Invalid response from provided "resolveUnknownLinks" function."resolveUnknownLinks" should return an instance of TwoStepsResponse'),i.syncResponse&&this.Ok.updateReplacementUrls(i.syncResponse),i.asyncResponse?i.asyncResponse.then((t=>{this.Ok.updateReplacementUrls(t)})):d()}Sk(t){const n=[];return t.forEach((t=>{this.isWatchingLink(t)||n.push(t)})),n}xk(){const t=this.Rc.querySelectorAll(this.Uk);return[].slice.call(t)}}(this.Rc,t,n,i);return this.Nk(this.Ek,s,this.Rk),s.onDomUpdated(),s}maybeRewriteLink(t,n){const i=this.Ck(t);if(i.length){let s=null;for(let n=0;n<i.length;n++)if(i[n].rewriteAnchorUrl(t)){s=i[n];break}const r={linkRewriterId:s?s.id:null,anchor:t,clickType:n.type};i.forEach((t=>{const n={type:z,eventData:r};t.events.fire(n)}))}}bk(t){const n=t.getMetaByName("amp-link-rewriter-priorities");return n?n.trim().split(/\s+/):[]}Mk(t){t.addEventListener("amp:dom-update",this.Dk.bind(this))}Dk(){this.Ek.forEach((t=>{t.onDomUpdated()}))}qk(t){const n=t.hasAttribute("data-link-rewriters")?t.getAttribute("data-link-rewriters").trim():null;return n?n.split(/\s+/):[]}Nk(t,n,i){return t.push(n),t.sort(((t,n)=>{const s=i.indexOf(t.id),r=i.indexOf(n.id);return-1===s&&-1===r?0:-1===s?1:-1===r?-1:s>r?1:-1})),t}Ck(t){const n=this.qk(t);return this.Ek.reduce(((i,s)=>(s.isWatchingLink(t)&&this.Nk(i,s,n),i)),[])}}(this.OI),this.kk=(t=this.element,n=this._k,{pubcode:et(t),excludedDomains:rt(t,ht(n)),tracking:ot(t),customTrackingId:ct(t),linkSelector:ut(t),waypointBaseUrl:at(t),config:lt(t)}),this.OI.waitForBodyOpen().then((()=>this.Fe.getReferrerUrl())).then((t=>{this.RI=t,this.zk()}))}zk(){this.Pk=this.Jk(),this.Tk=new class{constructor(t,n,i,s){this.t_=i,this.Fk=s,this.Bk=R(t).canonicalUrl,this.Gk=`${(new Date).getTimezoneOffset()}`,this.kk=n}getAffiliateUrl(t){if(!t)return null;const{customTrackingId:n,guid:i,pageImpressionId:r,pubcode:e}=this.t_.getTrackingInfo(),o=t.getAttribute(j)||n,c={"id":e,"url":t.href,"sref":this.Bk,"pref":this.Fk,"xguid":i,"xuuid":r,"xtz":this.Gk,"xs":"1","jv":x};return o&&(c.xcust=o),function(t,n,i){if(!n)return t;const s=t.split("#",2),r=s[0].split("?",2);let e=r[0]+(r[1]?`?${r[1]}&${n}`:`?${n}`);return e+=s[1]?`#${s[1]}`:"",e}(this.kk.waypointBaseUrl,function(t){const n=[];for(const o in t){let c=t[o];if(null!=c){c=s(e=c)?e:[e];for(let t=0;t<c.length;t++)n.push((i=o,r=c[t],`${encodeURIComponent(i)}=${encodeURIComponent(r)}`))}}var i,r,e;return n.join("&")}(c))}}(this.OI,this.kk,this.Pk,this.RI),this.Ik=new class{constructor(t,n,i){this.NR=t,this.kk=n,this.Tk=i,this.Wk={},this.firstRequest=null}fetchDomainResolverApi(t){const n={"pubcode":this.kk.pubcode,"page":"","domains":t};let{beaconUrl:i}=this.kk.config;return i=`${i}?data=${JSON.stringify(n)}`,this.NR.fetchJson(i,{method:"GET",ampCors:!1,credentials:"include"}).then((t=>t.json()))}resolveUnknownAnchors(t){const n=this.Zk(t);let i=null;const s=this.Hk(t);if(s.length){this.Kk(s);const n=this.Sk(t,s);i=this.Qk(n,s)}return new b(n,i)}Zk(t){return t.map((t=>{let n=null;const i=this.Xk(this.Yk(t));return(i===O||i===$)&&(n=this.Tk.getAffiliateUrl(t)),{anchor:t,replacementUrl:n}}))}Xk(t){return U(t,this.kk)?L:this.Wk[t]||$}Hk(t){return t.reduce(((t,n)=>{const i=this.Yk(n),s=this.Wk[i],r=U(i,this.kk),e=-1!==t.indexOf(i);return s||r||e||t.push(i),t}),[])}Kk(t){t.forEach((t=>{this.Wk[t]||(U(t,this.kk)&&(this.Wk[t]=L),this.Wk[t]=$)}))}Sk(t,n){return t.filter((t=>{const i=this.Yk(t);return-1!==n.indexOf(i)}))}Qk(t,n){const i=this.fetchDomainResolverApi(n);return this.firstRequest||(this.firstRequest=i),i.then((i=>{const s=i.merchant_domains||[];return this.xI(n,s),this.Zk(t)}))}xI(t,n){t.forEach((t=>{const i=-1!==n.indexOf(t);this.Wk[t]=i?O:"non-affiliate"}))}Yk(t){return V(t)}}(this.NR,this.kk,this.Tk),this.wk=this.DI()}qI(t){this.Pk.setTrackingInfo({guid:t.guid}),this.OI.whenFirstVisible().then((()=>{this.Pk.sendImpressionTracking(this.wk.getAnchorReplacementList())}))}zI(){return(this.Ik.firstRequest||this.Ik.fetchDomainResolverApi([])).then(this.qI.bind(this))}DI(){const t={linkSelector:this.kk.linkSelector},n=this.Ak.registerLinkRewriter(S,(t=>this.Ik.resolveUnknownAnchors(t)),t),s={[q]:i(this.zI.bind(this)),[z]:this.XR.bind(this)};return n.events.add((t=>{const n=s[t.type];n&&n(t.eventData)})),n}Jk(){return this.signals().signal(n),new class{constructor(t,n,i){this.t_=n.tracking,this.JI={customTrackingId:n.customTrackingId,guid:null,pageImpressionId:E(),pageUrl:"CANONICAL_URL",pubcode:n.pubcode,referrer:i,timezone:"TIMEZONE"},this.kk=n,this.BI=this.GI(t)}getTrackingInfo(){return this.JI}setTrackingInfo(t){Object.assign(this.JI,t)}sendImpressionTracking(t){if(!this.t_)return;const{guid:n,pageImpressionId:i,pageUrl:s,pubcode:r,timezone:e}=this.JI,o={"pub":r,"pag":s,"guid":n,"uuid":i,"tz":e,"jv":x},{numberAffiliateLinks:c,urls:u}=this.WI(t);this.ZI(o,c),this.HI(o,c,u)}sendNaClickTracking(t){if(!this.t_||y(t,this.kk))return;const{customTrackingId:n,pageImpressionId:i,pageUrl:s,pubcode:r,referrer:e,timezone:o}=this.JI,c={"pubcode":r,"referrer":s,"pref":e,"site":"false","url":t.href,"custom":t.getAttribute(j)||n,"xtz":o,"uuid":i,"product":"1","jv":x};this.BI.trigger(_t,{"data":JSON.stringify(c),"rnd":"RANDOM"})}ZI(t,n){const{customTrackingId:i,referrer:s}=this.JI,r=G({"slc":n,"jsl":0,"pref":s,"uc":i,"t":1},t);this.BI.trigger(ft,{"data":JSON.stringify(r)})}HI(t,n,i){if(0===n)return;const s=G({"dl":i,"hae":n?1:0,"typ":"l"},t);this.BI.trigger(dt,{"data":JSON.stringify(s)})}GI(t){const i=new class{constructor(t){this.qt=t,this.KI={"requests":{},"triggers":{}}}setTransportConfig(t){this.KI.transport=t}setExtraUrlParams(t){this.KI.extraUrlParams=t}track(t,n){n=s(n)?n:[n],l(!this.KI.triggers[t]);const i=[];for(let s=0;s<n.length;s++){const r=`${t}-request-${s}`;this.KI.requests[r]=n[s],i.push(r)}return this.KI.triggers[t]={"on":t,"request":i},this}build(){l(this.KI);const t=new class{constructor(t,i){l(i.triggers),this.di=t.getResourceId(),this.qt=t,this.KI=i;for(const t in i.triggers){const n=i.triggers[t].on;l(n);const s=this.QI(n);i.triggers[t].on=s}this.qt.signals().whenSignal(n).then((()=>{!function(t,n,i=!1,s=!1){const r=t.ownerDocument,e=c(r,"amp-analytics",{"sandbox":"true","trigger":s?"":"immediate"}),u=c(r,"script",{"type":"application/json"});if(u.textContent=JSON.stringify(n),e.appendChild(u),e.CONFIG=n,i){const n=_(o(t),"extensions"),i=k(t);n.installExtensionForDoc(i,"amp-analytics")}else w(t).then((t=>{l(t)}));t.appendChild(e)}(this.qt,i,!0)}))}trigger(t,n){l(this.KI.triggers[t]),function(t,n,i={},s=!0){w(t).then((r=>{r&&r.triggerEventForTarget(t,n,i,s)}))}(this.qt,this.QI(t),n,!1)}QI(t){return`sandbox-${this.di}-${t}`}}(this.qt,this.KI);return this.KI=null,t}}(t),{linksTrackingUrl:r,nonAffiliateTrackingUrl:e,pageTrackingUrl:u}=this.kk.config;return i.track(ft,u),i.track(dt,r),i.track(_t,e),i.setTransportConfig({"beacon":!0,"image":!0,"xhrpost":!1}),i.build()}WI(t){let n=0;const i={};return t.forEach((t=>{const{anchor:s,replacementUrl:r}=t,e=y(s,this.kk);Boolean(r)&&!e&&(i[s.href]=i[s.href]||{"ae":1,"count":0},i[s.href].count+=1,n+=1)})),{numberAffiliateLinks:n,urls:i}}}(this.element,this.kk,this.RI)}XR(t){t.linkRewriterId!==S&&"contextmenu"!==t.clickType&&this.Pk.sendNaClickTracking(t.anchor)}isLayoutSupported(){return!0}};t.registerElement("amp-skimlinks",pt)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-skimlinks-0.1.mjs.map