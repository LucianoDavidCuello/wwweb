;
(self.AMP=self.AMP||[]).push({m:1,v:"2205120110001",n:"amp-springboard-player",ev:"0.1",l:!0,f:function(t,e){(()=>{var{isArray:e}=Array,{hasOwnProperty:i,toString:n}=Object.prototype;function r(t,e){t.classList.add("i-amphtml-fill-content"),e&&t.classList.add("i-amphtml-replaced-content")}function s(t){const e=Object.getOwnPropertyDescriptor(t,"message");if(null!=e&&e.writable)return t;const{message:i,stack:n}=t,r=new Error(i);for(const e in t)r[e]=t[e];return r.stack=n,r}function o(t){let e=null,i="";for(const t of arguments)t instanceof Error&&!e?e=s(t):(i&&(i+=" "),i+=t);return e?i&&(e.message=i+": "+e.message):e=new Error(i),e}function a(t){var e,i;null===(e=(i=self).__AMP_REPORT_ERROR)||void 0===e||e.call(i,t)}function l(t,...e){try{return t.apply(null,e)}catch(t){!function(t){const e=o.apply(null,arguments);setTimeout((()=>{throw a(e),e}))}(t)}}var c={"getPropertyPriority":()=>"","getPropertyValue":()=>""},h=/vertical/,u=new WeakMap,f=new WeakMap,p=new WeakMap;function d(t){let e=u.get(t);return e||(e=new t.ResizeObserver(m),u.set(t,e)),e}function m(t){const e=new Set;for(let i=t.length-1;i>=0;i--){const n=t[i],{target:r}=n;if(e.has(r))continue;e.add(r);const s=f.get(r);if(s){p.set(r,n);for(let t=0;t<s.length;t++){const{callback:e,type:i}=s[t];b(i,e,n)}}}}function b(t,e,i){if(0==t){const{contentRect:t}=i,{height:n,width:r}=t;l(e,{width:r,height:n})}else if(1==t){const{borderBoxSize:t}=i;let r;if(t)r=t.length>0?t[0]:{inlineSize:0,blockSize:0};else{const{target:t}=i,e=((n=t).ownerDocument||n).defaultView,s=h.test(function(t,e){return t.getComputedStyle(e)||c}(e,t).writingMode),{offsetHeight:o,offsetWidth:a}=t;let l,u;s?(u=a,l=o):(l=a,u=o),r={inlineSize:l,blockSize:u}}l(e,r)}var n}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var g=self.__AMP_LOG;function y(t){return function(t,e){throw new Error("failed to call initLogConstructor")}()}function w(t,e,i,n,r,s,o,a,l,c,h){return t}function v(t,e,i,n,r,s,o,a,l,c,h){return(g.user||(g.user=y()),void g.user.win?g.userForEmbed||(g.userForEmbed=y()):g.user).assert(t,e,i,n,r,s,o,a,l,c,h)}var k=t=>{return e="preconnect",function(t,e){w(function(t,e){const i=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!i||!i.ctor)}(t,e));const i=function(t){let e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}(t)[e];return i.obj||(w(i.ctor),w(i.context),i.obj=new i.ctor(i.context),w(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}(function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),e);var e},C=class extends t.BaseElement{constructor(t){super(t),this.Gv="",this.yM="",this.eS="",this.fk="",this.bv="",this.eb=null,this.bf=new class{constructor(t){this._f=t,this.gf=!1,this.Pf=!1,this.Af=this.Af.bind(this)}updatePlaying(t){t!==this.gf&&(this.gf=t,t?(this.Pf=!1,function(t,e){!function(t,e,i){const n=t.ownerDocument.defaultView;if(!n)return;let r=f.get(t);if(r||(r=[],f.set(t,r),d(n).observe(t)),!r.some((t=>t.callback===i&&1===t.type))){r.push({type:1,callback:i});const e=p.get(t);e&&setTimeout((()=>b(1,i,e)))}}(t,0,e)}(this._f,this.Af)):function(t,e){!function(t,e,i){const n=f.get(t);if(n&&(function(t,e){const n=[];let r=0;for(let e=0;e<t.length;e++){const o=t[e];(s=o).callback===i&&1===s.type?n.push(o):(r<e&&(t[r]=o),r++)}var s;r<t.length&&(t.length=r)}(n),0==n.length)){f.delete(t),p.delete(t);const e=t.ownerDocument.defaultView;e&&d(e).unobserve(t)}}(t,0,e)}(this._f,this.Af))}Af({blockSize:t,inlineSize:e}){const i=e>0&&t>0;if(i===this.Pf)return;this.Pf=i;const n=this._f;i||n.pause()}}(this.element)}preconnectCallback(t){k(this.win).url(this.getAmpDoc(),"https://cms.springboardplatform.com",t),k(this.win).url(this.getAmpDoc(),"https://www.springboardplatform.com",t)}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}buildCallback(){this.element.classList.add("i-amphtml-media-component"),this.Gv=v(this.element.getAttribute("data-mode"),"The data-mode attribute is required for <amp-springboard-player> %s",this.element),this.yM=v(this.element.getAttribute("data-content-id"),"The data-content-id attribute is required for<amp-springboard-player> %s",this.element),this.eS=v(this.element.getAttribute("data-domain"),"The data-domain attribute is required for <amp-springboard-player> %s",this.element),this.fk=v(this.element.getAttribute("data-site-id"),"The data-site-id attribute is required for<amp-springboard-player> %s",this.element),this.bv=v(this.element.getAttribute("data-player-id"),"The data-player-id attribute is required for<amp-springboard-player> %s",this.element)}layoutCallback(){const t=this.element.ownerDocument.createElement("iframe"),e=this.element.getAttribute("data-items")||"10";return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.id=this.bv+"_"+this.yM,t.src="https://cms.springboardplatform.com/embed_iframe/"+encodeURIComponent(this.fk)+"/"+encodeURIComponent(this.Gv)+"/"+encodeURIComponent(this.yM)+"/"+encodeURIComponent(this.bv)+"/"+encodeURIComponent(this.eS)+"/"+encodeURIComponent(e),r(t),this.eb=t,this.element.appendChild(t),this.bf.updatePlaying(!0),this.loadPromise(t)}unlayoutCallback(){const t=this.eb;return t&&(this.element.removeChild(t),this.eb=null),this.bf.updatePlaying(!1),!0}pauseCallback(){this.eb&&this.eb.contentWindow&&this.eb.contentWindow.postMessage("ampPause","*")}createPlaceholderCallback(){const t=this.win.document.createElement("img");return function(t,i,n,r){const s=e(o=["aria-label"])?o:[o];var o;for(const t of s){const e=i.getAttribute(t);null!==e&&n.setAttribute(t,e)}}(0,this.element,t),r(t),t.setAttribute("placeholder",""),t.setAttribute("referrerpolicy","origin"),t.hasAttribute("aria-label")?t.setAttribute("alt","Loading video - "+t.getAttribute("aria-label")):t.setAttribute("alt","Loading video"),t.setAttribute("src","https://www.springboardplatform.com/storage/"+("playlist"==this.Gv?"default/snapshots/default_snapshot.png":`${encodeURIComponent(this.eS)}/snapshots/${encodeURIComponent(this.yM)}.jpg`)),t}};t.registerElement("amp-springboard-player",C)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-springboard-player-0.1.mjs.map