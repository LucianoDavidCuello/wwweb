;
(self.AMP=self.AMP||[]).push({m:1,v:"2205120110001",n:"amp-story-auto-analytics",ev:"0.1",l:!0,f:function(t,e){(()=>{var e,{hasOwnProperty:n,toString:o}=Object.prototype;function s(t,e,n,o,s,r,a,i,c,p,l){return t}function r(t){return function(t,e){s(1===e.length),t.innerHTML=e[0];const n=t.firstElementChild;return s(n),s(!n.nextElementSibling),t.removeChild(n),n}(e,t)}function a(t,e,n,o,s,r,a,i,c,p,l){return t}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG;var i=t=>function(t,e){return function(t,e){a(function(t,e){const n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}(t,e));const n=function(t){let e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}(t)[e];return n.obj||(a(n.ctor),a(n.context),n.obj=new n.ctor(n.context),a(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),e)}(t,"extensions"),c=["<amp-analytics data-credentials=include type=gtag><script type=application/json><\/script></amp-analytics>"],p=class extends t.BaseElement{constructor(t){super(t)}buildCallback(){i(this.win).installExtensionForDoc(this.getAmpDoc(),"amp-analytics");const t=function(t){const n=t.ownerDocument||t;return e&&e.ownerDocument===n||(e=n.createElement("div")),r}(this.element)(c),n=t.querySelector("script"),o={"vars":{"gtag_id":s=a(this.element.getAttribute("gtag-id")),"config":{[s]:{"groups":"default"}}},"triggers":{"storyPageCount":{"on":"story-content-loaded","vars":{"event_name":"custom","event_action":"story_page_count","event_category":"${title}","event_label":"${storyPageCount}","send_to":[s]},"storySpec":{"repeat":!1}},"storyEnd":{"on":"story-last-page-visible","vars":{"event_name":"custom","event_action":"story_complete","event_category":"${title}","event_label":"${title}","send_to":[s]},"storySpec":{"repeat":!1}},"storyPageIndex":{"on":"story-page-visible","vars":{"event_name":"custom","event_action":"story_pages_viewed","event_category":"${title}","event_label":"${storyPageIndex}","send_to":[s]},"storySpec":{"repeat":!1}},"storyShoppingTagClick":{"on":"story-shopping-tag-click","vars":{"event_name":"custom","event_action":"story_shopping_tag_click","event_category":"${title}","event_label":"${storyShoppingProductId}","send_to":[s]}},"storyShoppingPLPView":{"on":"story-shopping-plp-view","vars":{"event_name":"custom","event_action":"story_shopping_plp_view","event_category":"${title}","event_label":"${storyPageId}","send_to":[s]}},"storyShoppingPDPView":{"on":"story-shopping-pdp-view","vars":{"event_name":"custom","event_action":"story_shopping_pdp_view","event_category":"${title}","event_label":"${storyShoppingProductId}","send_to":[s]}},"storyShoppingBuyNowClick":{"on":"story-shopping-buy-now-click","vars":{"event_name":"custom","event_action":"story_shopping_buy_now_click","event_category":"${title}","event_label":"${storyShoppingProductId}","send_to":[s]}}}};var s;n.textContent=JSON.stringify(o),this.element.appendChild(t)}isLayoutSupported(t){return!0}};t.registerElement("amp-story-auto-analytics",p)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-story-auto-analytics-0.1.mjs.map