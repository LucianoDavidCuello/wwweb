;
(self.AMP=self.AMP||[]).push({m:1,v:"2205120110001",n:"amp-ad-network-fake-impl",ev:"0.1",l:!0,f:function(t,e){(()=>{function e(t,e){const i=t.length-e.length;return i>=0&&t.indexOf(e,i)==i}function i(t,e,i){return"number"!=typeof i&&(i=0),!(i+e.length>t.length)&&-1!==t.indexOf(e,i)}function s(t,e,i){if(t.length>=e)return t;e-=t.length;let s=i;for(;e>s.length;)s+=i;return s.slice(0,e)+t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var{isArray:a}=Array;function h(t,e){const i=t.indexOf(e);return-1!=i&&(t.splice(i,1),!0)}var{hasOwnProperty:l,toString:c}=Object.prototype;function u(t){return"[object Object]"===c.call(t)}function d(t){const e=Object.create(null);return t&&Object.assign(e,t),e}function p(t,e){return l.call(t,e)}function m(t){return 1==(null==t?void 0:t.nodeType)}function f(t){return"number"==typeof t&&isFinite(t)}function T(t){return t.indexOf("​​​")>=0}function A(t,e,i,s,n,r,o,a,h,l,c){return t}function _(t,e){return t}function g(t){return JSON.parse(t)}function E(t,e){try{return g(t)}catch(t){return null==e||e(t),null}}var R=["javascript:","data:","vbscript:"],v=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function I(t,e=""){try{return decodeURIComponent(t)}catch(t){return e}}function y(t){const e=d();if(!t)return e;let i;for(;i=v.exec(t);){const t=I(i[1],i[1]),s=i[2]?I(i[2].replace(/\+/g," "),i[2]):"";e[t]=s}return e}function b(t){const{location:e}=t||self;return y(e.originalHash||e.hash)}function P(t){const e=Object.getOwnPropertyDescriptor(t,"message");if(null!=e&&e.writable)return t;const{message:i,stack:s}=t,n=new Error(i);for(const e in t)n[e]=t[e];return n.stack=s,n}function N(t){let e=null,i="";for(const t of arguments)t instanceof Error&&!e?e=P(t):(i&&(i+=" "),i+=t);return e?i&&(e.message=i+": "+e.message):e=new Error(i),e}function C(t){var e,i;null===(e=(i=self).__AMP_REPORT_ERROR)||void 0===e||e.call(i,t)}function w(t){const e=N.apply(null,arguments);setTimeout((()=>{throw C(e),e}))}var S="";function O(t){const e=t||self;return e.__AMP_MODE?e.__AMP_MODE:e.__AMP_MODE=function(t){return{localDev:!1,development:D(t,b(t)),esm:!0,test:!1,rtvVersion:M(t)}}(e)}function M(t){var e;return S||(S=(null===(e=t.AMP_CONFIG)||void 0===e?void 0:e.v)||"012205120110001"),S}function D(t,e){const i=e||b(t);return["1","actions","amp","amp4ads","amp4email"].includes(i.development)||!!t.AMP_DEV_MODE}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var V,x=self.__AMP_LOG;function U(t,e){throw new Error("failed to call initLogConstructor")}function k(t){return x.user||(x.user=L()),function(t,e){return e&&e.ownerDocument.defaultView!=t}(x.user.win,t)?x.userForEmbed||(x.userForEmbed=L()):x.user}function L(t){return U()}function G(){return x.dev||(x.dev=U())}function F(t,e,i,s,n,r,o,a,h,l,c){return t}function $(t,e,i,s,n,r,o,a,h,l,c){return k().assert(t,e,i,s,n,r,o,a,h,l,c)}function H(){return V||(V=Promise.resolve(void 0))}var j=class{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}};function z(t){return new Promise((e=>{e(t())}))}function B(t){return(t.ownerDocument||t).defaultView}function K(t,e,i,s){const n=Z(t),r=tt(n);it(r,n,e,i),s&&et(r,e)}function W(t,e){return et(t=Q(t),e)}function q(t,e){return et(tt(Z(t)),e)}function Y(t,e){const i=tt(Z(t));return ht(i,e)?et(i,e):null}function J(t,e){return function(t,e){const i=st(t,e);if(i)return i;const s=nt(t);return s[e]=function(){const t=new j,{promise:e,reject:i,resolve:s}=t;return e.catch((()=>{})),{obj:null,promise:e,resolve:s,reject:i,context:null,ctor:null}}(),s[e].promise}(tt(t),e)}function X(t,e){return st(tt(t),e)}function Q(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function Z(t){return t.nodeType?(e=B(t),W(e,"ampdoc")).getAmpDoc(t):t;var e}function tt(t){const e=Z(t);return e.isSingleDoc()?e.win:e}function et(t,e){F(ht(t,e));const i=nt(t)[e];return i.obj||(F(i.ctor),F(i.context),i.obj=new i.ctor(i.context),F(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function it(t,e,i,s,n,r){const o=nt(t);let a=o[i];a||(a=o[i]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:r||!1}),!n&&a.ctor||(a.ctor=s,a.context=e,a.sharedInstance=r||!1,a.resolve&&et(t,i))}function st(t,e){const i=nt(t)[e];return i?i.promise?i.promise:(et(t,e),i.promise=Promise.resolve(i.obj)):null}function nt(t){let e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}function rt(t){return"function"==typeof t.dispose}function ot(t,e){if(rt(e))try{(function(t){return F(rt(t)),t})(e).dispose()}catch(e){G().error("SERVICE","failed to dispose service",t,e)}}function at(t,e){const i=et(tt(F(t.getParent())),e);it(tt(t),t,e,(function(){return i}),!1,!0)}function ht(t,e){const i=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!i||!i.ctor)}var lt="amp-experiment-toggles",ct="__AMP__EXPERIMENT_TOGGLES";function ut(t){var e;return!(null===(e=t.AMP_CONFIG)||void 0===e||!e.canary)}function dt(t,e){return!!pt(t)[e]}function pt(t){var e,i,s,n,r;if(t[ct])return t[ct];t[ct]=d();const h=t[ct];A(h);const l=o(o({},null!==(e=t.AMP_CONFIG)&&void 0!==e?e:{}),null!==(i=t.AMP_EXP)&&void 0!==i?i:g((null===(s=t.__AMP_EXP)||void 0===s?void 0:s.textContent)||"{}"));for(const t in l){const e=l[t];"number"==typeof e&&e>=0&&e<=1&&(h[t]=Math.random()<e)}const c=null===(n=t.AMP_CONFIG)||void 0===n?void 0:n["allow-doc-opt-in"];if(a(c)&&c.length){const e=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(e){var u;const t=(null===(u=e.getAttribute("content"))||void 0===u?void 0:u.split(","))||[];for(const e of t)c.includes(e)&&(h[e]=!0)}}Object.assign(h,mt(t));const p=null===(r=t.AMP_CONFIG)||void 0===r?void 0:r["allow-url-opt-in"];if(a(p)&&p.length){const e=y(t.location.originalHash||t.location.hash);for(const t of p){const i=e[`e-${t}`];"1"==i&&(h[t]=!0),"0"==i&&(h[t]=!1)}}return h}function mt(t){var e;let i="";try{var s;"localStorage"in t&&(i=null!==(s=t.localStorage.getItem(lt))&&void 0!==s?s:"")}catch(t){}const n=(null===(e=i)||void 0===e?void 0:e.split(/\s*,\s*/g))||[],r=d();for(const t of n)t&&("-"==t[0]?r[t.substr(1)]=!1:r[t]=!0);return r}var ft=(()=>self.AMP.config.urls)(),Tt={"google":"https://cdn.ampproject.org/amp-ad-verifying-keyset.json","google-dev":"https://cdn.ampproject.org/amp-ad-verifying-keyset-dev.json"},At={SUFFICIENT:1,INSUFFICIENT:2,UNKNOWN_NOT_REQUIRED:3,UNKNOWN:4};function _t(t,e){return t.closest(e)}var gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Et=/(&|<|>|"|'|`)/g;function Rt(t){var e;null===(e=t.parentElement)||void 0===e||e.removeChild(t)}function vt(t,e,i){return function(t,e){for(const i in e)t.setAttribute(i,e[i]);return t}(t.createElement(e),i)}function It(t,e){let i=t;do{if(i.nextSibling)return!0}while((i=i.parentNode)&&i!=e);return!1}function yt(t){return t?t.replace(Et,bt):t}function bt(t){return gt[t]}function Pt(t){try{t.focus()}catch(t){}}function Nt(t){return t.parent&&t.parent!=t}var Ct="fluid";function wt(t){const e=parseFloat(t);return f(e)?e:void 0}function St(t,e){t.classList.add("i-amphtml-fill-content"),e&&t.classList.add("i-amphtml-replaced-content")}function Ot(t,e,i,s){return{left:t,top:e,width:i,height:s,bottom:e+s,right:t+i,x:t,y:e}}function Mt(t,e,i){return 0==e&&0==i||0==t.width&&0==t.height?t:Ot(t.left+e,t.top+i,t.width,t.height)}function Dt(t,e,i={}){const{needsRootBounds:s,rootMargin:n,threshold:r}=i,o=Nt(e)&&(s||n)?e.document:void 0;return new e.IntersectionObserver(t,{threshold:r,root:o,rootMargin:n})}var Vt,xt=new WeakMap,Ut=new WeakMap;function kt(t){const e=new Set;for(let i=t.length-1;i>=0;i--){const s=t[i],{target:n}=s;if(e.has(n))continue;e.add(n);const r=Ut.get(n);if(r)for(let t=0;t<r.length;t++)(0,r[t])(s)}}function Lt(t){return{"time":t.time,"rootBounds":Gt(t.rootBounds),"boundingClientRect":Gt(t.boundingClientRect),"intersectionRect":Gt(t.intersectionRect),"intersectionRatio":t.intersectionRatio}}function Gt(t){return null===t?null:function(t){return Ot(Number(t.left),Number(t.top),Number(t.width),Number(t.height))}(t)}var Ft=["Webkit","webkit","Moz","moz","ms","O","o"],$t={"getPropertyPriority":()=>"","getPropertyValue":()=>""};function Ht(t){const e=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return Ft.some((t=>e.startsWith(t+"-")))?`-${e}`:e}function jt(t,e,i){if(e.startsWith("--"))return e;Vt||(Vt=d());let s=Vt[e];if(!s||i){if(s=e,void 0===t[e]){const i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e),n=function(t,e){for(let i=0;i<Ft.length;i++){const s=Ft[i]+e;if(void 0!==t[s])return s}return""}(t,i);void 0!==t[n]&&(s=n)}i||(Vt[e]=s)}return s}function zt(t,e){const{style:i}=t;for(const t in e)i.setProperty(Ht(jt(i,t)),String(e[t]),"important")}function Bt(t,e,i,s,n){const r=jt(t.style,e,n);if(!r)return;const o=s?i+s:i;t.style.setProperty(Ht(r),o)}function Kt(t,e){for(const i in e)Bt(t,i,e[i])}function Wt(t,e){void 0===e&&(e=t.hasAttribute("hidden")),e?t.removeAttribute("hidden"):t.setAttribute("hidden","")}function qt(t){return`${t}px`}function Yt(t,e){return t.getComputedStyle(e)||$t}function Jt(t,e){for(let i=0;i<e.length;i++)Bt(t,e[i],null)}function Xt(t){if("undefined"!=typeof TextDecoder)return new TextDecoder("utf-8").decode(t);const e=function(t){const e=new Array(t.length);for(let i=0;i<t.length;i++)e[i]=String.fromCharCode(t[i]);return e.join("")}(new Uint8Array(t.buffer||t));return decodeURIComponent(escape(e))}function Qt(t){if(!t)return null;const e=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i),i=e?e[2]:void 0,s=e?e[3]:void 0;return i&&s?{extensionId:i,extensionVersion:s}:null}function Zt(t,e,i,s){const n=X(t,e);if(n)return n;const r=Z(t);return r.whenExtensionsKnown().then((()=>{const t=r.getExtensionVersion(i);return t?W(r.win,"extensions").waitForExtension(i,t):null})).then((i=>i?s?X(t,e):J(t,e):null))}function te(t,e,i){const s=Y(t,e);return s?Promise.resolve(s):Zt(t,e,i)}var ee,ie=t=>Y(t,"action"),se=t=>Z(t),ne=t=>W(t,"ampdoc"),re=t=>Zt(t,"amp-analytics-instrumentation","amp-analytics"),oe=t=>W(t,"crypto"),ae=t=>q(t,"documentInfo").get(),he=t=>W(t,"extensions"),le=t=>q(t,"history"),ce=t=>q(t,"mutator"),ue=t=>W(t,"platform"),de=t=>W(t,"preconnect"),pe=t=>q(t,"resources"),me=t=>et(t,"timer"),fe=t=>Y(t,"url-replace"),Te=t=>Zt(t,"consentPolicyManager","amp-consent"),Ae=t=>Y(t,"url"),_e=t=>q(t,"viewer"),ge=t=>W(t,"vsync"),Ee=t=>q(t,"viewport"),Re=t=>W(t,"xhr"),ve=JSON.parse('{"admax":{"url":"https://prebid.admaxmedia.io/openrtb2/amp?tag_id=PLACEMENT_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adcid=ADCID&purl=HREF&gdpr_consent=CONSENT_STRING&account=ACCOUNT_ID","macros":["PLACEMENT_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"adpushup":{"url":"https://amp.adpushup.com/prebidserver/openrtb2/amp?tag_id=TAG_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&curl=CANONICAL_URL&gdpr_consent=CONSENT_STRING&adc=ADCID&purl=HREF","macros":["TAG_ID","CONSENT_STRING"],"disableKeyAppend":true},"andbeyond":{"url":"https://prebid.andbeyond.media/amp.php?tag_id=TAG_ID","macros":["TAG_ID"],"disableKeyAppend":true},"aps":{"url":"https://aax.amazon-adsystem.com/e/dtb/bid?src=PUB_ID&pubid=PUB_UUID&amp=1&u=CANONICAL_URL&slots=%5B%7B%22sd%22%3A%22ATTR(data-slot)%22%2C%22s%22%3A%5B%22ATTR(width)xATTR(height)%22%5D%2C%22ms%22%3A%22ATTR(data-multi-size)%22%7D%5D&pj=PARAMS&gdprc=CONSENT_STRING","macros":["PUB_ID","PARAMS","PUB_UUID","CONSENT_STRING"],"disableKeyAppend":true},"automatad":{"url":"https://pbs01.automatad.com/openrtb2/amp?tag_id=TAG_ID","macros":["TAG_ID"],"disableKeyAppend":true},"browsi":{"url":"https://amp.browsiprod.com/predict?pvid=PAGEVIEWID_64&ot=ELEMENT_POS&ul=SCROLL_TOP&pl=PAGE_HEIGHT&bks=BKG_STATE&pk=PUB_KEY&sk=SITE_KEY&h=ATTR(height)&adix=ATTR(data-amp-slot-index)&ref=REFERRER&url=HREF","macros":["PUB_KEY","SITE_KEY"],"errorReportingUrl":"https://events.browsiprod.com/events/amp?e=ERROR_TYPE&h=HREF&et=predict_error","disableKeyAppend":true},"criteo":{"url":"https://bidder.criteo.com/amp/rtc?zid=ZONE_ID&nid=NETWORK_ID&psubid=PUBLISHER_SUB_ID&lir=LINE_ITEM_RANGES&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&timeout=TIMEOUT&curl=CANONICAL_URL&href=HREF&cst=CONSENT_STATE&cst_str=CONSENT_STRING&cst_type=CONSENT_METADATA(consentStringType)&cst_gdpr_applies=CONSENT_METADATA(gdprApplies)","macros":["ZONE_ID","NETWORK_ID","PUBLISHER_SUB_ID","LINE_ITEM_RANGES","CONSENT_STATE","CONSENT_STRING"],"disableKeyAppend":true},"freestar":{"url":"https://prebid-amp.pub.network/openrtb2/amp?tag_id=TAG_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF&gdpr_consent=CONSENT_STRING&account=ACCOUNT_ID","macros":["TAG_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"future":{"url":"https://ads.servebom.com/amp?adunit=ADUNIT&gdpr_consent=CONSENT_STRING","macros":["ADUNIT","CONSENT_STRING"],"disableKeyAppend":true},"glxm":{"url":"https://pbserver.galaxiemedia.fr/openrtb2/amp?tag_id=REQUEST_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF&gdpr_consent=CONSENT_STRING&account=ACCOUNT_ID","macros":["REQUEST_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"highfivve":{"url":"https://prebid-server.h5v.eu/openrtb2/amp?tag_id=TAG_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF&gdpr_consent=CONSENT_STRING&account=ACCOUNT_ID","macros":["TAG_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"hubvisor":{"url":"https://pbs.hubvisor.io/openrtb2/amp?tag_id=PLACEMENT_ID&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adcid=ADCID&purl=HREF&gdpr_consent=CONSENT_STRING","macros":["PLACEMENT_ID","CONSENT_STRING"],"disableKeyAppend":true},"indexexchange":{"url":"https://amp.casalemedia.com/amprtc?v=1&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&s=SITE_ID&p=CANONICAL_URL&consent_state=CONSENT_STATE&consent_string=CONSENT_STRING","macros":["SITE_ID","CONSENT_STATE","CONSENT_STRING"],"disableKeyAppend":true},"kargo":{"url":"https://krk.kargo.com/api/v1/amprtc?slot=SLOT_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&pslot=ATTR(data-slot)&pvid=PAGEVIEWID&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&acid=ADCID&purl=HREF","macros":["SLOT_ID"],"errorReportingUrl":"https://krk.kargo.com/api/v1/event/amprtc-error?error_type=ERROR_TYPE&url=HREF","disableKeyAppend":true},"lotame":{"url":"https://ad.crwdcntrl.net/5/pe=y/c=CLIENT_ID/an=AD_NETWORK/ma=MAX_AUDIENCE/gdpr_consent=CONSENT_STRING/gdpr=CONSENT_METADATA(gdprApplies)","macros":["CLIENT_ID","AD_NETWORK","MAX_AUDIENCES"],"disableKeyAppend":true},"medianet":{"url":"https://amprtc.media.net/rtb/getrtc?cid=CID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&tgt=TGT&curl=CANONICAL_URL&to=TIMEOUT&purl=HREF&cste=CONSENT_STATE&cstr=CONSENT_STRING&adcid=ADCID&dmsv=ATTR(data-multi-size-validation)&ep=ELEMENT_POS&st=SCROLL_TOP&ph=PAGE_HEIGHT&bks=BKG_STATE&ref=REFERRER&dj=ATTR(data-json)&cst_type=CONSENT_METADATA(consentStringType)&gdpr_applies=CONSENT_METADATA(gdprApplies)","macros":["CID"],"errorReportingUrl":"https://qsearch-a.akamaihd.net/log?logid=kfk&evtid=projectevents&project=amprtc_error&error=ERROR_TYPE&rd=HREF","disableKeyAppend":true},"mediasquare":{"url":"https://pbs-front.mediasquare.fr/msq_prebid?owner=OWNER&code=CODE&sizes=ATTR(data-multi-size)&adunit=ATTR(data-slot)&referer=HREF&gdpr_consent=CONSENT_STRING","macros":["OWNER","CODE","CONSENT_STRING"],"disableKeyAppend":true},"navegg":{"url":"https://usr.navdmp.com/usr?acc=NVG_ACC&wst=0&v=10","macros":["NVG_ACC"],"disableKeyAppend":true},"newspassid":{"url":"https://bidder.newspassid.com/openrtb2/amp?tag_id=TAG_ID&placement_id=PLACEMENT_ID&gdpr_consent=CONSENT_STRING&ad_unit_code=AD_UNIT_CODE&site_id=SITE_ID&publisher_id=PUBLISHER_ID&custom_data=TGT&pubcid=PUBCID&adcid=ADCID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&curl=CANONICAL_URL&timeout=TIMEOUT&purl=HREF","macros":["TAG_ID","PLACEMENT_ID","SITE_ID","PUBLISHER_ID","AD_UNIT_CODE","PUBCID"],"errorReportingUrl":"https://bidder.newspassid.com/amp_error?err=ERROR_TYPE&url=HREF","disableKeyAppend":true},"nexx360":{"url":"https://pbs.nexx360.io/openrtb2/amp?tag_id=TAG_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF&gdpr_consent=CONSENT_STRING&account=ACCOUNT_ID","macros":["TAG_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"openwrap":{"url":"https://ow.pubmatic.com/amp?v=1&w=ATTR(width)&h=ATTR(height)&ms=ATTR(data-multi-size)&auId=ATTR(data-slot)&purl=HREF&pubId=PUB_ID&profId=PROFILE_ID&consent_string=CONSENT_STRING&gdpr_applies=CONSENT_METADATA(gdprApplies)&addtl_consent=CONSENT_METADATA(additionalConsent)&curl=CANONICAL_URL&consent_type=CONSENT_METADATA(consentStringType)","macros":["PUB_ID","PROFILE_ID","CONSENT_STRING"],"errorReportingUrl":"https://ow.pubmatic.com/amp_error?e=ERROR_TYPE&h=HREF","disableKeyAppend":true},"ozone":{"url":"https://elb.the-ozone-project.com/openrtb2/amp?tag_id=TAG_ID&placement_id=PLACEMENT_ID&gdpr_consent=CONSENT_STRING&ad_unit_code=AD_UNIT_CODE&site_id=SITE_ID&publisher_id=PUBLISHER_ID&custom_data=TGT&pubcid=PUBCID&adcid=ADCID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&curl=CANONICAL_URL&timeout=TIMEOUT&purl=HREF","macros":["TAG_ID","PLACEMENT_ID","SITE_ID","PUBLISHER_ID","AD_UNIT_CODE","PUBCID"],"errorReportingUrl":"https://elb.the-ozone-project.com/amp_error?err=ERROR_TYPE&url=HREF","disableKeyAppend":true},"prebidappnexus":{"url":"https://prebid.adnxs.com/pbs/v1/openrtb2/amp?tag_id=PLACEMENT_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adcid=ADCID&purl=HREF&consent_string=CONSENT_STRING&account=ACCOUNT_ID&gdpr_applies=CONSENT_METADATA(gdprApplies)&addtl_consent=CONSENT_METADATA(additionalConsent)&consent_type=CONSENT_METADATA(consentStringType)&pvid=PAGEVIEWID","macros":["PLACEMENT_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"prebidappnexuspsp":{"url":"https://ib.adnxs.com/prebid/amp?tag_id=PLACEMENT_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adcid=ADCID&purl=HREF&consent_string=CONSENT_STRING&account=ACCOUNT_ID&gdpr_applies=CONSENT_METADATA(gdprApplies)&addtl_consent=CONSENT_METADATA(additionalConsent)&consent_type=CONSENT_METADATA(consentStringType)&pvid=PAGEVIEWID","macros":["PLACEMENT_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"pubwise":{"url":"https://pbs.pubwise.io/openrtb2/amp?tag_id=TAG_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF&gdpr_consent=CONSENT_STRING&account=ACCOUNT_ID","macros":["TAG_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"denakop":{"url":"https://ib.adnxs.com/prebid/amp?tag_id=PLACEMENT_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adcid=ADCID&purl=HREF&gdpr_consent=CONSENT_STRING&account=ACCOUNT_ID&gdpr_applies=CONSENT_METADATA(gdprApplies)&addtl_consent=CONSENT_METADATA(additionalConsent)&consent_type=CONSENT_METADATA(consentStringType)","macros":["PLACEMENT_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"prebidflux":{"url":"https://prebid-server.flux-adserver.com/openrtb2/amp?tag_id=TAG_ID","macros":["TAG_ID"],"disableKeyAppend":true},"prebidopenx":{"url":"https://prebid.openx.net/openrtb2/amp?tag_id=REQUEST_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF&gdpr_consent=CONSENT_STRING&account=ACCOUNT_ID","macros":["REQUEST_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"prebidrubicon":{"url":"https://prebid-server.rubiconproject.com/openrtb2/amp?tag_id=REQUEST_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF&consent_string=CONSENT_STRING&account=ACCOUNT_ID&gdpr_applies=CONSENT_METADATA(gdprApplies)&addtl_consent=CONSENT_METADATA(additionalConsent)&consent_type=CONSENT_METADATA(consentStringType)&pvid=PAGEVIEWID","macros":["REQUEST_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"purch":{"url":"https://ads.servebom.com/tmntag.js?v=1.2&fmt=amp&o={%22p%22%3APLACEMENT_ID}&div_id=DIV_ID","macros":["PLACEMENT_ID","DIV_ID"],"disableKeyAppend":true},"salesforcedmp":{"url":"https://cdn.krxd.net/userdata/v2/amp/ORGANIZATION_ID?segments_key=SEGMENTS_KEY&kuid_key=USER_KEY","macros":["ORGANIZATION_ID","SEGMENTS_KEY","USER_KEY"],"disableKeyAppend":true},"sonobi":{"url":"https://apex.go.sonobi.com/trinity.json?key_maker=%7B%22_DIVIDER_ATTR(data-slot)%7C1%22%3A%22PLACEMENT_ID_DIVIDER_ATTR(width)xATTR(height)%2CATTR(data-multi-size)%22%7D&ref=CANONICAL_URL&lib_name=amp&lib_v=0.1&pv=PAGEVIEWID&amp=1","disableKeyAppend":true,"macros":["PLACEMENT_ID","_DIVIDER_"]},"t13":{"url":"https://s2s.t13.io/openrtb2/amp?tag_id=TAG_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adc=ADCID&purl=HREF&consent_string=CONSENT_STRING&account=ACCOUNT_ID&gdpr_applies=CONSENT_METADATA(gdprApplies)&addtl_consent=CONSENT_METADATA(additionalConsent)&consent_type=CONSENT_METADATA(consentStringType)","macros":["TAG_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"tail":{"url":"https://ACCOUNT_ID.seg.t.tailtarget.com/amp","macros":["ACCOUNT_ID"],"disableKeyAppend":true},"yieldbot":{"url":"https://i.yldbt.com/m/YB_PSN/v1/amp/init?curl=CANONICAL_URL&sn=YB_SLOT&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&aup=ATTR(data-slot)&pvi=PAGEVIEWID&tgt=TGT&adcid=ADCID&href=HREF","macros":["YB_PSN","YB_SLOT"],"disableKeyAppend":true},"yieldlab":{"url":"https://ad.yieldlab.net/yp/ADSLOT_ID?content=amp&consent=CONSENT_STRING&t=amp%3D1","macros":["ADSLOT_ID","CONSENT_STRING"],"disableKeyAppend":true},"snigel":{"url":"https://adserv.snigelweb.com/bp/v1/openrtb2/amp?tag_id=PLACEMENT_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&targeting=TGT&curl=CANONICAL_URL&timeout=TIMEOUT&adcid=ADCID&purl=HREF&consent_string=CONSENT_STRING&account=ACCOUNT_ID&gdpr_applies=CONSENT_METADATA(gdprApplies)&addtl_consent=CONSENT_METADATA(additionalConsent)&consent_type=CONSENT_METADATA(consentStringType)","macros":["PLACEMENT_ID","CONSENT_STRING","ACCOUNT_ID"],"disableKeyAppend":true},"richaudience":{"url":"https://shb.richaudience.com/amp?p=PLACEMENT_ID&w=ATTR(width)&h=ATTR(height)&ow=ATTR(data-override-width)&oh=ATTR(data-override-height)&ms=ATTR(data-multi-size)&slot=ATTR(data-slot)&mref=CANONICAL_URL&timeout=TIMEOUT&adcid=ADCID&purl=HREF&targeting=TGT&consentString=CONSENT_STRING&gdpr=CONSENT_METADATA(gdprApplies)&addtl_consent=CONSENT_METADATA(additionalConsent)&consent_type=CONSENT_METADATA(consentStringType)","macros":["PLACEMENT_ID","CONSENT_STRING"],"disableKeyAppend":true}}');function Ie(t,e,i={},s=!0){re(t).then((n=>{n&&n.triggerEventForTarget(t,e,i,s)}))}var ye="Failed to load:";function be(t,e,i,s){let n=i;const r=function(t,e,i,s){let n=t,r=i,o=t=>{try{return r(t)}catch(t){var e,i;throw null===(e=(i=self).__AMP_REPORT_ERROR)||void 0===e||e.call(i,t),t}};const a=function(){if(void 0!==ee)return ee;ee=!1;try{const t={get capture(){return ee=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return ee}(),h=!(null==s||!s.capture);return n.addEventListener(e,o,a?s:h),()=>{null==n||n.removeEventListener(e,o,a?s:h),r=null,n=null,o=null}}(t,e,(t=>{try{n(t)}finally{n=null,r()}}),s);return r}function Pe(t){let e,i;if(function(t){return!!(t.complete||"complete"==t.readyState||Ne(t)&&t.readyState>0||t.document&&"complete"==t.document.readyState)}(t))return Promise.resolve(t);const s=Ne(t);return s&&t.__AMP_MEDIA_LOAD_FAILURE_SRC===t.currentSrc?Promise.reject(t):new Promise(((n,r)=>{if(e=s?be(t,"loadedmetadata",n,{capture:!0}):be(t,"load",n),!t.tagName)return;let o=t;if(s&&!t.hasAttribute("src")&&(o=function(t,e){for(let i=t.lastElementChild;i;i=i.previousElementSibling)if(e(i))return i;return null}(t,(t=>"SOURCE"===t.tagName)),!o))return r(new Error("Media has no source."));i=be(o,"error",r)})).then((()=>(i&&i(),t)),(()=>{e&&e(),function(t){Ne(t)&&(t.__AMP_MEDIA_LOAD_FAILURE_SRC=t.currentSrc||!0);let e=t;throw e&&e.src&&(e=e.src),k().createError(ye,e)}(t)}))}function Ne(t){return"AUDIO"===t.tagName||"VIDEO"===t.tagName}var Ce="render-start",we="ini-load";function Se(t,e,i){if(e[i])return e[i];const s=t.querySelector(`style[${i}], link[${i}]`);return s?(e[i]=s,s):null}var Oe=!1;function Me(t){F(t.defaultView),Oe||(Oe=!0,function(t){Kt(t.body,{opacity:1,visibility:"visible","animation":"none"})}(t))}var De,Ve=(()=>self.AMP.config.urls)(),xe=new Set(["c","v","a","ad"]),Ue="__amp_source_origin",ke=t=>"string"==typeof t?Le(t):t;function Le(t,e){return De||(De=self.document.createElement("a")),Ge(De,t)}function Ge(t,e,i){return t.href="",new URL(e,t.href)}function Fe(t,e){return function(t,e,i){if(!e)return t;const s=t.split("#",2),n=s[0].split("?",2);let r=n[0]+(n[1]?`?${n[1]}&${e}`:`?${e}`);return r+=s[1]?`#${s[1]}`:"",r}(t,function(t){const e=[];for(const r in t){let o=t[r];if(null!=o){o=a(n=o)?n:[n];for(let t=0;t<o.length;t++)e.push((i=r,s=o[t],`${encodeURIComponent(i)}=${encodeURIComponent(s)}`))}}var i,s,n;return e.join("&")}(e))}function $e(t){return"https:"==(t=ke(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||e(t.hostname,".localhost")}function He(t,e,i="source"){return $(null!=t,"%s %s must be available",e,i),$($e(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',e,i,t),t}function je(t){return Ve.cdnProxyRegex.test(ke(t).origin)}function ze(t){return t.startsWith("amp-script:")}function Be(t){return!(t&&R.includes(ke(t).protocol))}function Ke(t){if(!je(t=ke(t)))return t.href;const e=t.pathname.split("/"),i=e[1];$(xe.has(i),"Unknown path prefix in url %s",t.href);const s=e[2],n="s"==s?"https://"+decodeURIComponent(e[3]):"http://"+decodeURIComponent(s);return $(n.indexOf(".")>0,"Expected a . in origin %s",n),e.splice(1,"s"==s?3:2),n+e.join("/")+function(t,e){if(!t||"?"==t)return"";const i=new RegExp("[?&](amp_(js[^&=]*|gsa|r|kit)|usqp)\\b[^&]*","g"),s=t.replace(i,"").replace(/^[?&]/,"");return s?"?"+s:""}(t.search)+(t.hash||"")}function We(t){const e=y(Le(t).search);$(!(Ue in e),"Source origin is not allowed in %s",t)}var qe=(()=>self.AMP.config.urls)(),Ye="CANCELLED",Je="BLOCK_BY_CONSENT",Xe=self.__AMP_ERRORS||[];self.__AMP_ERRORS=Xe;var Qe=function(t){return(Qe=function(t){const e=function(t){let e=0;return()=>{let t=Math.pow(1.5,e++);return t+=function(t,e){let i=t*(e=e||.3)*Math.random();return Math.random()>.5&&(i*=-1),i}(t),1e3*t}}();return t=>setTimeout(t,e())}())(t)};function Ze(t,e){try{let i;if(t)if(void 0!==t.message)t=P(t),i=!0;else{const e=t;(t=new Error(function(t){try{return JSON.stringify(t)}catch(e){return String(t)}}(e))).origError=e}else t=new Error("Unknown error");if(t.reported)return t;if(t.reported=!0,t.messageArray){const e=function(t,e){for(let i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}(t.messageArray,(t=>null==t?void 0:t.tagName));e>-1&&(t.associatedElement=t.messageArray[e])}const s=e||t.associatedElement;if(s&&s.classList&&s.classList.add("i-amphtml-error"),self.console&&(T(t.message)||!t.expected)){const e=console.error||console.log;t.messageArray?e.apply(console,t.messageArray):s?e.call(console,t.message,s):e.call(console,t.message)}s&&s.dispatchCustomEventForTesting&&s.dispatchCustomEventForTesting("amp:error",t.message),ii.call(self,void 0,void 0,void 0,void 0,t)}catch(t){setTimeout((function(){throw t}))}return t}function ti(){return new Error(Ye)}function ei(t){return!!t&&("string"==typeof t?t.startsWith(Ye):"string"==typeof t.message&&t.message.startsWith(Ye))}function ii(t,e,i,s,n){!this||!this.document||n&&n.expected||Me(this.document);let r=!1;try{r=function(t){if(!t.document)return!1;const e=t.document.querySelectorAll("script[src]");for(let t=0;t<e.length;t++)if(!je(e[t].src.toLowerCase()))return!0;return!1}(self)}catch(t){}if(r&&Math.random()>.01)return;const o=function(t,e,i,s,n,r){t=function(t,e){return e&&(t=e.message?e.message:String(e)),t||(t="Unknown error"),t}(t,n);let o=!(!n||!n.expected);if(/_reported_/.test(t))return;if(t==Ye)return;const a=!(self&&self.window),h=Math.random();if((function(t){return-1!=t.indexOf(ye)}(t)||"Script error."==t||a)&&(o=!0,h>.001))return;const l=T(t);if(l&&h>.1)return;const c=Object.create(null);c.v=O().rtvVersion,c.noAmp=r?"1":"0",c.m=t.replace("​​​",""),c.a=l?"1":"0",c.ex=o?"1":"0",c.dw=a?"1":"0";let u="1p";var d;if(u="esm",c.esm="1",c.rt="esm",c.ca=ut(self)?"1":"0",c.bt=(null===(d=self.AMP_CONFIG)||void 0===d?void 0:d.type)||"unknown",self.location.ancestorOrigins&&self.location.ancestorOrigins[0]&&(c.or=self.location.ancestorOrigins[0]),self.viewerState&&(c.vs=self.viewerState),self.parent&&self.parent!=self&&(c.iem="1"),self.AMP&&self.AMP.viewer){const t=self.AMP.viewer.getResolvedViewerUrl(),e=self.AMP.viewer.maybeGetMessagingOrigin();t&&(c.rvu=t),e&&(c.mso=e)}const p=[],m=self[ct]||null;var f,A,_;for(const t in m){const e=m[t];p.push(`${t}=${e?"1":"0"}`)}return c.exps=p.join(","),n?(c.el=(null===(f=n.associatedElement)||void 0===f?void 0:f.tagName)||"u",n.args&&(c.args=JSON.stringify(n.args)),l||n.ignoreStack||!n.stack||(c.s=n.stack),n.message&&(n.message+=" _reported_")):(c.f=e||"",c.l=i||"",c.c=s||""),c.r=self.document?self.document.referrer:"",c.ae=Xe.join(","),c.fr=self.location.originalHash||self.location.hash,"production"===c.bt&&(c.pt="1"),_=t,(A=Xe).length>=25&&A.splice(0,A.length-25+1),A.push(_),c}(t,e,i,s,n,r);o&&Qe((()=>{try{return function(t,e){return e.pt&&Math.random()<.9?H():function(t,e){const i=ne(t);if(!i.isSingleDoc())return Promise.resolve(!1);const s=i.getSingleDoc();if(!s.getRootNode().documentElement.hasAttribute("report-errors-to-viewer"))return Promise.resolve(!1);const n=_e(s);return n.hasCapability("errorReporter")?n.isTrustedViewer().then((t=>{return!!t&&(n.sendMessage("error",{"m":(i=e).m,"a":i.a,"s":i.s,"el":i.el,"ex":i.ex,"v":i.v,"pt":i.pt}),!0);var i})):Promise.resolve(!1)}(t,e).then((t=>{if(!t){const t=new XMLHttpRequest;t.open("POST",Math.random()<.1?qe.betaErrorReporting:qe.errorReporting,!0),t.send(JSON.stringify(e))}}))}(this,o).catch((()=>{}))}catch(t){}}))}var si={CLIENT_ID:!0};var ni="Expander",ri=class{constructor(t,e,i,s,n,r){this.Gn=t,this.qn=e,this.Wn=i,this.Kn=s,this.Yn=n,this.Jn=!r}expand(t){if(!t.length)return this.Kn?t:Promise.resolve(t);const e=this.Gn.getExpr(this.qn,this.Yn),i=this.Qn(t,e);return i.length?this.Xn(t,i):this.Kn?t:Promise.resolve(t)}getMacroNames(t){const e=this.Gn.getExpr(this.qn,this.Yn);return t.match(e)||[]}Qn(t,e){const i=[];return t.replace(e,((t,e,s)=>{const{length:n}=t,r={start:s,stop:n+s-1,name:e,length:n};i.push(r)})),i}Xn(t,e){const i=[];let s=0,n=0,r=e[n],a=0,h=!1;const l=c=>{let u="",d=[];const m=[];for(;s<t.length&&n<=e.length;){const T=u.trim();if(r&&s===r.start){let h;T&&d.push(a?(f=u).trimStart?f.trimStart():(f+"_").trim().slice(0,-1):u),h=this.qn&&p(this.qn,r.name)?{name:r.name,prioritized:this.qn[r.name],encode:c}:o(o({},this.Gn.get(r.name)),{},{name:r.name,encode:c}),s=r.stop+1,r=e[++n],"("===t[s]?(s++,a++,i.push(h),d.push(l(!1))):d.push(this.Zn(h)),u=""}else if("`"===t[s])h?(h=!1,u.length&&d.push(u)):(h=!0,T&&d.push(T)),u="",s++;else if(a&&","===t[s]&&!h)T&&d.push(T),m.push(d),d=[],","===t[s+1]&&(m.push([""]),s++),u="",s++;else{if(a&&")"===t[s]&&!h){s++,a--;const t=i.pop();return T&&d.push(T),m.push(d),this.Zn(t,m)}u+=t[s],s++}s===t.length&&u.length&&d.push(u)}var f;return this.Kn?d.join(""):Promise.all(d).then((t=>t.join(""))).catch((t=>(w(t),"")))};return l(this.Jn)}Zn(t,e){const{encode:i,name:s}=t;let n;if(null!=t.prioritized?n=t.prioritized:this.Kn&&null!=t.sync?n=t.sync:this.Kn?(k().error(ni,"ignoring async replacement key: ",t.name),n=""):n=t.async||t.sync,this.Kn){const t=this.tr(n,s,e);return i?encodeURIComponent(t):t}return this.ir(n,s,e).then((t=>i?encodeURIComponent(t):t))}ir(t,e,i){let s;try{if("function"==typeof t){const e=t;s=i?this.sr(i).then((t=>e.apply(null,t))):z(e)}else s=Promise.resolve(t);return s.then((t=>{let s;return this.er(e,t,i),s=null==t?"":t,s})).catch((t=>(w(t),this.er(e,"",i),Promise.resolve(""))))}catch(t){return w(t),this.er(e,"",i),Promise.resolve("")}}sr(t){return Promise.all(t.map((t=>Promise.all(t).then((t=>t.join(""))))))}tr(t,e,i){try{let s,n=t;return"function"==typeof t&&(n=t.apply(null,this.nr(i))),n&&"function"==typeof n.then?(k().error(ni,"ignoring async macro resolution"),s=""):"string"==typeof n||"number"==typeof n||"boolean"==typeof n?(this.er(e,n,i),s=n.toString()):(this.er(e,"",i),s=""),s}catch(t){return w(t),this.er(e,"",i),""}}nr(t){return t?t.map((t=>t.join(""))):t}er(t,e,i){if(!this.Wn)return;let s="";i&&(s=`(${i.filter((t=>""!==t)).join(",")})`),this.Wn[`${t}${s}`]=e||""}};function oi(t){return function(t,e){const i=e.documentElement;return["⚡4email","amp4email"].some((t=>i.hasAttribute(t)))}(0,t)}function ai(t){return"complete"==t.readyState}var hi={"navigationStart":1,"redirectStart":1,"redirectEnd":1,"fetchStart":1,"domainLookupStart":1,"domainLookupEnd":1,"connectStart":1,"secureConnectionStart":1,"connectEnd":1,"requestStart":1,"responseStart":1,"responseEnd":1,"domLoading":2,"domInteractive":2,"domContentLoaded":2,"domComplete":2,"loadEventStart":3,"loadEventEnd":4};function li(t,e,i){const s=t.performance&&t.performance.timing;if(!s||0==s.navigationStart)return;const n=void 0===i?s[e]:s[i]-s[e];return!f(n)||n<0?void 0:n}function ci(t,e){const i=t.performance&&t.performance.navigation;if(i&&void 0!==i[e])return i[e]}var ui=["gclid","gclsrc"],di=t=>Promise.resolve(t()),pi=["AMPDOC_HOST","AMPDOC_HOSTNAME","AMPDOC_URL","AMP_VERSION","AVAILABLE_SCREEN_HEIGHT","AVAILABLE_SCREEN_WIDTH","BACKGROUND_STATE","BROWSER_LANGUAGE","CANONICAL_HOST","CANONICAL_HOSTNAME","CANONICAL_PATH","CANONICAL_URL","COUNTER","DOCUMENT_CHARSET","DOCUMENT_REFERRER","PAGE_VIEW_ID","RANDOM","SCREEN_COLOR_DEPTH","SCREEN_HEIGHT","SCREEN_WIDTH","SCROLL_HEIGHT","SCROLL_WIDTH","SOURCE_HOST","SOURCE_HOSTNAME","SOURCE_PATH","SOURCE_URL","TIMESTAMP","TIMEZONE","TITLE","TOTAL_ENGAGED_TIME","USER_AGENT","VARIANT","VARIANTS","VIEWER","VIEWPORT_HEIGHT","VIEWPORT_WIDTH"];function mi(t){const e=[],{extensions:i}=t;if(!i||!a(i))return e;for(let t=0;t<i.length;t++){const s=Qt(i[t].src);s&&e.push(s)}return e}var fi="visible",Ti="paused",Ai=class{constructor(){this.j=new _i}abort(){if(!this.j.C&&(this.j.C=!0,this.j.N)){const t={"type":"abort","bubbles":!1,"cancelable":!1,"target":this.j,"currentTarget":this.j};this.j.N(t)}}get signal(){return this.j}},_i=class{constructor(){this.C=!1,this.N=null}get aborted(){return this.C}get onabort(){return this.N}set onabort(t){this.N=t}},gi=class{constructor(t,e){this.$=t,this.U=o({root:null,rootMargin:"0px 0px 0px 0px"},e),this.L=[],this.F=null,gi._upgraders.push(this.G.bind(this))}get root(){return this.F?this.F.root:this.U.root||null}get rootMargin(){return this.F?this.F.rootMargin:this.U.rootMargin}get thresholds(){return this.F?this.F.thresholds:[].concat(this.U.threshold||0)}disconnect(){this.F?this.F.disconnect():this.L.length=0}takeRecords(){return this.F?this.F.takeRecords():[]}observe(t){this.F?this.F.observe(t):-1==this.L.indexOf(t)&&this.L.push(t)}unobserve(t){if(this.F)this.F.unobserve(t);else{const e=this.L.indexOf(t);-1!=e&&this.L.splice(e,1)}}G(t){const e=new t(this.$,this.U);this.F=e;for(const t of this.L)e.observe(t);this.L.length=0}};gi._upgraders=[];var Ei=class{constructor(t){this.$=t,this.L=[],this.F=null,Ei._upgraders.push(this.G.bind(this))}disconnect(){this.F?this.F.disconnect():this.L.length=0}observe(t){this.F?this.F.observe(t):-1==this.L.indexOf(t)&&this.L.push(t)}unobserve(t){if(this.F)this.F.unobserve(t);else{const e=this.L.indexOf(t);-1!=e&&this.L.splice(e,1)}}G(t){const e=new t(this.$);this.F=e;for(const t of this.L)e.observe(t);this.L.length=0}};Ei._upgraders=[];var Ri="Resource",vi=class{static forElement(t){return F(vi.forElementOptional(t))}static forElementOptional(t){return t.__AMP__RESOURCE}static setOwner(t,e){F(e.contains(t)),vi.forElementOptional(t)&&vi.forElementOptional(t).updateOwner(e),t.__AMP__OWNER=e;const i=t.getElementsByClassName("i-amphtml-element");for(let t=0;t<i.length;t++){const e=i[t];vi.forElementOptional(e)&&vi.forElementOptional(e).updateOwner(void 0)}}constructor(t,e,i){e.__AMP__RESOURCE=this,this.di=t,this.element=e,this.debugid=e.tagName.toLowerCase()+"#"+t,this.hostWin=e.ownerDocument.defaultView,this.fi=i,this.pi=e.hasAttribute("placeholder"),this.mi=!1,this._i=void 0,this.Ai=e.isBuilt()?1:0,0==this.Ai&&e.isBuilding()&&this.build(),this.gi=-1,this.Pi=0,this.vi=null,this.Ei=null,this.Ti=!1,this.Ii=Ot(-1e4,-1e4,0,0),this.Mi=null,this.Ri=!1,this.yi=null,this.wi=null,this.bi=void 0;const s=new j;this.Vi=s.promise,this.Si=s.resolve,this.xi=!1}getId(){return this.di}updateOwner(t){this._i=t}getOwner(){if(void 0===this._i){for(let t=this.element;t;t=t.parentElement)if(t.__AMP__OWNER){this._i=t.__AMP__OWNER;break}void 0===this._i&&(this._i=null)}return this._i}hasOwner(){return!!this.getOwner()}getLayoutPriority(){return-1!=this.gi?this.gi:this.element.getLayoutPriority()}updateLayoutPriority(t){this.gi=t}getState(){return this.Ai}isBuilt(){return this.element.isBuilt()}isBuilding(){return this.mi}whenBuilt(){return this.element.signals().whenSignal("res-built")}build(){return this.mi||!this.element.isUpgraded()?null:(this.mi=!0,this.element.buildInternal().then((()=>{this.mi=!1,this.Ai=1,this.element.signals().signal("res-built")}),(t=>{throw this.maybeReportErrorOnBuildFailure(t),this.mi=!1,this.element.signals().rejectSignal("res-built",t),t})))}maybeReportErrorOnBuildFailure(t){var e;(e=t)&&("string"==typeof e?e.startsWith(Je):"string"==typeof e.message&&e.message.startsWith(Je))||G().error(Ri,"failed to build:",this.debugid,t)}changeSize(t,e,i){this.element.applySize(t,e,i),this.requestMeasure()}overflowCallback(t,e,i,s){t&&(this.bi={height:e,width:i,margins:s}),this.element.overflowCallback(t,e,i,s)}resetPendingChangeSize(){this.bi=void 0}getPendingChangeSize(){return this.bi}getUpgradeDelayMs(){return this.element.getUpgradeDelayMs()}measure(){if(this.pi&&this.element.parentElement&&this.element.parentElement.tagName.startsWith("AMP-")&&!("__AMP__RESOURCE"in this.element.parentElement))return;if(!this.element.ownerDocument||!this.element.ownerDocument.defaultView)return void(this.Ai=1);this.Ri=!1;const t=this.Ii;this.Oi();const e=this.Ii,i=(n=e,!((s=t).width==n.width&&s.height===n.height));var s,n;(1==this.Ai||t.top!=e.top||i)&&this.element.isUpgraded()&&(1==this.Ai?this.Ai=2:4!=this.Ai&&5!=this.Ai||!this.element.isRelayoutNeeded()||(this.Ai=2)),this.hasBeenMeasured()||(this.Mi=e),this.element.updateLayoutBox(e,i)}ensureMeasured(){return this.hasBeenMeasured()?H():ge(this.hostWin).measure((()=>this.measure()))}Oi(){const t=Ee(this.element);this.Ii=t.getLayoutRect(this.element);let e=!1;if(t.supportsPositionFixed()&&this.isDisplayed()){const{win:i}=this.fi.getAmpdoc(),{body:s}=i.document;for(let n=this.element;n&&n!=s;n=n.offsetParent){if(n.isAlwaysFixed&&n.isAlwaysFixed()){e=!0;break}if(t.isDeclaredFixed(n)&&"fixed"==Yt(i,n).position){e=!0;break}}}this.Ti=e,e&&(this.Ii=Mt(this.Ii,-t.getScrollLeft(),-t.getScrollTop()))}completeCollapse(){Wt(this.element,!1),this.Ii=Ot(this.Ii.left,this.Ii.top,0,0),this.Ti=!1,this.element.updateLayoutBox(this.getLayoutBox());const t=this.getOwner();t&&t.collapsedCallback(this.element)}completeExpand(){Wt(this.element,!0),this.requestMeasure()}isMeasureRequested(){return this.Ri}hasBeenMeasured(){return!!this.Mi}requestMeasure(){this.Ri=!0}getLayoutSize(){return function(t){const{height:e,width:i}=t;return{width:i,height:e}}(this.Ii)}getLayoutBox(){if(!this.Ti)return this.Ii;const t=Ee(this.element);return Mt(this.Ii,t.getScrollLeft(),t.getScrollTop())}getInitialLayoutBox(){return this.Mi||this.Ii}isDisplayed(){if(!this.element.ownerDocument||!this.element.ownerDocument.defaultView)return!1;const t=this.element.getLayout()==Ct,e=this.getLayoutBox(),i=e.height>0&&e.width>0;return t||i}isFixed(){return this.Ti}overlaps(t){return i=t,(e=this.getLayoutBox()).top<=i.bottom&&i.top<=e.bottom&&e.left<=i.right&&i.left<=e.right;var e,i}prerenderAllowed(){return this.element.prerenderAllowed()}previewAllowed(){return this.element.previewAllowed()}isBuildRenderBlocking(){return this.element.isBuildRenderBlocking()}whenWithinViewport(t){if(F(!1!==t),!this.isLayoutPending()||!0===t)return H();const e=t,i=String(e);return this.yi&&this.yi[i]?this.yi[i].promise:this.isWithinViewportRatio(e)?H():(this.yi=this.yi||{},this.yi[i]=new j,this.yi[i].promise)}Ci(){if(!this.yi)return;const t=this.getDistanceViewportRatio();for(const e in this.yi)this.isWithinViewportRatio(parseFloat(e),t)&&(this.yi[e].resolve(),delete this.yi[e])}getDistanceViewportRatio(){const t=Ee(this.element).getRect(),e=this.getLayoutBox(),i=this.fi.getScrollDirection();let s=1,n=0;if(t.right<e.left||t.left>e.right)return{distance:!1};if(t.bottom<e.top)n=e.top-t.bottom,-1==i&&(s=2);else{if(!(t.top>e.bottom))return{distance:!0};n=t.top-e.bottom,1==i&&(s=2)}return{distance:n,scrollPenalty:s,viewportHeight:t.height}}isWithinViewportRatio(t,e){if("boolean"==typeof t)return t;const{distance:i,scrollPenalty:s,viewportHeight:n}=e||this.getDistanceViewportRatio();return"boolean"==typeof i?i:i<n*t/s}renderOutsideViewport(){return this.Ci(),this.hasOwner()||this.isWithinViewportRatio(this.element.renderOutsideViewport())}idleRenderOutsideViewport(){return this.isWithinViewportRatio(this.element.idleRenderOutsideViewport())}layoutScheduled(t){this.Ai=3,this.element.layoutScheduleTime=t}layoutCanceled(){this.Ai=this.hasBeenMeasured()?2:1}startLayout(){if(this.wi)return this.wi;if(4==this.Ai)return H();if(5==this.Ai)return Promise.reject(this.Ei);if(F(0!=this.Ai),F(this.isDisplayed()),3!=this.Ai){const t=G().createExpectedError("startLayout called but not LAYOUT_SCHEDULED","currently: ",this.Ai);return Ze(t,this.element),Promise.reject(t)}if(this.Pi>0&&!this.element.isRelayoutNeeded())return this.Ai=4,H();this.Pi++,this.Ai=3,this.vi=new AbortController;const{signal:t}=this.vi,e=new Promise(((e,i)=>{ge(this.hostWin).mutate((()=>{let s;try{s=this.element.layoutCallback(t)}catch(t){i(t)}Promise.resolve(s).then(e,i)})),t.onabort=()=>i(ti())})).then((()=>this.ki(!0,t)),(e=>this.ki(!1,t,e)));return this.wi=e}ki(t,e,i){if(this.vi=null,e.aborted){const t=G().createError("layoutComplete race");throw t.associatedElement=this.element,G().expectedError(Ri,t),ti()}if(this.Si&&(this.Si(),this.Si=null),this.wi=null,this.Ai=t?4:5,this.Ei=i,!t)return Promise.reject(i)}isLayoutPending(){return 4!=this.Ai&&5!=this.Ai}loadedOnce(){return this.element.R1()?this.element.whenLoaded():this.Vi}isInViewport(){return this.xi&&this.Ci(),this.xi}setInViewport(t){this.xi=t}unlayout(){0!=this.Ai&&1!=this.Ai&&2!=this.Ai&&(this.vi&&(this.vi.abort(),this.vi=null),this.setInViewport(!1),this.element.unlayoutCallback()&&(this.element.togglePlaceholder(!0),this.Ai=1,this.Pi=0,this.wi=null))}getTaskId(t){return this.debugid+"#"+t}pause(){this.element.pause()}pauseOnRemove(){this.element.pause()}resume(){this.element.resume()}unload(){this.element.unmount()}disconnect(){delete this.element.__AMP__RESOURCE,this.element.disconnect(!0)}},Ii="ready-scan",yi=class{constructor(){this.Ki=[]}peek(){const t=this.length;return t?this.Ki[t-1].item:null}enqueue(t,e){if(isNaN(e))throw new Error("Priority must not be NaN.");const i=this.Yi(e);this.Ki.splice(i,0,{item:t,priority:e})}Yi(t){let e=-1,i=0,s=this.length;for(;i<=s&&(e=Math.floor((i+s)/2),e!==this.length);)if(this.Ki[e].priority<t)i=e+1;else{if(!(e>0&&this.Ki[e-1].priority>=t))break;s=e-1}return e}forEach(t){let e=this.length;for(;e--;)t(this.Ki[e].item)}dequeue(){const t=this.Ki.pop();return t?t.item:null}get length(){return this.Ki.length}},bi=/nochunking=1/.test(self.location.hash),Pi=H();var Ni="not_run",Ci=class{constructor(t){this.state=Ni,this.Qi=t}Xi(t){if("run"!=this.state){this.state="run";try{this.Qi(t)}catch(t){throw this.Zi(t),t}}}ts(){return this.Qi.displayName||this.Qi.name}Zi(t){}ss(){return!1}es(){return!1}},wi=class extends Ci{constructor(t,e,i){super(t),this.ns=i}Zi(t){Me(self.document)}ss(){return this.rs()}es(){return this.ns.hs}rs(){return this.ns.ampdoc.isVisible()}},Si=class{constructor(t){var e;this.ampdoc=t,this.i=t.win,this.os=new yi,this.us=this.ls.bind(this),this.cs=0,this.ds=!(!this.i.navigator.scheduling||!this.i.navigator.scheduling.isInputPending),this.fs=!1,this.Ji=this.i.document.documentElement.hasAttribute("i-amphtml-no-boilerplate"),this.i.addEventListener("message",(t=>{"amp-macro-task"==t.data&&this.ls(null)})),this.hs=!1,(e=t,J(e,"viewer")).then((()=>{this.hs=!0})),t.onVisibilityChanged((()=>{t.isVisible()&&this.ps()}))}run(t,e){const i=new Ci(t);this._s(i,e)}runForStartup(t){const e=new wi(t,this.i,this);this._s(e,Number.POSITIVE_INFINITY)}_s(t,e){this.os.enqueue(t,e),this.ps()}As(t){let e=this.os.peek();for(;e&&e.state!==Ni;)this.os.dequeue(),e=this.os.peek();return e&&t&&this.os.dequeue(),e}ls(t){const e=this.As(!0);if(!e)return this.fs=!1,this.cs=0,!1;let i;try{i=Date.now(),e.Xi(t)}finally{Pi.then().then().then().then().then().then().then().then().then((()=>{this.fs=!1,this.cs+=Date.now()-i,this.ps()}))}return!0}gs(t){if(this.Ji&&(this.ds?this.i.navigator.scheduling.isInputPending():this.cs>5))return this.cs=0,void this.Ps();Pi.then((()=>{this.us(t)}))}ps(){if(this.fs)return;const t=this.As();return t?t.ss()?(this.fs=!0,void this.gs(null)):void(t.es()&&this.i.requestIdleCallback?function(t,e,i,s){const n=Date.now();t.requestIdleCallback((function e(i){if(i.timeRemaining()<15){const r=2e3-(Date.now()-n);r<=0||i.didTimeout?s(i):t.requestIdleCallback(e,{timeout:r})}else s(i)}),{timeout:2e3})}(this.i,0,0,this.us):this.Ps()):void 0}Ps(){this.i.postMessage("amp-macro-task","*")}},Oi="activate";Date.now(),new Set,new WeakMap;var Mi=class{constructor(){this.St=null}add(t){return this.St||(this.St=[]),this.St.push(t),()=>{this.remove(t)}}remove(t){this.St&&h(this.St,t)}removeAll(){this.St&&(this.St.length=0)}fire(t){if(this.St)for(const e of this.St.slice())e(t)}getHandlerCount(){var t,e;return null!==(t=null===(e=this.St)||void 0===e?void 0:e.length)&&void 0!==t?t:0}},Di="Action",Vi="__AMP_ACTION_MAP__"+Math.random(),xi="__AMP_ACTION_QUEUE__",Ui="__AMP_ACTION_HANDLER__",ki={"form":["submit","clear"]},Li=[{tagOrTarget:"AMP",method:"setState"},{tagOrTarget:"*",method:"focus"},{tagOrTarget:"*",method:"hide"},{tagOrTarget:"*",method:"show"},{tagOrTarget:"*",method:"toggleClass"},{tagOrTarget:"*",method:"toggleChecked"},{tagOrTarget:"*",method:"toggleVisibility"}],Gi={"button":!0,"checkbox":!0,"link":!0,"listbox":!0,"menuitem":!0,"menuitemcheckbox":!0,"menuitemradio":!0,"option":!0,"radio":!0,"scrollbar":!0,"slider":!0,"spinbutton":!0,"switch":!0,"tab":!0,"treeitem":!0},Fi=class{constructor(t,e,i,s,n,r,o,a="?",h=null,l=Math.random()){this.node=t,this.method=e,this.args=i,this.source=s,this.caller=n,this.event=r,this.trust=o,this.actionEventType=a,this.tagOrTarget=h||t.tagName,this.sequenceId=l}satisfiesTrust(t){if(!f(this.trust))return G().error(Di,`Invalid trust for '${this.method}': ${this.trust}`),!1;if(this.trust<t){const t=function(t){switch(t){case 1:return"low";case 3:return"high";default:return A(2===t),"default"}}(this.trust);return k().error(Di,`"${this.actionEventType}" event with "${t}" trust is not allowed to invoke "${this.tagOrTarget.toLowerCase()}.${this.method}".`),!1}return!0}};function $i(t){return"amp-"===t.substring(0,4)}var Hi=class{constructor(t){this.detail=null,function(t,e){const i=e||d();for(const e in t){const s=t[e];i[e]="function"==typeof s?ji:t[e]}}(t,this)}};function ji(){F(null)}function zi(t,e){const i=Ki.bind(null,t,e),s=Wi.bind(null,t,e);let n=null;const r=new Ji(t);let o,a;do{if(o=r.next(),o.type==qi.EOF||o.type==qi.SEPARATOR&&";"==o.value);else if(o.type==qi.LITERAL||o.type==qi.ID){const e=o.value;s(r.next(),[qi.SEPARATOR],":");const h=[];do{const n=s(r.next(),[qi.LITERAL,qi.ID]).value;let o=Oi,l=null;a=r.peek(),a.type==qi.SEPARATOR&&"."==a.value&&(r.next(),o=s(r.next(),[qi.LITERAL,qi.ID]).value||o,a=r.peek(),a.type==qi.SEPARATOR&&"("==a.value&&(r.next(),l=Bi(r,s,i))),h.push({event:e,target:n,method:o,args:l,str:t}),a=r.peek()}while(a.type==qi.SEPARATOR&&","==a.value&&r.next());n||(n=d()),n[e]=h}else i(!1,`; unexpected token [${o.value||""}]`)}while(o.type!=qi.EOF);return n}function Bi(t,e,i){let s,n=t.peek(),r=null;if(n.type==qi.OBJECT){r=d();const{value:i}=t.next();r.__AMP_OBJECT_STRING__=i,e(t.next(),[qi.SEPARATOR],")")}else do{s=t.next();const{type:a,value:h}=s;if(a!=qi.SEPARATOR||","!=h&&")"!=h)if(a==qi.LITERAL||a==qi.ID){e(t.next(),[qi.SEPARATOR],"="),s=e(t.next(!0),[qi.LITERAL,qi.ID]);const a=[s];if(s.type==qi.ID)for(n=t.peek();n.type==qi.SEPARATOR&&"."==n.value;n=t.peek())t.next(),s=e(t.next(!1),[qi.ID]),a.push(s);const l=0==(o=a).length?null:1==o.length?o[0].value:{expression:o.map((t=>t.value)).join(".")};r||(r=d()),r[h]=l,n=t.peek(),i(n.type==qi.SEPARATOR&&(","==n.value||")"==n.value),"Expected either [,] or [)]")}else i(!1,`; unexpected token [${s.value||""}]`)}while(s.type!=qi.SEPARATOR||")"!=s.value);var o;return r}function Ki(t,e,i,s){return $(i,"Invalid action definition in %s: [%s] %s",e,t,s||"")}function Wi(t,e,i,s,n){return void 0!==n?Ki(t,e,s.includes(i.type)&&i.value==n,`; expected [${n}]`):Ki(t,e,s.includes(i.type)),i}var qi={INVALID:0,EOF:1,SEPARATOR:2,LITERAL:3,ID:4,OBJECT:5},Yi=" \t\n\r\f\v \u2028\u2029",Ji=class{constructor(t){this.xe=t,this.Oe=-1}next(t){const e=this.Ce(t||!1);return this.Oe=e.index,e}peek(t){return this.Ce(t||!1)}Ce(t){let e=this.Oe+1;if(e>=this.xe.length)return{type:qi.EOF,index:this.Oe};let i=this.xe.charAt(e);if(-1!=Yi.indexOf(i)){for(e++;e<this.xe.length&&-1!=Yi.indexOf(this.xe.charAt(e));e++);if(e>=this.xe.length)return{type:qi.EOF,index:e};i=this.xe.charAt(e)}if(t&&(Xi(i)||"."==i&&e+1<this.xe.length&&Xi(this.xe[e+1]))){let t="."==i,s=e+1;for(;s<this.xe.length;s++){const e=this.xe.charAt(s);if("."!=e){if(!Xi(e))break}else t=!0}const n=this.xe.substring(e,s),r=t?parseFloat(n):parseInt(n,10);return e=s-1,{type:qi.LITERAL,value:r,index:e}}if(-1!=";:.()=,|!".indexOf(i))return{type:qi.SEPARATOR,value:i,index:e};if(-1!="\"'".indexOf(i)){let t=-1;for(let s=e+1;s<this.xe.length;s++)if(this.xe.charAt(s)==i){t=s;break}if(-1==t)return{type:qi.INVALID,index:e};const s=this.xe.substring(e+1,t);return e=t,{type:qi.LITERAL,value:s,index:e}}if("{"==i){let t=1,i=-1;for(let s=e+1;s<this.xe.length;s++){const e=this.xe[s];if("{"==e?t++:"}"==e&&t--,t<=0){i=s;break}}if(-1==i)return{type:qi.INVALID,index:e};const s=this.xe.substring(e,i+1);return e=i,{type:qi.OBJECT,value:s,index:e}}let s=e+1;for(;s<this.xe.length&&-1==" \t\n\r\f\v \u2028\u2029;:.()=,|!\"'{}".indexOf(this.xe.charAt(s));s++);const n=this.xe.substring(e,s);if(e=s-1,t&&("true"==n||"false"==n)){const t="true"==n;return{type:qi.LITERAL,value:t,index:e}}return Xi(n.charAt(0))?{type:qi.LITERAL,value:n,index:e}:{type:qi.ID,value:n,index:e}}};function Xi(t){return t>="0"&&t<="9"}var Qi={attributes:!0,attributeFilter:["hidden"],subtree:!0};function Zi(t,e,s,n){let r;try{r=t.open(e,s,n)}catch(t){G().error("DOM","Failed to open url on target: ",s,t)}return r||"_top"==s||i(n||"","noopener")||(r=t.open(e,"_top")),r}var ts="navigation",es="click",is="contextmenu",ss=["_top","_blank"],ns="data-a4a-orig-href";function rs(t,e){const i=_t(e.target,"A");if(!i||!i.href)return;const s=i.getAttribute(ns)||i.getAttribute("href");if(!s)return;const n={"CLICK_X":()=>e.pageX,"CLICK_Y":()=>e.pageY},r=fe(i).expandUrlSync(s,n,{"CLICK_X":!0,"CLICK_Y":!0});r!=s&&(i.getAttribute(ns)||i.setAttribute(ns,s),i.setAttribute("href",r))}function os(t){return`${t.origin}${t.pathname}${t.search}`}function as(t){return a(t)?t:[t]}function hs(t){return t.queryCommandSupported("copy")}function ls(t){return t.hasAttribute("hidden")}var cs="STANDARD-ACTIONS",us=/^i-amphtml-/;function ds(t){K(t,"standard-actions",class{constructor(t){this.ampdoc=t;const e=t.getHeadNode();this.oc=ce(t),this.Uu=Ee(t),this.uc(ie(e)),this.lc()}uc(t){t.addGlobalTarget("AMP",this.cc.bind(this)),t.addGlobalMethodHandler("hide",this.ac.bind(this)),t.addGlobalMethodHandler("show",this.dc.bind(this)),t.addGlobalMethodHandler("toggleVisibility",this.fc.bind(this)),t.addGlobalMethodHandler("scrollTo",this.mc.bind(this)),t.addGlobalMethodHandler("focus",this._c.bind(this)),t.addGlobalMethodHandler("toggleClass",this.Ac.bind(this)),t.addGlobalMethodHandler("copy",this.gc.bind(this)),t.addGlobalMethodHandler("toggleChecked",this.Pc.bind(this))}lc(){this.vc()&&this.ampdoc.waitForBodyOpen().then((t=>{const e=t.getAttribute("data-prefers-dark-mode-class")||"amp-dark-mode";t.classList.add(e)}))}vc(){var t,e;try{const t=this.ampdoc.win.localStorage.getItem("amp-dark-mode");if(t)return"yes"===t}catch(t){}return null===(t=(e=this.ampdoc.win).matchMedia)||void 0===t?void 0:t.call(e,"(prefers-color-scheme: dark)").matches}cc(t){if(!t.satisfiesTrust(2))return null;const{args:e,method:i,node:s}=t,n=B(s);switch(i){case"pushState":case"setState":return(t=>te(t,"bind","amp-bind"))(s.nodeType===Node.DOCUMENT_NODE?s.documentElement:s).then((e=>($(e,"AMP-BIND is not installed."),e.invoke(t))));case"navigateTo":return this.Ec(t);case"closeOrNavigateTo":return this.Tc(t);case"scrollTo":return $(e.id,"AMP.scrollTo must provide element ID"),t.node=Z(s).getElementById(e.id),this.mc(t);case"goBack":return le(this.ampdoc).goBack(!(!e||!0!==e.navigate)),null;case"print":return n.print(),null;case"copy":return this.gc(t);case"optoutOfCid":return(r=this.ampdoc,J(r,"cid")).then((t=>t.optOut())).catch((t=>{G().error(cs,"Failed to opt out of CID",t)}));case"toggleTheme":return this.Ic(),null}var r;throw k().createError("Unknown AMP action ",i)}gc(t){const{args:e,node:i}=t,s=B(i),n="copy-error";let r;if("AMP"===t.tagOrTarget)r=e.text.trim();else{var o;const e=_(t.node);r=(null!==(o=e.value)&&void 0!==o?o:e.textContent).trim()}const a=function(t,e,i){const n=function(t,e,i,s){const n={detail:i};return Object.assign(n,void 0),new t.CustomEvent(e,n)}(s,`${t}`,{data:{type:e}});ie(i.caller).trigger(i.caller,t,n,3)};var h,l,c;null!==(l=(h=s.document).defaultView)&&void 0!==l&&null!==(c=l.navigator)&&void 0!==c&&c.clipboard||hs(h)?function(t,e,i,s){var n;null!==(n=t.navigator)&&void 0!==n&&n.clipboard?t.navigator.clipboard.writeText(e).then(i,s):hs(t.document)&&function(t,e){var i;let s=!1;const n=t.document,r=n.createElement("textarea");Kt(r,{"position":"fixed","top":0,"left":0,"width":"50px","height":"50px","padding":0,"border":"none","outline":"none","background":"transparent"}),r.value=e,r.readOnly=!0,r.contentEditable="true",n.body.appendChild(r),null===(i=t.getSelection())||void 0===i||i.removeAllRanges(),r.focus(),r.setSelectionRange(0,e.length);try{s=n.execCommand("copy")}catch(t){}return Rt(r),s}(t,e)?i():s()}(s,r,(()=>{a("copy-success","success",t)}),(()=>{a(n,"error",t)})):a(n,"unsupported",t)}Ec(t){const{args:e,caller:i,method:s,node:n}=t,r=B(n);let o=H();return i.tagName.startsWith("AMP-")&&(o=i.getImpl().then((t=>{"function"==typeof t.throwIfCannotNavigate&&t.throwIfCannotNavigate()}))),o.then((()=>{var t;(t=this.ampdoc,q(t,"navigation")).navigateTo(r,e.url,`AMP.${s}`,{target:e.target,opener:e.opener})}),(t=>{k().error(cs,t)}))}Ic(){this.ampdoc.waitForBodyOpen().then((t=>{try{const e=t.getAttribute("data-prefers-dark-mode-class")||"amp-dark-mode";this.vc()?(t.classList.remove(e),this.ampdoc.win.localStorage.setItem("amp-dark-mode","no")):(t.classList.add(e),this.ampdoc.win.localStorage.setItem("amp-dark-mode","yes"))}catch(t){}}))}Tc(t){const{node:e}=t,i=B(e),s=i.parent!=i;let n=!1;return i.opener&&this.ampdoc.isSingleDoc()&&!s&&(i.close(),n=i.closed),n?H():this.Ec(t)}mc(t){const e=t.node,{args:i}=t;let s=i&&i.position,n=i&&i.duration;return s&&!["top","bottom","center"].includes(s)&&(s=void 0),f(n)||(n=void 0),this.Uu.animateScrollIntoView(e,s,n)}_c(t){return Pt(t.node),null}ac(t){const e=t.node;if(e.classList.contains("i-amphtml-element")){const t=e;this.oc.mutateElement(t,(()=>t.collapse()),!0)}else this.oc.mutateElement(e,(()=>Wt(e,!1)));return null}dc(t){const{node:e}=t,i=e,s=B(i);if(i.classList.contains("i-amphtml-layout-nodisplay"))return null;this.oc.measureElement((()=>{"none"==Yt(s,i).display&&ls(i)}));const n=(r=i).hasAttribute("autofocus")?r:r.querySelector("[autofocus]");var r;return n&&ue(s).isIos()?(this.Mc(i,n),this.oc.mutateElement(i,(()=>{}))):this.oc.mutateElement(i,(()=>{this.Mc(i,n)})),null}Mc(t,e){t.classList.contains("i-amphtml-element")?t.expand():Wt(t,!0),e&&Pt(e)}fc(t){return ls(t.node)?this.dc(t):this.ac(t)}Ac(t){const e=t.node,{args:i}=t,s=k().assertString(i.class,"Argument 'class' must be a string.");return us.test(s)||this.oc.mutateElement(e,(()=>{if(void 0!==i.force){const t=k().assertBoolean(i.force,"Optional argument 'force' must be a boolean.");e.classList.toggle(s,t)}else e.classList.toggle(s)})),null}Pc(t){const e=t.node,{args:i}=t;return this.oc.mutateElement(e,(()=>{if(void 0!==i.force){const t=k().assertBoolean(i.force,"Optional argument 'force' must be a boolean.");e.checked=t}else!0===e.checked?e.checked=!1:e.checked=!0})),null}},!0)}var ps=(()=>self.AMP.config.urls)();function ms(t){K(t,"url",class{constructor(t){const e=t.getRootNode(),i=e.ownerDocument||e;this.uo=i.createElement("a"),this.lo=null}parse(t,e){return Ge(this.uo,t)}co(t){return"string"!=typeof t?t:this.parse(t)}isProtocolValid(t){return Be(t)}getSourceOrigin(t){return function(t){return Le(Ke(t)).origin}(this.co(t))}getSourceUrl(t){return Ke(this.co(t))}resolveRelativeUrl(t,e){return function(t,e){return e=ke(e),new URL(t,e.href).toString()}(t,this.co(e))}assertHttpsUrl(t,e,i="source"){return He(t,e,i)}assertAbsoluteHttpOrHttpsUrl(t){return function(t){return $(/^https?\:/i.test(t),'URL must start with "http://" or "https://". Invalid value: %s',t),Le(t).href}(t)}isProxyOrigin(t){return je(this.co(t))}isSecure(t){return $e(this.co(t))}getWinOrigin(t){return t.origin||this.co(t.location.href).origin}getCdnUrlOnOrigin(t){if(je(t))return t;const{hash:e,host:i,pathname:s,search:n}=this.co(t),r=encodeURIComponent(i);return`${ps.cdn}/c/${r}${s}${n}${e}`}},!0)}function fs(t){if(t.defaultPrevented)return;const e=t.target;if(!e||"FORM"!=e.tagName)return;let i;i=e.classList.contains("i-amphtml-form")?!e.hasAttribute("amp-novalidate"):!e.hasAttribute("novalidate"),i&&e.checkValidity&&!e.checkValidity()&&t.preventDefault();const s=e.elements;for(let t=0;t<s.length;t++)$(!s[t].name||s[t].name!=Ue,"Illegal input name, %s found: %s",Ue,s[t]);const n=e.getAttribute("action"),r=e.getAttribute("action-xhr"),o=(e.getAttribute("method")||"GET").toUpperCase();if(r&&(He(r,e,"action-xhr"),$(!je(r),"form action-xhr should not be on AMP CDN: %s",e),We(r)),n&&(He(n,e,"action"),$(!je(n),"form action should not be on AMP CDN: %s",e),We(n)),"GET"==o)$(r||n,"form action-xhr or action attribute is required for method=GET: %s",e);else if("POST"==o){if(n){const t="form";k().error(t,"action attribute is invalid for method=POST: %s",e)}r||(t.preventDefault(),$(!1,"Only XHR based (via action-xhr attribute) submissions are support for POST requests. %s",e))}const a=e.getAttribute("target");a?$("_blank"==a||"_top"==a,"form target=%s is invalid can only be _blank or _top: %s",a,e):e.setAttribute("target","_top"),r&&(t.preventDefault(),t.stopImmediatePropagation(),ie(e).execute(e,"submit",null,e,e,t,3))}function Ts(t){F(!!t.getParent()),function(t,e){ms(t),function(t,e){const i=tt(F(t.getParent()));F(ht(i,e));const s=nt(i)[e];it(tt(t),t,e,F(s.ctor))}(t,"templates"),at(t,"documentInfo"),at(t,"cid"),at(t,"viewer"),at(t,"viewport"),function(t){K(t,"hidden-observer",class{constructor(t){this.pu=t.getRootNode();const e=this.pu.ownerDocument||this.pu;this.i=F(e.defaultView),this.mu=null,this._u=null}add(t){this.Au();const e=this._u.add(t);return()=>{e(),0===this._u.getHandlerCount()&&this.dispose()}}Au(){if(this.mu)return;this._u=new Mi;const t=new this.i.MutationObserver((t=>{t&&this._u.fire(t)}));this.mu=t,t.observe(this.pu,Qi)}dispose(){this.mu&&(this.mu.disconnect(),this._u.removeAll(),this.mu=null,this._u=null)}})}(t),at(t,"history"),function(t){K(t,"resources",class{constructor(t){var e;this.Ni=t,this.win=t.win,this.fi=[],this.Pu=0,this.Se=new class{constructor(t,e,i){this.Ie=me(t),this.Me=e,this.Re=i||0,this.ye=-1,this.we=0,this.be=!1,this.Ve=()=>{this.Se()}}isPending(){return-1!=this.ye}schedule(t){let e=t||this.Re;this.be&&e<10&&(e=10);const i=Date.now()+e;return(!this.isPending()||i-this.we<-10)&&(this.cancel(),this.we=i,this.ye=this.Ie.delay(this.Ve,e),!0)}Se(){this.ye=-1,this.we=0,this.be=!0,this.Me(),this.be=!1}cancel(){this.isPending()&&(this.Ie.cancel(this.ye),this.ye=-1)}}(this.win,this.Nd.bind(this),70),this.Ld=new Mi,this.Gu=new j,this.Dd=null,(e=this.win,W(e,"input")).setupInputModeClasses(t),"inabox"!=O(this.win).runtime&&t.onVisibilityChanged((()=>{switch(t.getVisibilityState()){case Ti:this.fi.forEach((t=>t.pause()));break;case fi:this.fi.forEach((t=>t.resume())),this.schedulePass()}})),this.Du=[],this.Iu=!1,this.Ni.whenReady().then((()=>{this.Iu=!0,this.Xu(),this.schedulePass(1)}))}dispose(){this.fi.forEach((t=>t.unload())),this.fi.length=0,this.Dd&&(this.Dd.disconnect(),this.Dd=null)}get(){return this.fi.slice(0)}getAmpdoc(){return this.Ni}getResourceForElement(t){return vi.forElement(t)}getResourceForElementOptional(t){return vi.forElementOptional(t)}getScrollDirection(){return 1}add(t){const e=new vi(++this.Pu,t,this);this.fi.push(e)}upgraded(t){const e=vi.forElement(t);this.Du.push(e),this.Xu()}remove(t){const e=vi.forElementOptional(t);if(!e)return;this.Dd&&this.Dd.unobserve(t);const i=this.fi.indexOf(e);-1!==i&&this.fi.splice(i,1)}scheduleLayoutOrPreload(t){this.Se.schedule()}schedulePass(t){return this.Se.schedule(t)}updateOrEnqueueMutateTask(t,e){}schedulePassVsync(){}onNextPass(t){this.Ld.add(t)}ampInitComplete(){}updateLayoutPriority(t,e){}setRelayoutTop(t){}maybeHeightChanged(){}whenFirstPass(){return this.Gu.promise}Nd(){const t=Date.now();this.fi.forEach((t=>{t.isLayoutPending()&&!t.element.R1()&&t.measure()})),this.fi.forEach((e=>{!e.element.R1()&&2===e.getState()&&e.isDisplayed()&&(e.layoutScheduled(t),e.startLayout())})),this.Ni.signals().signal(Ii),this.Ld.fire(),this.Gu.resolve()}Xu(){for(let t=this.Du.length-1;t>=0;t--){const e=this.Du[t];(this.Iu||It(e.element,this.Ni.getRootNode()))&&(this.Du.splice(t,1),(e.build()||H()).then((()=>this.schedulePass())))}}})}(t),function(t){K(t,"owners",class{constructor(t){this.fi=pe(t)}setOwner(t,e){vi.setOwner(t,e)}schedulePreload(t,e){this.El(this.fi.getResourceForElement(t),!1,as(e))}scheduleLayout(t,e){this.El(this.fi.getResourceForElement(t),!0,as(e))}schedulePause(t,e){const i=this.fi.getResourceForElement(t);e=as(e),this.Tl(i,e,(t=>{t.pause()}))}scheduleResume(t,e){const i=this.fi.getResourceForElement(t);e=as(e),this.Tl(i,e,(t=>{t.resume()}))}scheduleUnlayout(t,e){const i=this.fi.getResourceForElement(t);e=as(e),this.Tl(i,e,(t=>{t.unlayout()}))}requireLayout(t,e){const i=[];return this.Il(t,(t=>{i.push(t.element.ensureLoaded())})),Promise.all(i)}Tl(t,e,i){for(const s of e)F(t.element.contains(s)),this.Il(s,i)}Il(t,e){if(t.classList.contains("i-amphtml-element")){e(this.fi.getResourceForElement(t));const i=t.getPlaceholder();i&&this.Il(i,e)}else{const i=t.getElementsByClassName("i-amphtml-element"),s=[];for(let t=0;t<i.length;t++){const n=i[t];let r=!1;for(let t=0;t<s.length;t++)if(s[t].contains(n)){r=!0;break}r||(s.push(n),e(this.fi.getResourceForElement(n)))}}}El(t,e,i){this.Tl(t,i,(e=>{e.element.ensureLoaded(t.getLayoutPriority())}))}})}(t),function(t){K(t,"mutator",class{constructor(t){this.ampdoc=t,this.win=t.win,this.fi=pe(t),this.Uu=Ee(this.ampdoc),this.ar=ge(this.win),this.$u=new class{constructor(t,e){this.win=t,this.Pn=e,this.vn=[],this.En=new Mi,this.Tn=t=>{m(t.target)&&this.In(t.target)},this.Mn=e=>{me(t).delay((()=>{this.win.document.activeElement&&this.In(this.win.document.activeElement)}),500)},this.win.document.addEventListener("focus",this.Tn,!0),this.win.addEventListener("blur",this.Mn)}Rn(){this.win.document.removeEventListener("focus",this.Tn,!0),this.win.removeEventListener("blur",this.Mn)}onFocus(t){return this.En.add(t)}In(t){const e=Date.now();0==this.vn.length||this.vn[this.vn.length-1].el!=t?this.vn.push({el:t,time:e}):this.vn[this.vn.length-1].time=e,this.purgeBefore(e-this.Pn),this.En.fire(t)}getLast(){return 0==this.vn.length?null:this.vn[this.vn.length-1].el}purgeBefore(t){let e=this.vn.length-1;for(let i=0;i<this.vn.length;i++)if(this.vn[i].time>=t){e=i-1;break}-1!=e&&this.vn.splice(0,e+1)}hasDescendantsOf(t){this.win.document.activeElement&&this.In(this.win.document.activeElement);for(let e=0;e<this.vn.length;e++)if(t.contains(this.vn[e].el))return!0;return!1}}(this.win,6e4),this.$u.onFocus((t=>{this.Ml(t)}))}forceChangeSize(t,e,i,s,n){this.Rl(vi.forElement(t),e,i,n,void 0,!0,s)}requestChangeSize(t,e,i,s,n){return new Promise(((r,o)=>{this.Rl(vi.forElement(t),e,i,s,n,!1,(t=>{t?r():o(new Error("changeSize attempt denied"))}))}))}expandElement(t){vi.forElement(t).completeExpand(),this.fi.schedulePass(70)}attemptCollapse(t){return new Promise(((e,i)=>{this.Rl(vi.forElement(t),0,0,void 0,void 0,!1,(s=>{s?(vi.forElement(t).completeCollapse(),e()):i(G().createExpectedError("collapse attempt denied"))}))}))}collapseElement(t){const e=this.Uu.getLayoutRect(t);0!=e.width&&0!=e.height&&(dt(this.win,"dirty-collapse-element")?this.dirtyElement(t):this.fi.setRelayoutTop(e.top)),vi.forElement(t).completeCollapse(),this.fi.schedulePass(70)}measureElement(t){return this.ar.measurePromise(t)}mutateElement(t,e,i){return this.yl(t,null,e,i)}measureMutateElement(t,e,i){return this.yl(t,e,i)}wl(t){const e=Yt(this.win,t.element);return{top:parseInt(e.marginTop,10)||0,right:parseInt(e.marginRight,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0}}yl(t,e,i,s=!1){const n=()=>{const e=this.Uu.getLayoutRect(t);return 0!=e.width&&0!=e.height?e.top:-1};let r=-1;return this.ar.runPromise({measure:()=>{e&&e(),s||(r=n())},mutate:()=>{if(i(),s)return;t.classList.contains("i-amphtml-element")&&vi.forElement(t).requestMeasure();const e=t.getElementsByClassName("i-amphtml-element");for(let t=0;t<e.length;t++)vi.forElement(e[t]).requestMeasure();this.fi.schedulePass(70),-1!=r&&this.fi.setRelayoutTop(r),this.ar.measure((()=>{const t=n();-1!=t&&t!=r&&(this.fi.setRelayoutTop(t),this.fi.schedulePass(70)),this.fi.maybeHeightChanged()}))}})}dirtyElement(t){let e=!1;if(t.classList.contains("i-amphtml-element")){const e=vi.forElement(t);this.fi.setRelayoutTop(e.getLayoutBox().top)}else e=!0;this.fi.schedulePass(70,e)}Ml(t){const e=function(t,e,i){let s;for(s=t;s&&undefined!==s;s=s.parentElement)if(e(s))return s;return null}(t,(t=>!!vi.forElementOptional(t)));if(!e)return;const i=vi.forElement(e),s=i.getPendingChangeSize();void 0!==s&&this.Rl(i,s.height,s.width,s.margins,void 0,!0)}Rl(t,e,i,s,n,r,o){t.hasBeenMeasured()&&!s?this.bl(t,e,i,void 0,n,r,o):this.ar.measure((()=>{t.hasBeenMeasured()||t.measure();const a=s?{newMargins:s,currentMargins:this.wl(t)}:void 0;this.bl(t,e,i,a,n,r,o)}))}bl(t,e,i,s,n,r,o){t.resetPendingChangeSize();const a=t.getLayoutSize();if(!(void 0!==e&&e!=a.height||void 0!==i&&i!=a.width||void 0!==s&&(h=s.currentMargins,l=s.newMargins,void 0!==l.top&&l.top!=h.top||void 0!==l.right&&l.right!=h.right||void 0!==l.bottom&&l.bottom!=h.bottom||void 0!==l.left&&l.left!=h.left)))return void 0===e&&void 0===i&&void 0===s&&G().error("Mutator","attempting to change size with undefined dimensions",t.debugid),void(o&&o(!0));var h,l;this.fi.updateOrEnqueueMutateTask(t,{resource:t,newHeight:e,newWidth:i,marginChange:s,event:n,force:r,callback:o}),this.fi.schedulePassVsync()}})}(t),at(t,"url-replace"),function(t){K(t,"action",class{constructor(t,e){this.ampdoc=t,this.pu=e||t.getRootNode(),this.Jl=this.ampdoc.isSingleDoc()&&oi(this.pu),this.Yn=this.Jl?Li:null,this.Ql=d(),this.Xl=d(),this.addEvent("tap"),this.addEvent("submit"),this.addEvent("change"),this.addEvent("input-debounced"),this.addEvent("input-throttled"),this.addEvent("valid"),this.addEvent("invalid")}addEvent(t){if("tap"==t)this.pu.addEventListener("click",(e=>{if(!e.defaultPrevented){const i=e.target;this.trigger(i,t,e,3)}})),this.pu.addEventListener("keydown",(e=>{const{key:i,target:s}=e,n=s;if("Enter"==i||" "==i){const i=n.getAttribute("role"),s=i&&p(Gi,i.toLowerCase());!e.defaultPrevented&&s&&this.trigger(n,t,e,3)&&e.preventDefault()}}));else if("submit"==t)this.pu.addEventListener(t,(e=>{const i=e.target;this.trigger(i,t,e,3)}));else if("change"==t)this.pu.addEventListener(t,(e=>{const i=e.target;this.Zl(e),this.trigger(i,t,e,3)}));else if("input-debounced"==t){const e=function(t,e,i){let s=0,n=0,r=null;function o(){s=0;const i=300-(t.Date.now()-n);var a;i>0?s=t.setTimeout(o,i):(a=r,r=null,e.apply(null,a))}return function(...e){n=t.Date.now(),r=e,s||(s=t.setTimeout(o,300))}}(this.ampdoc.win,(e=>{const i=e.target;this.trigger(i,t,e,3)}));this.pu.addEventListener("input",(t=>{const i=new Hi(t);this.Zl(i),e(i)}))}else if("input-throttled"==t){const e=function(t,e,i){let s=0,n=null;function r(r){n=null,s=t.setTimeout(o,i),e.apply(null,r)}function o(){s=0,n&&r(n)}return function(...t){s?n=t:r(t)}}(this.ampdoc.win,(e=>{const i=e.target;this.trigger(i,t,e,3)}),100);this.pu.addEventListener("input",(t=>{const i=new Hi(t);this.Zl(i),e(i)}))}else"valid"!=t&&"invalid"!=t||this.pu.addEventListener(t,(e=>{const i=e.target;this.trigger(i,t,e,3)}))}addGlobalTarget(t,e){this.Ql[t]=e}addGlobalMethodHandler(t,e,i=2){this.Xl[t]={handler:e,minTrust:i}}trigger(t,e,i,s,n){return this.tc(t,e,i,s,n)}execute(t,e,i,s,n,r,o){const a=new Fi(t,e,i,s,n,r,o);this.ic(a)}installActionHandler(t,e){if(F($i(t.getAttribute("id")||"")||t.tagName.toLowerCase()in ki),t[Ui])return void G().error(Di,`Action handler already installed for ${t}`);t[Ui]=e;const i=t[xi];a(i)&&me(B(t)).delay((()=>{i.forEach((t=>{try{e(t)}catch(e){G().error(Di,"Action execution failed:",t,e)}})),t[xi].length=0}),1)}hasAction(t,e,i){return!!this.sc(t,e,i)}hasResolvableAction(t,e,i){const s=this.sc(t,e,i);return!!s&&s.actionInfos.some((t=>{const{target:e}=t;return!!this.ec(e)}))}hasResolvableActionForTarget(t,e,i,s){const n=this.sc(t,e,s);return!!n&&n.actionInfos.some((t=>{const{target:e}=t;return this.ec(e)==i}))}ec(t){return this.Ql[t]?this.pu:this.pu.getElementById(t)}setAllowlist(t){F(t.every((t=>t.tagOrTarget&&t.method))),this.Yn=t}addToAllowlist(t,e,i){i&&i.includes("email")!==this.Jl||(this.Yn||(this.Yn=[]),a(e)||(e=[e]),e.forEach((e=>{this.Yn.some((i=>i.tagOrTarget==t&&i.method==e))||this.Yn.push({tagOrTarget:t,method:e})})))}tc(t,e,i,s,n){const r=this.sc(t,e);if(!r)return!1;const o=Math.random();let a=null;return r.actionInfos.forEach((h=>{const{args:l,method:c,str:u,target:m}=h,f=function(t,e,i){if(!t)return t;const s=i||{};if(e){const t=function(t){return t.detail}(e);t&&(s.event=t)}const n=d();return Object.keys(t).forEach((e=>{let i=t[e];if("object"==typeof i&&i.expression){const t=i.expression,e=function(t,e){if("."==e)return t;const i=e.split(".");let s=t;for(const t of i){if(!(t&&s&&void 0!==s[t]&&"object"==typeof s&&p(s,t))){s=void 0;break}s=s[t]}return s}(s,t);i=void 0===e?null:e}s[i]?n[e]=s[i]:n[e]=i})),n}(l,i,n),T=()=>{const n=this.ec(m);if(!n)return void this.nc(`Target "${m}" not found for action [${u}].`);const a=new Fi(n,c,f,t,r.node,i,s,e,n.tagName||m,o);return this.ic(a)};a=a?a.then(T):T()})),r.actionInfos.length>=1}nc(t,e){if(e){const i=k().createError(`[Action] ${t}`);throw Ze(i,e),i}k().error(Di,t)}ic(t){const{method:e,tagOrTarget:i}=t;if(this.Yn&&!function(t,e){let{method:i}=t;const{node:s,tagOrTarget:n}=t;i===Oi&&"function"==typeof s.getDefaultActionAlias&&(i=s.getDefaultActionAlias());const r=i.toLowerCase(),o=n.toLowerCase();return e.some((t=>(t.tagOrTarget.toLowerCase()===o||"*"===t.tagOrTarget)&&t.method.toLowerCase()===r))}(t,this.Yn))return this.nc(`"${i}.${e}" is not allowlisted ${JSON.stringify(this.Yn)}.`),null;const s=this.Ql[i];if(s)return s(t);const n=t.node,r=this.Xl[e];if(r&&t.satisfiesTrust(r.minTrust))return r.handler(t);const o=n.tagName.toLowerCase();if($i(o))return n.enqueAction?n.enqueAction(t):this.nc(`Unrecognized AMP element "${o}".`,n),null;const a=ki[o];if($i(n.getAttribute("id")||"")||a&&a.indexOf(e)>-1){const e=n[Ui];return e?e(t):(n[xi]=n[xi]||[],n[xi].push(t)),null}return this.nc(`Target (${i}) doesn't support "${e}" action.`,t.caller),null}sc(t,e,i){let s=t;for(;s;){if(i&&s==i)return null;const t=this.rc(s,e);if(t&&!(n=s).disabled&&(":disabled",!n.matches(":disabled")))return{node:s,actionInfos:F(t)};s=s.parentElement}var n;return null}rc(t,e){const i=this.hc(t,e);return i&&i[e]||null}hc(t,e){let i=t[Vi];return void 0===i&&(i=null,t.hasAttribute("on")?(i=zi(t.getAttribute("on"),t),t[Vi]=i):t.hasAttribute("execute")&&(i=zi(`${e}:${t.getAttribute("execute")}`,t),t[Vi]=i)),i}setActions(t,e){t.setAttribute("on",e),delete t[Vi]}Zl(t){const e=d(),{target:i}=t;var s;if(void 0!==i.value&&(e.value=i.value),"INPUT"==i.tagName&&(e.valueAsNumber=Number(i.value)),void 0!==i.checked&&(e.checked=i.checked),void 0===i.min&&void 0===i.max||(e.min=i.min,e.max=i.max),i.files&&(e.files=(s=i.files,s?Array.prototype.slice.call(s):[]).map((t=>({"name":t.name,"size":t.size,"type":t.type})))),Object.keys(e).length>0)try{t.detail=e}catch(t){}}},!0)}(t),ds(t),at(t,"storage"),function(t){K(t,ts,class{constructor(t){this.ampdoc=t,this.Rc=t.getRootNode(),this.Uu=Ee(this.ampdoc),this.Fe=_e(this.ampdoc),this.vn=le(this.ampdoc),this.Or=ue(this.ampdoc.win),this.yc=this.Or.isIos()&&this.Or.isSafari(),this.$o=Nt(this.ampdoc.win)&&this.Fe.isOvertakeHistory(),this.wc=this.Rc!=this.ampdoc.getRootNode()||!!this.ampdoc.getParent(),this.bc="inabox"==O(this.ampdoc.win).runtime,this.Vc=this.Rc.nodeType==Node.DOCUMENT_NODE?this.Rc.documentElement:this.Rc,this.Sc=this.xc.bind(this),this.Rc.addEventListener(es,this.Sc),this.Rc.addEventListener(is,this.Sc),this.Oc=!1,function(t){return t.whenReady().then((()=>!!t.getBody().querySelector("amp-analytics[type=googleanalytics]")))}(this.ampdoc).then((t=>{this.Oc=t})),this.su=!1,this.Cc=!1,Promise.all([this.Fe.isTrustedViewer(),this.Fe.getViewerOrigin()]).then((t=>{var e;this.su=t[0],this.Cc=(e=t[1],Ve.localhostRegex.test(ke(e).origin))})),this.kc=null,this.Nc=new yi,this.Dc=new yi}static installAnchorClickInterceptor(t,e){e.document.documentElement.addEventListener("click",rs.bind(null,t),!0)}cleanup(){this.Sc&&(this.Rc.removeEventListener(es,this.Sc),this.Rc.removeEventListener(is,this.Sc))}openWindow(t,e,i,s){let n="";!this.Or.isIos()&&this.Or.isChrome()||s||(n+="noopener");const r=Zi(t,e,i,n);r&&!s&&(r.opener=null)}navigateTo(t,e,i,s={}){const{opener:n=!1,target:r="_top"}=s;e=this.Lc(e);const o=Ae(this.Vc);if(!o.isProtocolValid(e))return void k().error(ts,"Cannot navigate to invalid protocol: "+e);$(ss.includes(r),`Target '${r}' not supported.`);const a=o.getSourceUrl(t.location);e=o.resolveRelativeUrl(e,a),"_blank"!=r?i&&(this.kc||(this.kc=this.Uc()),this.kc.includes(i)&&this.navigateToAmpUrl(e,i))||(t.top.location.href=e):this.openWindow(t,e,r,n)}navigateToAmpUrl(t,e){return!!this.Fe.hasCapability("a2a")&&(this.Fe.sendMessage("a2aNavigate",{"url":t,"requestedBy":e}),!0)}Uc(){const t=this.Rc.querySelector('meta[name="amp-to-amp-navigation"]');return t&&t.hasAttribute("content")?t.getAttribute("content").split(",").map((t=>t.trim())):[]}xc(t){if(t.defaultPrevented)return;const e=_t(t.__AMP_CUSTOM_LINKER_TARGET__||t.target,"A");e&&e.href&&(t.type==es?this.$c(e,t):t.type==is&&this.Fc(e,t))}$c(t,e){this.Bc(t);let i=this.Hc(t.href);if(this.jc(e,t,i))return;if(this.zc(e,t,i))return;const s=this.Gc();os(i)!=os(s)&&(this.qc(t,e),i=this.Hc(t.href)),this.Wc(e,t,i,s)}Fc(t,e){this.Bc(t),this.qc(t,e)}qc(t,e){this.Nc.forEach((i=>{i(t,e)}))}Lc(t){return this.Dc.forEach((e=>{t=e(t)})),t}Bc(t){let e=null;this.Oc&&!this.wc&&(e=function(t,e){const i=y(Le(class{static getTop(t){return t.top}static getLocation(t){return t.location}static getDocumentReferrer(t){return t.document.referrer}static getHostname(t){return t.location.hostname}static getUserAgent(t){return t.navigator.userAgent}static getUserLanguage(t){return t.navigator.userLanguage||t.navigator.language}static getDevicePixelRatio(){return self.devicePixelRatio||1}static getSendBeacon(t){if(t.navigator.sendBeacon)return t.navigator.sendBeacon.bind(t.navigator)}static getXMLHttpRequest(t){return t.XMLHttpRequest}static getImage(t){return t.Image}}.getLocation(t).href).search),s=[];for(let t=0;t<ui.length;t++){const e=ui[t];void 0!==i[e]&&s.push(e)}const n=e.getAttribute("data-amp-addparams");let{href:r}=e;n&&(r=Fe(r,y(n)));const o=y(Le(r).search);for(let t=s.length-1;t>=0;t--)void 0!==o[s[t]]&&s.splice(t,1);return function(t){let e="";for(let i=0;i<t.length;i++){const s=t[i];e+=0==i?`${s}=QUERY_PARAM(${s})`:`&${s}=QUERY_PARAM(${s})`}return e}(s)}(this.ampdoc.win,t)),fe(t).maybeExpandLink(t,e)}zc(t,e,i){if(!this.$o)return!1;const s=B(e),n=e.href,{protocol:r}=i;if("ftp:"==r)return Zi(s,n,"_blank"),t.preventDefault(),!0;const o=/^(https?|mailto):$/.test(r);return!(!this.yc||o||(Zi(s,n,"_top"),t.preventDefault(),0))}jc(t,e,i){return!(!e.hasAttribute("rel")||!e.getAttribute("rel").split(" ").map((t=>t.trim())).includes("amphtml")||!this.navigateToAmpUrl(i.href,"<a rel=amphtml>")||(t.preventDefault(),0))}Wc(t,e,i,s){const n=os(i),r=os(s);if(i.hash&&n==r)this.Kc(t,i,s);else{let i=(e.getAttribute("target")||"").toLowerCase();(this.wc||this.bc)&&"_top"!=i&&"_blank"!=i&&(i="_blank",e.setAttribute("target",i));const{win:r}=this.ampdoc,o=ue(r),a=_e(e);s.search&&o.isSafari()&&o.getMajorVersion()>=13&&a.isProxyOrigin()&&a.isEmbedded()&&this.Yc(r,s,i),this.viewerInterceptsNavigation(n,"intercept_click")&&t.preventDefault()}}Yc(t,e,i){const s=e.href,n=`${e.origin}${e.pathname}${e.hash}`;t.history.replaceState(null,"",n);const r=()=>{const e=t.location.href;e==n?t.history.replaceState(null,"",s):G().error(ts,"Unexpected iframe URL change:",e,n)};"_blank"===i?t.setTimeout(r,0):t.addEventListener("pageshow",(function e(i){i.persisted&&(r(),t.removeEventListener("pageshow",e))}))}Kc(t,e,i){if(t.preventDefault(),this.wc)return;const s=e.hash.slice(1);let n=null;if(s){const t=(r=s,CSS.escape(r));n=this.Rc.getElementById(s)||this.Rc.querySelector(`a[name="${t}"]`)}var r;e.hash!=i.hash?this.vn.replaceStateForTarget(e.hash).then((()=>{this.Jc(n,s)})):this.Jc(n,s)}registerAnchorMutator(t,e){this.Nc.enqueue(t,e)}registerNavigateToMutator(t,e){this.Dc.enqueue(t,e)}Jc(t,e){t&&(this.Uu.scrollIntoView(t),me(this.ampdoc.win).delay((()=>this.Uu.scrollIntoView(t)),1))}Hc(t){return Ae(this.Vc).parse(t)}Gc(){return this.Hc("")}viewerInterceptsNavigation(t,e){const i=this.Fe.hasCapability("interceptNavigation"),s=this.ampdoc.isSingleDoc()&&this.ampdoc.getRootNode().documentElement.hasAttribute("allow-navigation-interception");return!(!i||!s||!this.su&&!this.Cc||(this.Fe.sendMessage("navigateTo",{"url":t,"requestedBy":e}),0))}},!0)}(t),function(t){t.whenExtensionsKnown().then((()=>{t.declaresExtension("amp-form")&&t.getRootNode().addEventListener("submit",fs,!0)}))}(t)}(t)}var As,_s=["AMP-AD","AMP-ANALYTICS","AMP-PIXEL","AMP-AD-EXIT"],gs=(()=>self.AMP.config.urls)();function Es(){return void 0===As&&(As="srcdoc"in HTMLIFrameElement.prototype),As}function Rs(){const t=gs.cdn;return`${t}/lts/ ${t}/rtv/ ${t}/sw/`}function vs(t,e){const i=he(t);e.forEach((({extensionId:t,extensionVersion:e})=>i.preloadExtension(t,e)))}function Is(t){const e=t.contentWindow&&t.contentWindow.document;return!!(e&&(i=e,"loading"!=i.readyState&&"uninitialized"!=i.readyState)&&e.body&&e.body.firstChild);var i}var ys=class{static installExtensionsInEmbed(t,e,i,s,n,r){const o=i.win,a=B(o.frameElement);!function(t,e){t.__AMP_PARENT=e,t.__AMP_TOP=Q(e)}(o,a);const h=t=>new Promise((e=>{setTimeout((()=>e(t)),1)}));return h(void 0).then((()=>{!function(t,e){var i;(function(t,e){var i;(i=e).IntersectionObserver&&i.IntersectionObserverEntry&&!i.IntersectionObserver._stub&&function(t){try{return new t.IntersectionObserver((()=>{}),{root:t.document}),!0}catch(t){return!1}}(i)&&!function(t){return/apple/i.test(t.navigator.vendor)}(i)?function(t){t.IntersectionObserverEntry&&!("isIntersecting"in t.IntersectionObserverEntry.prototype)&&Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{enumerable:!0,configurable:!0,get(){return this.intersectionRatio>0}})}(e):Object.defineProperties(e,{IntersectionObserver:{get:()=>t.IntersectionObserver},IntersectionObserverEntry:{get:()=>t.IntersectionObserverEntry}})})(t,e),function(t,e){!e.ResizeObserver&&t.ResizeObserver&&Object.defineProperties(e,{ResizeObserver:{get:()=>t.ResizeObserver},ResizeObserverEntry:{get:()=>t.ResizeObserverEntry}})}(t,e),(i=e).AbortController||(Object.defineProperty(i,"AbortController",{configurable:!0,enumerable:!1,writable:!0,value:Ai}),Object.defineProperty(i,"AbortSignal",{configurable:!0,enumerable:!1,writable:!0,value:_i}))}(a,o)})).then(h).then((()=>{!function(t,e,i,s,n){const r=t.getHeadNode();!function(t,e,i,s){let n=t.__AMP_CSS_SM;n||(n=t.__AMP_CSS_SM=d());const r="amp-runtime";{const i=Se(t,n,r);if(i)return"STYLE"==i.tagName&&i.textContent!==e&&(i.textContent=e),i}const o=(t.ownerDocument||t).createElement("style");o.textContent=e;let a=null;o.setAttribute("amp-runtime",""),function(t,e,i=null){if(!i)return void function(t,e){t.insertBefore(e,t.firstChild)}(t,e);const s=i.nextSibling;t.insertBefore(e,s)}(t,o,a),n[r]=o}(r,function(t,e){const i=t.__AMP_CSS_TR;return i?i(e):e}(r,"[hidden]{display:none!important}.i-amphtml-element{display:inline-block}.i-amphtml-blurry-placeholder{transition:opacity 0.3s cubic-bezier(0.0,0.0,0.2,1)!important;pointer-events:none}[layout=nodisplay]:not(.i-amphtml-element){display:none!important}.i-amphtml-layout-fixed,[layout=fixed][width][height]:not(.i-amphtml-layout-fixed){display:inline-block;position:relative}.i-amphtml-layout-responsive,[layout=responsive][width][height]:not(.i-amphtml-layout-responsive),[width][height][heights]:not([layout]):not(.i-amphtml-layout-responsive),[width][height][sizes]:not(img):not([layout]):not(.i-amphtml-layout-responsive){display:block;position:relative}.i-amphtml-layout-intrinsic,[layout=intrinsic][width][height]:not(.i-amphtml-layout-intrinsic){display:inline-block;position:relative;max-width:100%}.i-amphtml-layout-intrinsic .i-amphtml-sizer{max-width:100%}.i-amphtml-intrinsic-sizer{max-width:100%;display:block!important}.i-amphtml-layout-container,.i-amphtml-layout-fixed-height,[layout=container],[layout=fixed-height][height]:not(.i-amphtml-layout-fixed-height){display:block;position:relative}.i-amphtml-layout-fill,.i-amphtml-layout-fill.i-amphtml-notbuilt,[layout=fill]:not(.i-amphtml-layout-fill),body noscript>*{display:block;overflow:hidden!important;position:absolute;top:0;left:0;bottom:0;right:0}body noscript>*{position:absolute!important;width:100%;height:100%;z-index:2}body noscript{display:inline!important}.i-amphtml-layout-flex-item,[layout=flex-item]:not(.i-amphtml-layout-flex-item){display:block;position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.i-amphtml-layout-fluid{position:relative}.i-amphtml-layout-size-defined{overflow:hidden!important}.i-amphtml-layout-awaiting-size{position:absolute!important;top:auto!important;bottom:auto!important}i-amphtml-sizer{display:block!important}@supports (aspect-ratio:1/1){i-amphtml-sizer.i-amphtml-disable-ar{display:none!important}}.i-amphtml-blurry-placeholder,.i-amphtml-fill-content{display:block;height:0;max-height:100%;max-width:100%;min-height:100%;min-width:100%;width:0;margin:auto}.i-amphtml-layout-size-defined .i-amphtml-fill-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-replaced-content,.i-amphtml-screen-reader{padding:0!important;border:none!important}.i-amphtml-screen-reader{position:fixed!important;top:0px!important;left:0px!important;width:4px!important;height:4px!important;opacity:0!important;overflow:hidden!important;margin:0!important;display:block!important;visibility:visible!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:8px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:12px!important}.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader~.i-amphtml-screen-reader{left:16px!important}.i-amphtml-unresolved{position:relative;overflow:hidden!important}.i-amphtml-select-disabled{-webkit-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.i-amphtml-notbuilt,[layout]:not(.i-amphtml-element),[width][height][heights]:not([layout]):not(.i-amphtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-amphtml-element){position:relative;overflow:hidden!important;color:transparent!important}.i-amphtml-notbuilt:not(.i-amphtml-layout-container)>*,[layout]:not([layout=container]):not(.i-amphtml-element)>*,[width][height][heights]:not([layout]):not(.i-amphtml-element)>*,[width][height][sizes]:not([layout]):not(.i-amphtml-element)>*{display:none}amp-img:not(.i-amphtml-element)[i-amphtml-ssr]>img.i-amphtml-fill-content{display:block}.i-amphtml-notbuilt:not(.i-amphtml-layout-container),[layout]:not([layout=container]):not(.i-amphtml-element),[width][height][heights]:not([layout]):not(.i-amphtml-element),[width][height][sizes]:not(img):not([layout]):not(.i-amphtml-element){color:transparent!important;line-height:0!important}.i-amphtml-ghost{visibility:hidden!important}.i-amphtml-element>[placeholder],[layout]:not(.i-amphtml-element)>[placeholder],[width][height][heights]:not([layout]):not(.i-amphtml-element)>[placeholder],[width][height][sizes]:not([layout]):not(.i-amphtml-element)>[placeholder]{display:block;line-height:normal}.i-amphtml-element>[placeholder].amp-hidden,.i-amphtml-element>[placeholder].hidden{visibility:hidden}.i-amphtml-element:not(.amp-notsupported)>[fallback],.i-amphtml-layout-container>[placeholder].amp-hidden,.i-amphtml-layout-container>[placeholder].hidden{display:none}.i-amphtml-layout-size-defined>[fallback],.i-amphtml-layout-size-defined>[placeholder]{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1}amp-img[i-amphtml-ssr]:not(.i-amphtml-element)>[placeholder]{z-index:auto}.i-amphtml-notbuilt>[placeholder]{display:block!important}.i-amphtml-hidden-by-media-query{display:none!important}.i-amphtml-element-error{background:red!important;color:#fff!important;position:relative!important}.i-amphtml-element-error:before{content:attr(error-message)}i-amp-scroll-container,i-amphtml-scroll-container{position:absolute;top:0;left:0;right:0;bottom:0;display:block}i-amp-scroll-container.amp-active,i-amphtml-scroll-container.amp-active{overflow:auto;-webkit-overflow-scrolling:touch}.i-amphtml-loading-container{display:block!important;pointer-events:none;z-index:1}.i-amphtml-notbuilt>.i-amphtml-loading-container{display:block!important}.i-amphtml-loading-container.amp-hidden{visibility:hidden}.i-amphtml-element>[overflow]{cursor:pointer;position:relative;z-index:2;visibility:hidden;display:initial;line-height:normal}.i-amphtml-layout-size-defined>[overflow]{position:absolute}.i-amphtml-element>[overflow].amp-visible{visibility:visible}template{display:none!important}.amp-border-box,.amp-border-box *,.amp-border-box :after,.amp-border-box :before{box-sizing:border-box}amp-pixel{display:none!important}amp-analytics,amp-auto-ads,amp-story-auto-ads{position:fixed!important;top:0!important;width:1px!important;height:1px!important;overflow:hidden!important;visibility:hidden}amp-story{visibility:hidden!important}html.i-amphtml-fie>amp-analytics{position:initial!important}[visible-when-invalid]:not(.visible),form [submit-error],form [submit-success],form [submitting]{display:none}amp-accordion{display:block!important}@media (min-width:1px){:where(amp-accordion>section)>:first-child{margin:0;background-color:#efefef;padding-right:20px;border:1px solid #dfdfdf}:where(amp-accordion>section)>:last-child{margin:0}}amp-accordion>section{float:none!important}amp-accordion>section>*{float:none!important;display:block!important;overflow:hidden!important;position:relative!important}amp-accordion,amp-accordion>section{margin:0}amp-accordion:not(.i-amphtml-built)>section>:last-child{display:none!important}amp-accordion:not(.i-amphtml-built)>section[expanded]>:last-child{display:block!important}\n/*# sourceURL=/css/ampshared.css*/"))}(i,0,null)})).then(h).then((()=>{o.frameElement&&n&&n(i.win,i)})).then(h).then((()=>{o.frameElement&&ys.installStandardServicesInEmbed(i)})).then(h).then((()=>{o.frameElement&&e.preinstallEmbed(i,s)})).then(h).then((()=>{o.frameElement&&t.Tht()})).then(h).then((()=>{if(!o.frameElement)return;const t=e.installExtensionsInDoc(i,s);i.setExtensionsKnown(),r&&r(t)}))}static installStandardServicesInEmbed(t){(function(t,e,i){it(t,t,"timer",class{constructor(t){this.win=t,this.Bn=this.win.Promise.resolve(),this.Hn=0,this.jn={},this.zn=Date.now()}timeSinceStart(){return Date.now()-this.zn}delay(t,e){if(!e){const e="p"+this.Hn++;return this.Bn.then((()=>{this.jn[e]?delete this.jn[e]:t()})).catch(Ze),e}return this.win.setTimeout((()=>{try{t()}catch(t){throw Ze(t),t}}),e)}cancel(t){"string"!=typeof t?this.win.clearTimeout(t):this.jn[t]=!0}promise(t){return new this.win.Promise((e=>{if(-1==this.delay(e,t))throw new Error("Failed to schedule timer.")}))}timeoutPromise(t,e,i){let s;const n=new this.win.Promise(((e,n)=>{if(s=this.delay((()=>{n(k().createError(i||"timeout"))}),t),-1==s)throw new Error("Failed to schedule timer.")}));if(!e)return n;const r=()=>{this.cancel(s)};return e.then(r,r),this.win.Promise.race([n,e])}poll(t,e){return new this.win.Promise((i=>{const s=this.win.setInterval((()=>{e()&&(this.win.clearInterval(s),i())}),t)}))}},!0)})(t.win),Ts(t)}},bs=(()=>self.AMP.config.urls)(),Ps=new RegExp("https://cdn\\.materialdesignicons\\.com/([0-9]+\\.?)+/css/materialdesignicons\\.min\\.css|https://cloud\\.typography\\.com/[0-9]*/[0-9]*/css/fonts\\.css|https://fast\\.fonts\\.net/.*|https://fonts\\.googleapis\\.com/css2?\\?.*|https://fonts\\.googleapis\\.com/icon\\?.*|https://fonts\\.googleapis\\.com/earlyaccess/.*\\.css|https://maxcdn\\.bootstrapcdn\\.com/font-awesome/([0-9]+\\.?)+/css/font-awesome\\.min\\.css(\\?.*)?|https://(use|pro)\\.fontawesome\\.com/releases/v([0-9]+\\.?)+/css/[0-9a-zA-Z-]+\\.css|https://(use|pro)\\.fontawesome\\.com/[0-9a-zA-Z-]+\\.css|https://use\\.typekit\\.net/[\\w\\p{L}\\p{N}_]+\\.css"),Ns=d({"amp-accordion":!0,"amp-ad-exit":!0,"amp-analytics":!0,"amp-anim":!0,"amp-animation":!0,"amp-audio":!0,"amp-bind":!0,"amp-carousel":!0,"amp-fit-text":!0,"amp-font":!0,"amp-form":!0,"amp-gwd-animation":!0,"amp-img":!0,"amp-layout":!0,"amp-lightbox":!0,"amp-mraid":!0,"amp-mustache":!0,"amp-pixel":!0,"amp-position-observer":!0,"amp-selector":!0,"amp-social-share":!0,"amp-video":!0}),Cs=new RegExp("^"+bs.cdn.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"/(rtv/\\d+/)?v0/");function ws(t,e){if("application/json"===e.type)return;const{src:i}=e;if(Cs.test(i)){const e=Qt(i);e&&Ns[e.extensionId]&&t.push(e)}Rt(e)}function Ss(t,e,i){const{as:s,href:n,rel:r}=i;"preload"!==r||"image"!==s?"stylesheet"===r&&Ps.test(n)?t.push(n):Rt(i):e.push(n)}var Os=["https://cdn.materialdesignicons.com","https://cloud.typography.com","https://fast.fonts.net","https://fonts.googleapis.com","https://maxcdn.bootstrapcdn.com","https://p.typekit.net","https://pro.fontawesome.com","https://use.fontawesome.com","https://use.typekit.net"].join(" ");function Ms(t){var e;return null===(e=t.featurePolicy)||void 0===e?void 0:e.features().includes("attribution-reporting")}var Ds="AMP-Fast-Fetch-Signature";function Vs(t,e){G().error("AMP-A4A",`Signing service error for ${t}: ${e}`)}var xs=class{static generate(t){return function(t){const{length:e}=t;let i=5381;for(let s=0;s<e;s++)i=33*i^t.charCodeAt(s);return String(i>>>0)}(function(t){const e=[];let i=0;for(;m(t)&&i<25;){let s="";t.id&&(s=`/${t.id}`);const n=t.nodeName.toLowerCase();e.push(`${n}${s}${Us(t)}`),i++,t=t.parentElement}return e.join()}(t))}};function Us(t){const{nodeName:e}=t;let i=0,s=0,n=t.previousElementSibling;for(;n&&s<25&&i<100;)n.nodeName==e&&s++,i++,n=n.previousElementSibling;return s<25&&i<100?`.${s}`:""}var ks=(()=>self.AMP.config.urls)();function Ls(t,e,i,s){const n=Date.now(),r=e.getAttribute("width"),o=e.getAttribute("height");(s=s||{}).width=wt(r),s.height=wt(o),e.getAttribute("title")&&(s.title=e.getAttribute("title"));let a=t.location.href;"about:srcdoc"==a&&(a=t.parent.location.href);const h=se(e),l=ae(e),c=_e(e).getUnconfirmedReferrerUrl(),u=function(t){const e=t.ownerDocument.body;let i=0,s=0;for(let n=t;n&&n!=e;n=n.offsetParent)i+=n.offsetLeft,s+=n.offsetTop;const{offsetHeight:n,offsetWidth:r}=t;return Ot(i,s,r,n)}(e);var d;s._context={"ampcontextVersion":"2205120110001","ampcontextFilepath":`${ks.thirdParty}/2205120110001/ampcontext-v0.js`,"sourceUrl":l.sourceUrl,"referrer":c,"canonicalUrl":l.canonicalUrl,"pageViewId":l.pageViewId,"location":{"href":a},"startTime":n,"tagName":e.tagName,"mode":{localDev:!1,development:!1,esm:O(d).esm,test:!1,rtvVersion:O(d).rtvVersion},"canary":ut(t),"hidden":!h.isVisible(),"initialLayoutRect":u?{"left":u.left,"top":u.top,"width":u.width,"height":u.height}:null,"domFingerprint":xs.generate(e),"experimentToggles":pt(t),"sentinel":i};const p=e.getAttribute("src");return p&&(s.src=p),s}var Gs=(()=>self.AMP.config.urls)();function Fs(t,e){const i=e||"frame";return t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN=t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN||"d-"+$s(t),"https://"+t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN+`.${Gs.thirdPartyFrameHost}/2205120110001/${i}.html`}function $s(t){let e;if(t.crypto&&t.crypto.getRandomValues){const i=new Uint32Array(2);t.crypto.getRandomValues(i),e=String(i[0])+i[1]}else e=String(t.Math.random()).substr(2)+"0";return e}var Hs={"AMP-FX-FLYING-CARPET":!0,"AMP-LIGHTBOX":!0,"AMP-STICKY-AD":!0,"AMP-LIGHTBOX-GALLERY":!0};function js(t,e){const{position:i}=Yt(e,t);return"fixed"==i||"sticky"==i}var zs=null,Bs=null,Ks=["<script amp-ad-metadata type=application/json>",'<script type="application/json" amp-ad-metadata>',"<script type=application/json amp-ad-metadata>"],Ws="1-0-37",qs="amp-ff-exps",Ys="amp-a4a",Js="NO-CONTENT-RESPONSE",Xs="NETWORK-FAILURE",Qs="INVALID-SPSA-RESPONSE",Zs="IFRAME-GET",tn="safeframe",en="nameframe",sn={"frameborder":"0","allowfullscreen":"","allowtransparency":"","scrolling":"no","marginwidth":"0","marginheight":"0"},nn="ad-render-start",rn="ad-render-end",on="ad-iframe-loaded",an={"adRequestStart":"ad-request-start","adRequestEnd":"ad-response-end","renderFriendlyStart":nn,"renderCrossDomainStart":nn,"renderSafeFrameStart":nn,"renderFriendlyEnd":rn,"renderCrossDomainEnd":rn,"friendlyIframeIniLoad":on,"crossDomainIframeLoaded":on};function hn(t,e,i){return(...s)=>{try{return t.apply(e,s)}catch(t){if(i)try{return s.unshift(t),i.apply(e,s)}catch(t){}return}}}var ln=class extends t.BaseElement{constructor(e){super(e),F(t.AmpAdUIHandler),F(t.AmpAdXOriginIframeHandler),this.Eht=null,this.Rht=null,this.Iht=0,this.Nht=null,this.Cht=null,this.uiHandler=null,this.Sht=null,this.Oht=!1,this.Mht=null,this.Dht=null,this.Uht=null,this.Vht=this.getNonAmpCreativeRenderingMethod(),this.kht=this.win.performance&&this.win.performance.now?this.win.performance.now.bind(this.win.performance):Date.now,this.sentinel=function(t){let e=0;for(let i=t;i&&i!=i.parent;i=i.parent)e++;return String(e)+"-"+$s(t)}(window),this.Lht=!1,this.iframe=null,this.safeframeVersion=Ws,this.isRefreshing=!1,this.isRelayoutNeededFlag=!1,this.postAdResponseExperimentFeatures={},this.Ght=null,this.Fht=null,this.isSinglePageStoryAd=!1,this.$ht=null,this.tj=null}getLayoutPriority(){return this.element.getAmpDoc().isSingleDoc()?2:1}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||t==Ct||"intrinsic"==t}(t)}isRelayoutNeeded(){return this.isRelayoutNeededFlag}buildCallback(){if(this.Dht={width:this.element.getAttribute("width"),height:this.element.getAttribute("height")},Math.round(this.getResource().getUpgradeDelayMs()),this.uiHandler=new t.AmpAdUIHandler(this),this.uiHandler.validateStickyAd(),this.uiHandler.getScrollPromiseForStickyAd().then((()=>this.uiHandler.maybeInitStickyAd())),this.uiHandler.isStickyAd()&&(e=this.element,i=()=>this.layoutCallback(),bi?Pi.then(i):function(t){return K(t,"chunk",Si),q(t,"chunk")}(e).run(i,10)),!this.isInNoSigningExp()){const t=cn(this.win);this.Eht=this.getAmpDoc().whenFirstVisible().then((()=>{this.getSigningServiceNames().forEach((e=>{t.loadKeyset(e)}))}))}var e,i;this.Ght=this.getA4aAnalyticsConfig(),this.Ght&&(this.Fht=function(t,e,i=!1,s=!1){const n=t.ownerDocument,r=vt(n,"amp-analytics",{"sandbox":"true","trigger":s?"":"immediate"}),o=vt(n,"script",{"type":"application/json"});if(o.textContent=JSON.stringify(e),r.appendChild(o),r.CONFIG=e,i){const e=he(B(t)),i=se(t);e.installExtensionForDoc(i,"amp-analytics")}else re(t).then((t=>{F(t)}));return t.appendChild(r),r}(this.element,this.Ght,!0)),this.isSinglePageStoryAd=this.element.hasAttribute("amp-story")}renderOutsideViewport(){if(!this.Oht&&this.win["3pla"]&&!this.inNonAmpPreferenceExp())return!1;const t=function(t){const e=t.getAttribute("data-loading-strategy");if(null==e)return null;if("prefer-viewability-over-views"==e||""==e)return 1.25;const i="Value of data-loading-strategy should be a float number in range of [0, 3], but got "+e,s=k().assertNumber(parseFloat(e),i);return $(s>=0&&s<=3,i),s}(this.element);return null!==t?t:super.renderOutsideViewport()}isValidElement(){return!0}getCreativeSize(){return this.Dht}delayAdRequestEnabled(){return!1}getPreconnectUrls(){return[]}getPrefetchUrls(){return[]}isAmpAdElement(){return"AMP-AD"==this.element.tagName||"AMP-EMBED"==this.element.tagName}preconnectCallback(t){const e=this.getPreconnectUrls();e&&e.forEach((t=>{de(this.win).url(this.getAmpDoc(),t,!0)}))}pauseCallback(){this.Cht&&this.Cht.pause()}resumeCallback(){if(this.Cht)return void this.Cht.resume();const t=this.getResource();t.hasBeenMeasured()&&!t.isMeasureRequested()&&this.onLayoutMeasure()}getResource(){return this.element.getResources().getResourceForElement(this.element)}hasAdPromise(){return!!this.Rht}inNonAmpPreferenceExp(){return!!this.postAdResponseExperimentFeatures.pref_neutral_enabled&&["adsense","doubleclick"].includes(this.element.getAttribute("type"))}Hht(){const t=this.getIntersectionElementLayoutBox();return!(this.getLayout()!=Ct&&(0==t.height||0==t.width)||this.element.hasAttribute("hidden")||this.element.classList.contains("i-amphtml-hidden-by-media-query")||!this.uiHandler.isStickyAd()&&!function(t,e){let i=!1,s=0,n=t;do{Hs[n.tagName]?(s++,i=!1):js(n,e)&&(i=!0),n=n.parentElement}while(n&&"BODY"!=n.tagName);return!i&&s<=1}(this.element,this.win)||!this.isValidElement())}onLayoutMeasure(){this.initiateAdRequest()}whenWithinViewport(t){return F(!1!==t),this.getResource().whenWithinViewport(t)}initiateAdRequest(){if(this.Sht&&this.Sht.onLayoutMeasure(),this.Rht||!this.Hht())return;++this.Iht;const t=this.verifyStillCurrent();this.Rht=this.getAmpDoc().whenFirstVisible().then((()=>{t();const e=this.delayAdRequestEnabled();if(e)return this.whenWithinViewport("number"==typeof e?e:this.renderOutsideViewport())})).then((()=>{t();const e=super.getConsentPolicy();if(e){const t=function(t,e="default"){return Te(t).then((t=>t?t.whenPolicyResolved(e):null))}(this.element,e).catch((t=>(k().error(Ys,"Error determining consent state",t),At.UNKNOWN))),i=function(t,e="default"){return Te(t).then((t=>t?t.getConsentStringInfo(e):null))}(this.element,e).catch((t=>(k().error(Ys,"Error determining consent string",t),null))),s=function(t,e="default"){return Te(t).then((t=>t?t.getConsentMetadataInfo(e):null))}(this.element,e).catch((t=>(k().error(Ys,"Error determining consent metadata",t),null)));return Promise.all([t,i,s])}return Promise.resolve([null,null,null])})).then((e=>{t();const i=e[0],s=e[1],n=e[2],r=n?n.gdprApplies:n,o=n?n.additionalConsent:n,a=n?n.consentStringType:n;return this.getServeNpaSignal().then((t=>this.getAdUrl({consentState:i,consentString:s,consentStringType:a,gdprApplies:r,additionalConsent:o},this.zht(i,s,n),t)))})).then((e=>(t(),this.Nht=e,!this.isXhrAllowed()&&this.Nht?(this.Vht="iframe_get",Promise.reject(Zs)):e&&this.sendXhrRequest(e)))).then((e=>{if(t(),this.jht("adRequestEnd"),!e||!e.arrayBuffer||e.headers.has("amp-ff-empty-creative"))return this.forceCollapse(),Promise.reject(Js);e.headers&&e.headers.has(qs)&&this.Bht(e.headers.get(qs));const i=this.getNonAmpCreativeRenderingMethod(e.headers.get("X-AmpAdRender"));this.Vht=i,this.Vht==en&&de(this.win).preload(this.getAmpDoc(),Fs(this.win,"nameframe"));const s=e.headers.get("X-AmpSafeFrameVersion");return/^[0-9-]+$/.test(s)&&s!=Ws&&(this.safeframeVersion=s,de(this.win).preload(this.getAmpDoc(),this.getSafeframePath())),e})).then((e=>this.isInNoSigningExp()?this.Kht(e,t):this.Wht(e,t))).catch((t=>{switch(t.message||t){case Zs:case Xs:return null;case Qs:case Js:return{minifiedCreative:"",customElementExtensions:[],customStylesheets:[]}}return this.qht(t),null}))}isInNoSigningExp(){return!0}skipClientSideValidation(t){return!1}Kht(t,e){if(204===t.status)return this.forceCollapse(),Promise.reject(Js);const i=this.extractSize(t.headers);if(this.Dht=i||this.Dht,!un(this.win)||this.skipClientSideValidation(t.headers))return this.Yht(t,e);const s=t.clone(),n=new class{constructor(t,e){const i=new j;this.Jht=i.promise,this.Xht=i.resolve;const s=new j;this.Qht=s.promise,this.Zht=s.resolve,this.tlt=null;const n=new j;this.elt=n.promise,this.ilt=n.resolve,this.slt=null,this.nlt=!1,this.rlt=e||di}onChunk(t){!this.tlt&&t.body&&(this.tlt=t.body,this.Xht(_(t.head))),this.nlt&&this.olt()}onEnd(t){this.Zht(this.olt())}waitForHead(){return this.Jht}transferBody(t){return _(t),A(!this.nlt),this.nlt=!0,this.ilt(t),this.Jht.then((()=>{const e=this.tlt.attributes;for(let i=0;i<e.length;i++){const{name:s,value:n}=e[i];t.setAttribute(s,n)}})),this.olt(),this.Qht}olt(){return this.slt||(this.slt=Promise.all([this.elt,this.Jht]).then((t=>(0,this.rlt)((()=>{this.slt=null;const e=t[0];for((i=_(this.tlt),s="noscript",void 0,A(/^[\w-]+$/.test(s)),"> noscript",i.querySelectorAll(function(t,e){return t.replace(/^|,/g,`$&${e} `)}("> noscript",":scope"))).forEach(Rt);this.tlt.firstChild;)e.appendChild(this.tlt.firstChild);var i,s}))))),this.slt}}(this.win),r=new class{constructor(t,e,i){this.hlt=e,this.Ra=i,this.llt=t.document.implementation.createHTMLDocument(""),this.llt.open(),this.ba=!1}write(t){A(!this.ba),t&&this.llt.write(t),this.hlt(this.llt)}close(){this.ba=!0,this.llt.close(),this.Ra(this.llt)}}(this.win,(t=>n.onChunk(t)),(t=>n.onEnd(t)));return this.$ht=n.transferBody.bind(n),function(t,e,i){const s=new j;if(t.TextDecoder&&t.ReadableStream){let t=!0;A(e.body);const n=e.body.getReader(),r=new TextDecoder;n.read().then((function e({done:o,value:a}){t&&(s.resolve(!o),t=!1),a=a||new Uint8Array(0);const h=r.decode(a,{stream:!o});h&&i.write(h),o?i.close():n.read().then(e)}))}else e.text().then((t=>{s.resolve(!!t),i.write(t),i.close()}));return s.promise}(this.win,t,r).then((t=>{if(e(),!t)return this.forceCollapse(),Promise.reject(Js)})).then((()=>(e(),n.waitForHead()))).then((t=>(e(),this.clt(t)))).then((t=>(e(),t?(this.updateLayoutPriority(0),this.Oht=!0,t):this.Yht(s,e))))}Yht(t,e){return this.inNonAmpPreferenceExp()&&this.updateLayoutPriority(0),t.arrayBuffer().then((t=>(e(),this.Mht=t,null)))}clt(t){return function(t,e,i){if(!i||!i.firstChild)return null;const s=function(t){if(Node.prototype.getRootNode)return t.getRootNode();let e;for(e=t;e.parentNode&&(!(i=e)||"I-AMPHTML-SHADOW-ROOT"!=i.tagName&&(11!=i.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(i)));e=e.parentNode);var i;return e}(i).documentElement;if(!s||!s.hasAttribute("amp4ads")&&!s.hasAttribute("⚡️4ads")&&!s.hasAttribute("⚡4ads"))return null;const n=Ae(e),r=[],o=[],a=[];let h=i.firstElementChild;for(;h;){const t=h.nextElementSibling;switch(h.tagName.toUpperCase()){case"SCRIPT":ws(r,h);break;case"STYLE":(l=h).hasAttribute("amp-custom")||l.hasAttribute("amp-keyframes")||l.hasAttribute("amp4ads-boilerplate")||Rt(l);break;case"LINK":Ss(o,a,h);break;case"META":case"TITLE":break;default:Rt(h)}h=t}var l;return vs(t,r),o.forEach((i=>de(t).preload(e.getAmpDoc(),i))),a.forEach((i=>n.isSecure(i)&&de(t).preload(e.getAmpDoc(),i))),{extensions:r,head:i}}(this.win,this.element,t)}Wht(t,e){return t.arrayBuffer().then((e=>0==e.byteLength?(this.forceCollapse(),Promise.reject(Js)):{bytes:e,headers:t.headers})).then((t=>{if(e(),!t)return null;const{bytes:i,headers:s}=t,n=this.extractSize(t.headers);return this.Dht=n||this.Dht,"client_cache"!=this.Vht&&i&&(this.Mht=i),this.maybeValidateAmpCreative(i,s)})).then((t=>(e(),this.Oht=!!t,t&&Xt(t)))).then((t=>{let i;if(e(),!un(this.win)||!t||!(i=this.getAmpAdMetadata(t)))return this.inNonAmpPreferenceExp()&&this.updateLayoutPriority(0),null;this.updateLayoutPriority(0);const s=mi(i);vs(this.win,s),(i.customStylesheets||[]).forEach((t=>de(this.win).preload(this.getAmpDoc(),t.href)));const n=Ae(this.element);return(i.images||[]).forEach((t=>n.isSecure(t)&&de(this.win).preload(this.getAmpDoc(),t))),i}))}maybeValidateAmpCreative(t,e){const i=this.verifyStillCurrent();return this.Eht.then((()=>"fake"!=this.element.getAttribute("type")||this.element.getAttribute("checksig")?cn(this.win).verify(t,e):Promise.resolve(0))).then((e=>{i();let s=null;switch(e){case 0:s=t;break;case 4:s=this.shouldPreferentialRenderWithoutCrypto()?t:null;break;case 2:case 3:k().error(Ys,this.element.getAttribute("type"),"Signature verification failed")}if(this.isSinglePageStoryAd&&!s)throw new Error(Qs);return s}))}Bht(t){t.split(",").forEach((t=>{if(!t)return;const e=t.split("=");2==e.length&&e[0]&&(this.postAdResponseExperimentFeatures[e[0]]=e[1])}))}refresh(t){if(F(!this.isRefreshing),this.isRefreshing=!0,this.tearDownSlot(),this.initiateAdRequest(),!this.Rht)return H();const e=this.Iht;return F(this.Rht).then((()=>{if(this.isRefreshing&&e==this.Iht)return this.mutateElement((()=>(Ie(this.element,"ad-refresh"),this.togglePlaceholder(!0),me(this.win).promise(1e3).then((()=>{this.isRelayoutNeededFlag=!0,this.getResource().layoutCanceled(),this.getAmpDoc().whenNextVisible().then((()=>{var t;(t=this.getAmpDoc(),q(t,"owners")).requireLayout(this.element)}))})))));t()}))}qht(t,e){if(ei(t))throw t;t=t&&t.message?P(t):new Error("unknown error "+t),e&&(t.ignoreStack=e);const i=this.element.getAttribute("type")||"notype";0!=t.message.indexOf(`amp-a4a: ${i}:`)&&(t.message=`amp-a4a: ${i}: ${t.message}`),function(t,e){if(!e||t.args&&t.args.au)return;const i=e.indexOf("?");-1!=i&&((t.args||(t.args={})).au=e.substring(i+1,i+251))}(t,this.Nht),parseInt(b(void 0).log,10)?k().error(Ys,t):Math.random()<.01&&G().expectedError(Ys,t)}layoutCallback(){return this.isRefreshing&&this.destroyFrame(!0),this.attemptToRenderCreative().then((()=>{this.tj=function(t,e,i){const s=B(t);let n=xt.get(s);n||xt.set(s,n=Dt(kt,s));let r=Ut.get(t);return r||(r=[],Ut.set(t,r)),r.push(e),n.observe(t),()=>{!function(t,e){const i=Ut.get(t);if(!i)return;if(!h(i,e))return;if(i.length)return;const s=B(t),n=xt.get(s);null==n||n.unobserve(t),Ut.delete(t)}(t,e)}}(this.element,(({isIntersecting:t})=>this.viewportCallback(t)))}))}attemptToRenderCreative(){if(!this.Rht)return this.Hht()&&G().error(Ys,"Null promise in layoutCallback"),H();const t=this.verifyStillCurrent();return this.Rht.then((e=>{if(t(),this.Lht)return H();if(this.iframe&&!this.isRefreshing)return H();if(!e)return this.renderNonAmpCreative();let i;return i=this.isInNoSigningExp()?this.ult(e,t):this.dlt(e),i.catch((e=>(t(),this.renderNonAmpCreative())))})).catch((t=>{throw this.qht(t),ti()}))}isXhrAllowed(){return!0}attemptChangeSize(t,e){return this.Uht=this.Uht||this.getLayoutSize(),super.attemptChangeSize(t,e)}unlayoutCallback(){var t;return null===(t=this.tj)||void 0===t||t.call(this),this.tj=null,this.tearDownSlot(),!0}tearDownSlot(){this.Iht++,this.uiHandler.applyUnlayoutUI(),this.Uht&&super.attemptChangeSize(this.Uht.height,this.Uht.width).then((()=>{this.Uht=null})).catch((t=>{})),this.Lht=!1,this.destroyFrame(),this.Rht=null,this.Nht=null,this.Mht=null,this.Oht=!1,this.$ht=null,this.Vht=this.getNonAmpCreativeRenderingMethod(),this.postAdResponseExperimentFeatures={}}detachedCallback(){super.detachedCallback(),this.destroyFrame(!0)}destroyFrame(t=!1){!t&&this.isRefreshing||(this.Cht&&(this.Cht.destroy(),this.Cht=null),this.iframe&&this.iframe.parentElement&&(this.iframe.parentElement.removeChild(this.iframe),this.iframe=null),this.Sht&&(this.Sht.freeXOriginIframe(),this.Sht=null),this.uiHandler&&this.uiHandler.cleanup())}viewportCallback(t){this.Sht&&this.Sht.viewportCallback(t)}getAdUrl(t,e,i){throw new Error("getAdUrl not implemented!")}getServeNpaSignal(){return Promise.resolve(!1)}plt(){return this.element.getAttribute("block-rtc")?(t=this.element,Zt(t,"geo","amp-geo",!0)).then((t=>{$(t,"%s: requires <amp-geo> to use `block-rtc`",Ys);const e=this.element.getAttribute("block-rtc").split(",");for(let i=0;i<e.length;i++)if(2===t.isInCountryGroup(e[i]))return!0;return!1})):Promise.resolve(!1);var t}resetAdUrl(){this.Nht=null}verifyStillCurrent(){const t=this.Iht;return()=>{if(t!=this.Iht)throw ti()}}extractSize(t){const e=t.get("X-CreativeSize");if(!e)return null;const i=/^([0-9]+)x([0-9]+)$/.exec(e);return i?{width:Number(i[1]),height:Number(i[2])}:(k().error(Ys,`Invalid size header: ${e}`),null)}forceCollapse(){this.isRefreshing?this.isRefreshing=!1:(F(this.uiHandler),this.Uht=this.Uht||this.getLayoutSize(),this.uiHandler.applyNoContentUI(),this.Lht=!0)}onCreativeRender(t,e){this.jht(t?"renderFriendlyEnd":"renderCrossDomainEnd")}onCrossDomainIframeCreated(t){}sandboxHTMLCreativeFrame(){return!0}sendXhrRequest(t){return this.jht("adRequestStart"),Re(this.win).fetch(t,{mode:"cors",method:"GET",credentials:"include"}).catch((t=>{if(t.response&&t.response.status>200)return null;const e=this.onNetworkFailure(t,this.Nht);return F(!!e),e.frameGetDisabled?(this.resetAdUrl(),null):(this.Nht=e.adUrl||this.Nht,Promise.reject(Xs))}))}onNetworkFailure(t,e){return{}}getSigningServiceNames(){return["google"]}renderNonAmpCreative(t){if("true"==this.element.getAttribute("disable3pfallback"))return Promise.resolve(!1);const e=this.Vht;let i=Promise.resolve(!1);return e!=tn&&e!=en||!this.Mht?this.Nht&&(He(this.Nht,this.element),i=this.mlt(this.Nht)):(i=this.flt(this.Mht),this.Mht=null),t||this.inNonAmpPreferenceExp()||function(t,e){if(void 0===t["3pla"]&&(t["3pla"]=0),t["3pla"]++,!zs){const t=new j;zs=t.promise,Bs=t.resolve}me(t).timeoutPromise(1e3,e).catch((()=>{})).then((()=>{--t["3pla"]||(Bs(),zs=null,Bs=null)}))}(this.win,i),i.then((t=>(this.jht("crossDomainIframeLoaded"),t)))}ult(t,e){e(),F(this.element.ownerDocument),this.jht("renderFriendlyStart");const{height:i,width:s}=this.Dht,{extensions:n,fonts:r,head:o}=t;this.iframe=function(t,e,i,s){const{document:n}=t,r=vt(n,"iframe",{"height":i,"width":s,"title":e,"frameborder":"0","allowfullscreen":"","allowtransparency":"","scrolling":"no","sandbox":"allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation","role":"region","aria-label":"Advertisement","tabindex":"0"});return Ms(n)&&r.setAttribute("allow","attribution-reporting 'src'"),r}(this.win,this.getIframeTitle(),i,s),this.uiHandler.isStickyAd()||St(this.iframe);let a="";const h=new j;Es()?be(this.iframe,"load",(()=>{const t=this.iframe.contentDocument.body;this.$ht(F(t)).then(h.resolve)})):(a=o.ownerDocument.body.outerHTML,h.resolve());const l=((t,e,i)=>`<!DOCTYPE html>\n  <html ⚡4ads lang="en">\n  <head>\n    <base href="${yt(t)}">\n    <meta charset="UTF-8">\n    <meta http-equiv=Content-Security-Policy content="\n      img-src * data:;\n      media-src *;\n      font-src *;\n      connect-src *;\n      script-src ${Rs()};\n      object-src 'none';\n      child-src 'none';\n      default-src 'none';\n      style-src ${Os} 'unsafe-inline';\n    ">\n    <meta http-equiv="origin-trial" content=AlbC5LKqHkvdIY45O3/1Js/EyRmwSjb4wyp3XZy8KbMWhfMknydD4Wx9K9GyEIdG3ojUlZOdpdbX340wPHpYfQoAAABweyJvcmlnaW4iOiJodHRwczovL2FtcHByb2plY3Qub3JnOjQ0MyIsImZlYXR1cmUiOiJDb252ZXJzaW9uTWVhc3VyZW1lbnQiLCJleHBpcnkiOjE2NDMxNTUxOTksImlzU3ViZG9tYWluIjp0cnVlfQ==>    \n    ${e}\n  </head>\n  <body>${i}</body>\n  </html>`)(F(this.Nht),o.outerHTML,a),c=this.Tlt(l,n,r,!0);Promise.all([c,h.promise]).then((t=>{const e=t[0];e&&e.renderCompleted()}));const u=n.map((t=>t.extensionId));return c.then((t=>{e(),this.Alt(t,{minifiedCreative:"",customStylesheets:[],customElementExtensions:u},e)}))}dlt(t){F(t.minifiedCreative),F(!!this.element.ownerDocument),this.jht("renderFriendlyStart"),this.iframe=vt(this.element.ownerDocument,"iframe",{"height":this.Dht.height,"width":this.Dht.width,"frameborder":"0","allowfullscreen":"","allowtransparency":"","scrolling":"no","title":this.getIframeTitle(),"role":"region","aria-label":"Advertisement","tabindex":"0"}),this.uiHandler.isStickyAd()||St(this.iframe);const e=[];t.customStylesheets&&t.customStylesheets.forEach((t=>{const i=t.href;i&&e.push(i)}));const i=this.verifyStillCurrent(),{minifiedCreative:s}=t,n=mi(t);return this.Tlt(s,n,e||[],!1).then((e=>this.Alt(e,t,i)))}Tlt(t,e,i,s){return function(t,e,i,s){const n=Q(B(t)),r=he(n),o=ne(n);Bt(t,"visibility","hidden"),t.setAttribute("referrerpolicy","unsafe-url"),t.setAttribute("marginheight","0"),t.setAttribute("marginwidth","0");const a=i.extensions||[];vs(n,a);const h=i.skipHtmlMerge?i.html:function(t){const e=t.html,i=e.toUpperCase();let s=i.indexOf("<HEAD");-1!=s&&(s=i.indexOf(">",s+1)+1),-1==s&&(s=i.indexOf("<BODY")),-1==s&&(s=i.indexOf("<HTML"),-1!=s&&(s=i.indexOf(">",s+1)+1));const n=[];s>0&&n.push(e.substring(0,s)),n.push(`<base href="${yt(t.url)}">`),t.fonts&&t.fonts.forEach((t=>{n.push(`<link href="${yt(t)}" rel="stylesheet" type="text/css">`)}));const r=Rs();return n.push(`<meta http-equiv=Content-Security-Policy content="script-src ${r};object-src 'none';child-src 'none'">`),s>0?n.push(e.substring(s)):n.push(e),n.join("")}(i);t.onload=()=>{t.readyState="complete"};const l=()=>{t.contentWindow.addEventListener("securitypolicyviolation",(t=>{}))};let c,u;if(Es())t.srcdoc=h,c=Pe(t),e.appendChild(t),l();else{t.src="about:blank",e.appendChild(t);const i=t.contentWindow.document;l(),i.open(),i.write(F(h)),c=Pe(t.contentWindow),i.close()}return u=Is(t)?H():new Promise((e=>{const i=n.setInterval((()=>{Is(t)&&(e(),n.clearInterval(i))}),5);c.catch((t=>{w(t)})).then((()=>{e(),n.clearInterval(i)}))})),u.then((()=>{const e=t.contentWindow,n=i.host&&i.host.signals(),h=o.installFieDoc(i.url,e,{signals:n}),l=new class{constructor(t,e,i,s){this.iframe=t,this.win=t.contentWindow,this.ampdoc=s,this.spec=e,this.host=e.host||null,this.zn=Date.now(),this.Kt=this.ampdoc?this.ampdoc.signals():this.host?this.host.signals():new class{constructor(){this.Nt=d(),this.Ht=null}get(t){const e=this.Nt[t];return null==e?null:e}whenSignal(t){var e;let i=null===(e=this.Ht)||void 0===e?void 0:e[t];if(!i){const e=this.Nt[t];i=null!=e?{promise:"number"==typeof e?Promise.resolve(e):Promise.reject(e)}:new j,this.Ht||(this.Ht=d()),this.Ht[t]=i}return i.promise}signal(t,e){var i;if(null!=this.Nt[t])return;const s=null!=e?e:Date.now();this.Nt[t]=s;const n=null===(i=this.Ht)||void 0===i?void 0:i[t];null!=n&&n.resolve&&(n.resolve(s),n.resolve=void 0,n.reject=void 0)}rejectSignal(t,e){var i;if(null!=this.Nt[t])return;this.Nt[t]=e;const s=null===(i=this.Ht)||void 0===i?void 0:i[t];null!=s&&s.reject&&(s.reject(e),s.promise.catch((()=>{})),s.resolve=void 0,s.reject=void 0)}reset(t){var e;this.Nt[t]&&delete this.Nt[t];const i=null===(e=this.Ht)||void 0===e?void 0:e[t];i&&!i.resolve&&delete this.Ht[t]}},this._lt=new j,this.glt=Promise.all([i,this.whenRenderStarted()]),this.ampdoc&&this.whenRenderComplete().then((()=>this.ampdoc.setReady())),this.win.addEventListener("resize",(()=>this.Elt()))}destroy(){(function(t){const e=nt(t);for(const t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;const i=e[t];i.sharedInstance||(i.obj?ot(t,i.obj):i.promise&&i.promise.then((e=>ot(t,e))))}})(this.win),this.ampdoc&&this.ampdoc.dispose()}getStartTime(){return this.zn}getUrl(){return this.spec.url}signals(){return this.Kt}whenRenderStarted(){return this.Kt.whenSignal(Ce)}whenWindowLoaded(){return this.glt}whenIniLoaded(){return this.Kt.whenSignal(we)}whenRenderComplete(){return this._lt.promise}renderCompleted(){this._lt.resolve()}pause(){this.ampdoc&&this.ampdoc.overrideVisibilityState(Ti)}resume(){this.ampdoc&&this.ampdoc.overrideVisibilityState(fi)}Tht(){let t;var e;this.host?this.host.renderStarted():this.Kt.signal(Ce),this.spec.skipHtmlMerge||this._lt.resolve(),Bt(this.iframe,"visibility",""),this.win.document&&this.win.document.body&&(this.win.document.documentElement.classList.add("i-amphtml-fie"),Kt(this.win.document.body,{opacity:1,visibility:"visible",animation:"none"})),t=this.host?this.host.getLayoutBox():Ot(0,0,this.win.innerWidth,this.win.innerHeight),Promise.all([this.whenRenderComplete(),(e=this.ampdoc,this.win,function(t,e){const i=se(t);return i.signals().whenSignal(Ii).then((()=>{const t=pe(i).get().filter((t=>!_s.includes(t.element.tagName))).map((t=>t.element));return 0===t.length?Promise.resolve([]):new Promise((e=>{const{win:s}=i,n=new s.IntersectionObserver((t=>{n.disconnect();const i=[];for(let e=0;e<t.length;e++){const{isIntersecting:s,target:n}=t[e];s&&i.push(n)}e(i)}),{root:Nt(s)?s.document:null,threshold:.01});for(let e=0;e<Math.min(t.length,100);e++)n.observe(t[e])})).then((t=>Promise.all(t.map((t=>t.whenLoaded())))))}))}(e))]).then((()=>{this.Kt.signal(we)}))}getBodyElement(){return(this.iframe.contentDocument||this.iframe.contentWindow.document).body}Elt(){this.Rlt().mutateElement(this.win.document.documentElement,(()=>{}))}Rlt(){return ce(this.iframe)}vlt(t){return this.Rlt().measureMutateElement(this.iframe,t.measure||null,t.mutate)}enterFullOverlayMode(){let t;return $("amp-ad"==this.iframe.parentNode.tagName.toLowerCase(),"Only <amp-ad> is allowed to enter lightbox mode."),this.vlt({measure:()=>{const e=this.host?this.host.getLayoutBox():this.iframe.getBoundingClientRect(),i=-Ee(this.iframe).getScrollTop(),{height:s,left:n,top:r,width:o}=Mt(e,0,i);t={top:qt(r),left:qt(n),width:qt(o),height:qt(s)}},mutate:()=>{zt(this.iframe,{"position":"fixed","left":0,"right":0,"bottom":0,"width":"100vw","top":0,"height":"100vh"}),zt(this.getBodyElement(),{"background":"transparent","position":"absolute","bottom":"auto","right":"auto","top":t.top,"left":t.left,"width":t.width,"height":t.height})}})}leaveFullOverlayMode(){return this.vlt({mutate:()=>{Jt(this.iframe,["position","left","right","top","bottom","width","height"]),Jt(this.getBodyElement(),["position","top","left","width","height","bottom","right"])}})}}(t,i,c,h);return t.__AMP_EMBED__=l,e.frameElement?ys.installExtensionsInEmbed(l,r,h,a,s).then((()=>e.frameElement?l:null)):null}))}(F(this.iframe),this.element,{host:this.element,url:F(this.Nht),html:t,extensions:e,fonts:i,skipHtmlMerge:s},((t,e)=>this.Ilt(t,e)))}Ilt(t,e){const i=this.getAmpDoc();!function(t,e){!function(t,e,i){it(tt(t),t,"url-replace",(function(){return i}),!0)}(t,0,new class{constructor(t,e){this.ampdoc=t,this.Gn=e}expandStringSync(t,e,i){return new ri(this.Gn,e,void 0,!0,i,!0).expand(t)}expandStringAsync(t,e,i){return new ri(this.Gn,e,void 0,void 0,i,!0).expand(t)}expandUrlSync(t,e,i){return this.Vl(t,new ri(this.Gn,e,void 0,!0,i).expand(t))}expandUrlAsync(t,e,i,s){return new ri(this.Gn,e,void 0,void 0,i,s).expand(t).then((e=>this.Vl(t,e)))}expandInputValueAsync(t){return this.Sl(t,!1)}expandInputValueSync(t){return this.Sl(t,!0)}Sl(t,e){F("INPUT"==t.tagName&&"hidden"==(t.getAttribute("type")||"").toLowerCase());const i=this.xl(t);if(!i)return e?t.value:Promise.resolve(t.value);void 0===t["amp-original-value"]&&(t["amp-original-value"]=t.value);const s=new ri(this.Gn,void 0,void 0,e,i).expand(t["amp-original-value"]||t.value);return e?t.value=s:s.then((e=>(t.value=e,e)))}xl(t,e){const i=t.getAttribute("data-amp-replace");if(!i)return;const s={};return i.trim().split(/\s+/).forEach((t=>{e&&!p(e,t)||(s[t]=!0)})),s}Ol(t){const e=ae(this.ampdoc);if(t.origin==Le(e.canonicalUrl).origin||t.origin==Le(e.sourceUrl).origin)return!0;const i=this.ampdoc.getMetaByName("amp-link-variable-allowed-origin");if(i){const e=i.trim().split(/\s+/);for(let i=0;i<e.length;i++)if(t.origin==Le(e[i]).origin)return!0}return!1}maybeExpandLink(t,e){F("A"==t.tagName);const i=t;let s=i.getAttribute("data-amp-addparams")||"";const n=this.xl(i,{"CLIENT_ID":!0,"QUERY_PARAM":!0,"PAGE_VIEW_ID":!0,"PAGE_VIEW_ID_64":!0,"NAV_TIMING":!0});if(!n&&!s&&!e)return;let r=i["amp-original-href"]||i.getAttribute("href");const o=Le(r);null==i["amp-original-href"]&&(i["amp-original-href"]=r);const a=this.Ol(o);if(s&&(s=a?this.Cl(s,n):s,r=Fe(r,y(s))),!a)return i.href=r;if(e){if(!n||!n.QUERY_PARAM){const t={"QUERY_PARAM":!0};e=this.expandUrlSync(e,void 0,t)}r=Fe(r,y(e))}return r=this.Cl(r,n),i.href=r}Cl(t,e){return e?this.expandUrlSync(t,void 0,e):t}collectVars(t,e){const i=Object.create(null);return new ri(this.Gn,e,i).expand(t).then((()=>i))}collectDisallowedVarsSync(t){const e=t.getAttribute("src"),i=new ri(this.Gn).getMacroNames(e),s=this.xl(t);return s?i.filter((t=>!s[t])):i}Vl(t,e){return Le(e).protocol!=Le(t).protocol?(k().error("UrlReplacements","Illegal replacement of the protocol: ",t),t):($(Be(e),"The replacement url has invalid protocol: %s",e),e)}getVariableSource(){return this.Gn}}(t,e))}(e,new class extends class{constructor(t){this.ampdoc=t,this.kl=Object.create(null),this.Nl=!1,this.Dl()}pe(){this.initialize(),this.Nl=!0}initialize(){}get(t){return this.Nl||this.pe(),this.kl[t]}set(t,e){return F(-1==t.indexOf("RETURN")),this.kl[t]=this.kl[t]||{sync:void 0,async:void 0},this.kl[t].sync=e,this}setAsync(t,e){return F(-1==t.indexOf("RETURN")),this.kl[t]=this.kl[t]||{sync:void 0,async:void 0},this.kl[t].async=e,this}setBoth(t,e,i){return this.set(t,e).setAsync(t,i)}getExpr(t,e){this.Nl||this.pe();const i=o(o({},this.kl),t);return this.Ll(Object.keys(i),e)}Ll(t,e){if(this.Dl()&&(t=t.filter((t=>this.Dl().includes(t)))),e&&(t=t.filter((t=>e[t]))),0===t.length)return/_^/g;t.sort(((t,e)=>e.length-t.length));const i=t.map((t=>"$"===t[0]?"\\"+t:t)).join("|");return new RegExp("\\$?("+i+")","g")}Dl(){return this.Ul?this.Ul:this.ampdoc.isSingleDoc()&&oi(this.ampdoc.getRootNode())?(this.Ul=[""],this.Ul):void 0}}{constructor(t,e){super(t);const i=t.getHeadNode(),s=fe(i);this.blt=s.getVariableSource(),this.i=e}initialize(){for(let t=0;t<pi.length;t++){const e=pi[t],i=this.blt.get(e);this.set(e,i.sync).setAsync(e,i.async)}this.set("NAV_TIMING",((t,e)=>($(t,"The first argument to NAV_TIMING, the start attribute name, is required"),li(this.i,t,e)))).setAsync("NAV_TIMING",((t,e)=>($(t,"The first argument to NAV_TIMING, the start attribute name, is required"),function(t,e,i){const s=hi[e]||3,n=i?hi[i]||3:s,r=Math.max(s,n);let o;if(1===r)o=H();else if(2===r)a=t.document,o=new Promise((t=>{!function(t,e,i){let s=e(t);if(s)i(t);else{const n=()=>{e(t)&&(s||(s=!0,i(t)),t.removeEventListener("readystatechange",n))};t.addEventListener("readystatechange",n)}}(a,ai,t)}));else if(3===r)o=Pe(t);else if(4===r){const e=me(t);o=Pe(t).then((()=>e.promise(1)))}var a;return F(o),o.then((()=>li(t,e,i)))}(this.i,t,e)))),this.set("NAV_TYPE",(()=>ci(this.i,"type"))),this.set("NAV_REDIRECT_COUNT",(()=>ci(this.i,"redirectCount"))),this.set("HTML_ATTR",this.ylt.bind(this)),this.set("CLIENT_ID",(()=>null))}ylt(t,e){const i="A4AVariableSource",s=Array.prototype.slice.call(arguments,1);if(!t||!s.length)return"[]";if(s.length>10)return k().error(i,"At most 10 may be requested."),"[]";let n;t=decodeURI(t);try{n=this.i.document.querySelectorAll(t)}catch(e){return k().error(i,`Invalid selector: ${t}`),"[]"}if(n.length>20)return k().error(i,"CSS selector may match at most 20 elements."),"[]";const r=[];for(let t=0;t<n.length&&r.length<10;++t){const e={};let i=!1;for(let r=0;r<s.length;++r){const o=s[r];n[t].hasAttribute(o)&&(e[o]=n[t].getAttribute(o),i=!0)}i&&r.push(e)}return JSON.stringify(r)}}(i,t))}Alt(t,e,i){i(),this.Cht=t,Bt(this.Nlt(t),"visibility","visible"),hn(this.onCreativeRender,this,(t=>{G().error(Ys,this.element.getAttribute("type"),"Error executing onCreativeRender",t)}))(e,t.whenWindowLoaded()),t.whenIniLoaded().then((()=>{i(),this.jht("friendlyIframeIniLoad")}))}Nlt(t){return F((t.iframe.contentDocument||t.win.document).body)}Plt(e){const i=Object.assign(e,{"height":this.Dht.height,"width":this.Dht.width,"title":this.getIframeTitle(),"role":"region","aria-label":"Advertisement","tabindex":"0"});this.sentinel&&(i["data-amp-3p-sentinel"]=this.sentinel);let s="sync-xhr 'none';";Ms(this.win.document)&&(s+="attribution-reporting 'src';"),i.allow=s,this.iframe=vt(this.element.ownerDocument,"iframe",Object.assign(i,sn)),this.sandboxHTMLCreativeFrame()&&function(t){if(!t.sandbox||!t.sandbox.supports)return;const e=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"];for(let i=0;i<e.length;i++){const s=e[i];if(!t.sandbox.supports(s))return}t.sandbox=e.join(" ")+" "+["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts"].join(" ")}(this.iframe),this.Sht=new t.AmpAdXOriginIframeHandler(this);const n=this.Sht.init(this.iframe,!0,this.letCreativeTriggerRenderStart());return hn(this.onCreativeRender,this,(t=>{G().error(Ys,this.element.getAttribute("type"),"Error executing onCreativeRender",t)}))(null),n}mlt(t){this.jht("renderCrossDomainStart");const e=Ls(this.win,this.element,this.sentinel),i=this.element.getIntersectionChangeEntry();return e._context.initialIntersection=Lt(i),this.Plt({"src":Re(this.win).getCorsUrl(this.win,t),"name":JSON.stringify(e)})}letCreativeTriggerRenderStart(){return!1}flt(t){const e=this.Vht;F(e==tn||e==en),this.jht("renderSafeFrameStart");const i=this.verifyStillCurrent();return z((()=>Xt(t))).then((t=>{let s;i();let n="";switch(e){case tn:s=this.getSafeframePath()+"?n=0";break;case en:s=Fs(this.win,"nameframe");break;default:return k().error("A4A","A4A received unrecognized cross-domain name attribute iframe rendering mode request: %s.  Unable to render a creative for slot %s.",e,this.element.getAttribute("id")),Promise.reject("Unrecognized rendering mode request")}let r=Ls(this.win,this.element,this.sentinel,this.getAdditionalContextMetadata(e==tn));const o=this.element.getIntersectionChangeEntry();return r.initialIntersection=Lt(o),e==en?(r.creative=t,n=JSON.stringify(r)):e==tn&&(r=JSON.stringify(r),n=`${this.safeframeVersion};${t.length};${t}${r}`),this.Plt({"src":s,"name":n})}))}getAmpAdMetadata(t){let e,i=-1;for(let s=0;s<Ks.length&&(e=Ks[s],i=t.lastIndexOf(e),!(i>=0));s++);if(i<0)return null;const s=t.lastIndexOf("<\/script>");if(s<0)return null;try{const n=g(t.slice(i+e.length,s)),r=n.ampRuntimeUtf16CharOffsets;if(!a(r)||2!=r.length||"number"!=typeof r[0]||"number"!=typeof r[1])throw new Error("Invalid runtime offsets");const o={};if(n.customElementExtensions){if(o.customElementExtensions=n.customElementExtensions,!a(o.customElementExtensions))throw new Error("Invalid extensions",o.customElementExtensions)}else o.customElementExtensions=[];if(n.extensions&&(o.extensions=n.extensions),n.customStylesheets){o.customStylesheets=n.customStylesheets;const t="Invalid custom stylesheets";if(!a(o.customStylesheets))throw new Error(t);const e=Ae(this.element);o.customStylesheets.forEach((i=>{if(!u(i)||!i.href||"string"!=typeof i.href||!e.isSecure(i.href))throw new Error(t)}))}if(a(n.images)&&(o.images=n.images.splice(0,5)),this.isSinglePageStoryAd){if(!n.ctaType)throw new Error(Qs);this.element.setAttribute("data-vars-ctatype",n.ctaType),this.element.setAttribute("data-vars-ctaurl",n.ctaUrl)}return o.minifiedCreative=t.slice(0,r[0])+t.slice(r[1],i)+t.slice(s+"<\/script>".length),o}catch(t){if(this.isSinglePageStoryAd)throw t;return null}}getSafeframePath(){return`https://tpc.googlesyndication.com/safeframe/${this.safeframeVersion}/html/container.html`}jht(t){if(!this.Ght)return;const e=F(an[t]),i=o({"time":Math.round(this.kht())},this.getA4aAnalyticsVars(e));Ie(this.element,e,i)}getA4aAnalyticsVars(t){return{}}getA4aAnalyticsConfig(){return null}zht(t,e,i){if(this.element.getAttribute("rtc-config"))return K(this.getAmpDoc(),"real-time-config",(function(t){return new class{constructor(t){this.OI=t}maybeExecuteRealTimeConfig(t,e,i,s,n,r){return new class{constructor(t){this.OI=t,this.i=t.win,this.Clt={},this.wlt=null,this.Slt=[],this.Olt=null,this.gy=null,this.yy=null,this.Ay=null}Mlt(t,e,i,s){return i&&this.sendErrorMessage(t,i),Promise.resolve({error:t,callout:e,rtcTime:s||0})}sendErrorMessage(t,e){if(Math.random()>=.01)return;const i={ERROR_TYPE:t,HREF:this.i.location.href},s=fe(this.OI).expandUrlSync(e,i,{ERROR_TYPE:!0,HREF:!0});(new this.i.Image).src=s}Dlt(t){const e=Ae(this.OI).parse(t);return(e.hostname+e.pathname).substr(0,50)}isValidCalloutForConsentState(t,e){const{sendRegardlessOfConsentState:i}=t;if(!u(t)||!i)return!!e;if("boolean"==typeof i)return i;if(a(i)){for(let t=0;t<i.length;t++){if(this.gy==At[i[t]])return!0;i[t]}return!1}return!!e}modifyRtcConfigForConsentStateSettings(){if(null==this.gy||this.gy==At.SUFFICIENT||this.gy==At.UNKNOWN_NOT_REQUIRED)return;const t=this.isValidCalloutForConsentState(this.Olt);this.Olt.urls=(this.Olt.urls||[]).filter((e=>this.isValidCalloutForConsentState(e,t))),Object.keys(this.Olt.vendors||{}).forEach((e=>{this.isValidCalloutForConsentState(this.Olt.vendors[e],t)||delete this.Olt.vendors[e]}))}assignMacros(t){return t.TIMEOUT=()=>this.Olt.timeoutMillis,t.CONSENT_STATE=()=>this.gy,t.CONSENT_STRING=()=>this.yy,t.CONSENT_METADATA=t=>($(t,"CONSENT_METADATA macro must contian a key"),this.Ay?this.Ay[t]:null),t}handleRtcForCustomUrls(t,e,i){(this.Olt.urls||[]).forEach((s=>{let n,r;u(s)?(n=s.url,r=s.errorReportingUrl):"string"==typeof s&&(n=s),this.xlt(n,t,r,e,void 0,i)}))}handleRtcForVendorUrls(t,e){Object.keys(this.Olt.vendors||[]).forEach((i=>{const s=ve[i.toLowerCase()],n=s?s.url:"",r=s&&s.errorReportingUrl?s.errorReportingUrl:"";if(!n)return this.Slt.push(this.Mlt("9",i,r));const o=u(this.Olt.vendors[i].macros)?this.Olt.vendors[i].macros:this.Olt.vendors[i],h={};Object.keys(o).forEach((t=>{if(s.macros&&s.macros.includes(t)){const e=o[t];h[t]=u(e)||a(e)?JSON.stringify(e):e}else k().error("real-time-config",`Unknown macro: ${t} for vendor: ${i}`)}));const l=Object.assign(h,t);this.xlt(n,l,r,e,i.toLowerCase())}))}xlt(t,e,i,s,n,r){let{timeoutMillis:a}=this.Olt;const h=n||this.Dlt(t),l=t=>5==Object.keys(this.Clt).length?this.Mlt("7",h,i):Ae(this.OI).isSecure(t)||ze(t)?this.Clt[t]?this.Mlt("5",h,i):(this.Clt[t]=!0,t.length>16384&&(t=this.Ult(t)),this.Vlt(t,a,h,s,i,r)):this.Mlt("6",h,i),c=o({},si);Object.keys(e).forEach((t=>c[t]=!0));const u=Date.now();this.Slt.push(me(this.i).timeoutPromise(a,fe(this.OI).expandUrlAsync(t,e,c)).then((t=>(s(),a-=u-Date.now(),l(t)))).catch((t=>ei(t)?void 0:this.Mlt("11",h,i))))}Ult(t){return(t=t.substr(0,16372).replace(/%\w?$/,""))+"&__trunc__=1"}Vlt(t,e,i,s,n,r){let o;return o=ze(t)?(a=r,te(a,"amp-script","amp-script")).then((e=>($(e,"AMP-SCRIPT is not installed."),e.fetch(t)))).then((t=>{s();const e=Date.now()-this.wlt;return"object"!=typeof t?this.Mlt("4",i,n,e):{response:t,rtcTime:e,callout:i}})):Re(this.i).fetchJson(t,{credentials:"include"}).then((t=>(s(),t.text().then((t=>{s();const e=Date.now()-this.wlt;if(!t)return{rtcTime:e,callout:i};const r=E(t);return r?{response:r,rtcTime:e,callout:i}:this.Mlt("4",i,n,e)}))))),me(this.i).timeoutPromise(e,o).catch((t=>ei(t)?void 0:this.Mlt(/^timeout/.test(t.message)?"10":"8",i,n,Date.now()-this.wlt)));var a}execute(t,e,i,s,n,r){if(this.klt(t))return this.gy=i,this.yy=s,this.Ay=n,this.modifyRtcConfigForConsentStateSettings(),e=this.assignMacros(e),this.wlt=Date.now(),this.handleRtcForCustomUrls(e,r,t),this.handleRtcForVendorUrls(e,r),Promise.all(this.Slt)}klt(t){const e=t.getAttribute("rtc-config");if(!e)return!1;const i=E(e);if(!i)return!1;let s;try{if($(i.vendors||i.urls,"RTC Config must specify vendors or urls"),Object.keys(i).forEach((t=>{switch(t){case"vendors":$(u(i[t]),"RTC invalid vendors");break;case"urls":$(a(i[t]),"RTC invalid urls");break;case"timeoutMillis":s=parseInt(i[t],10),(isNaN(s)||s>1e3||s<0)&&(s=void 0)}})),!Object.keys(i.vendors||{}).length&&!(i.urls||[]).length)return!1;const t=t=>{const e=t.errorReportingUrl;e&&!Ae(this.OI).isSecure(e)&&(t.errorReportingUrl=void 0)};(i.urls||[]).forEach((e=>{u(e)&&t(e)})),t(i)}catch(t){return!1}return i.timeoutMillis=void 0!==s?s:1e3,this.Olt=i,!0}}(this.OI).execute(t,e,i,s,n,r)}}(t)})),this.plt().then((s=>{return s?void 0:(n=this.getAmpDoc(),J(n,"real-time-config")).then((s=>s.maybeExecuteRealTimeConfig(this.element,this.Llt(),t,e,i,this.verifyStillCurrent())));var n}))}Llt(){return{}}shouldPreferentialRenderWithoutCrypto(){return!1}getNonAmpCreativeRenderingMethod(t){if(t){if("client_cache"===(e=t)||"safeframe"===e||"nameframe"===e||"iframe_get"===e)return t;G().error("AMP-A4A",`cross-origin render mode header ${t}`)}var e;return ue(this.win).isIos()?en:null}getAdditionalContextMetadata(t){}isVerifiedAmpCreative(){return this.Oht}getIframeTitle(){return this.element.getAttribute("title")||"3rd party ad content"}Glt(){const t=[],e=this.getAmpDoc().getMetaByName("amp-usqp");if(e){const i=e.split(",");for(let e=0;e<i.length;e++){const n=i[e].split("=");if(2!==n.length)continue;const r=Number(n[1]);if(!isNaN(n[0])&&r>=0&&r<100){const e=s(n[1],2,"0");t.push(n[0]+e)}}}return t}};function cn(t){const e="AMP_FAST_FETCH_SIGNATURE_VERIFIER_";return t[e]||(t[e]=new class{constructor(t,e){this.i=t,this.Flt=e,this.$lt=oe(t).isPkcsAvailable()?{}:null,this.kht=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now}loadKeyset(t){if(this.$lt&&!this.$lt[t]){const e={},i=this.Hlt(e,t,null);this.$lt[t]={promise:i,keys:e}}}verify(t,e){if(!e.has(Ds))return Promise.resolve(1);const i=e.get(Ds),s=/^([A-Za-z0-9._-]+):([A-Za-z0-9._-]+):([A-Za-z0-9+/]{341}[AQgw]==)$/.exec(i);return s?this.verifyCreativeAndSignature(s[1],s[2],(n=s[3],function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);A(s<=255),e[i]=s}return e}(atob(n))),t):(k().error("AMP-A4A",`Invalid signature header: ${i.split(":")[0]}`),Promise.resolve(3));var n}verifyCreativeAndSignature(t,e,i,s){if(!this.$lt)return Promise.resolve(4);const n=this.$lt[t];return F(n),n.promise.then((r=>{if(!r)return 1;const o=n.keys[e];return void 0===o?(n.promise=this.Hlt(n.keys,t,e).then((t=>(void 0===n.keys[e]&&(n.keys[e]=null),t))),this.verifyCreativeAndSignature(t,e,i,s)):null===o?2:o.then((t=>t?oe(this.i).verifyPkcs(t,i,s).then((t=>t?0:3),(t=>{const e=t&&t.message;return G().error("AMP-A4A",`Failed to verify signature: ${e}`),1})):1))}))}Hlt(t,e,i){let s=this.Flt[e];return null!=i&&(s+="?kid="+encodeURIComponent(i)),Re(this.i).fetchJson(s,{mode:"cors",method:"GET",ampCors:!1,credentials:"omit"}).then((i=>(F(200===i.status),F("application/jwk-set+json"==i.headers.get("Content-Type")),i.json().then((i=>{const s=i;return s&&a(s.keys)?(s.keys.forEach((i=>{i&&"string"==typeof i.kid?void 0===t[i.kid]&&(t[i.kid]=oe(this.i).importPkcsKey(i).catch((t=>{const s=JSON.stringify(i),n=t&&t.message;return Vs(e,`Failed to import key (${s}): ${n}`),null}))):Vs(e,`Key (${JSON.stringify(i)}) has no "kid"`)})),!0):(Vs(e,`Key set (${JSON.stringify(s)}) has no "keys"`),!1)}),(t=>(Vs(e,`Failed to parse JSON: ${t&&t.response}`),!1))))),(t=>(t&&t.response&&Vs(e,`Status code ${t.response.status}`),!1)))}}(t,Tt))}function un(t){return!!(e=t.Element.prototype.attachShadow)&&-1!=e.toString().indexOf("[native code]");var e}var dn="data-experiment-id";t.registerElement("amp-ad-network-fake-impl",class extends ln{constructor(t){super(t),this.Gut=new class{constructor(){this.Hut={metaOther:[],scriptNonRenderDelayingExtensions:[],scriptRenderDelayingExtensions:[],linkIcons:[],linkResourceHints:[],linkStylesheetBeforeAmpCustom:[],other:[],otherScripts:[],styleAmpRuntime:null,metaCharset:null,scriptAmpEngine:null,scriptAmpViewer:null,scriptGmailAmpViewer:null,styleAmpCustom:null,linkStylesheetRuntimeCss:null,styleAmpBoilerplate:null,noscript:null}}zut(t,e){null!=e&&t.appendChild(e)}But(t,e){for(let i=0;i<e.length;i++){const s=e[i];t.appendChild(s)}}reorderHead(t){if(null!=t){for(let e=0;e<t.children.length;e++){const i=t.children.item(e);switch(i.tagName){case"META":this.Kut(i);break;case"SCRIPT":this.Wut(i);break;case"STYLE":this.qut(i);break;case"LINK":this.Yut(i);break;case"NOSCRIPT":this.Hut.noscript=i;break;default:-1==this.Hut.other.indexOf(i)&&this.Hut.other.push(i)}}for(let e=0;e<t.childNodes.length;e++)t.removeChild(t.childNodes.item(e));this.Jut(t)}return t}Kut(t){t.hasAttribute("charset")?this.Hut.metaCharset=t:-1!=this.Hut.metaOther.indexOf(t)||this.Hut.metaOther.push(t)}Wut(t){const i=t.getAttribute("src"),s=t.hasAttribute("async");if(t.hasAttribute("custom-element")||t.hasAttribute("custom-template")||t.hasAttribute("host-service")){const e=t.getAttribute("custom-element");return"amp-story"==e||"amp-experiment"==e||"amp-dynamic-css-classes"==e?void this.Hut.scriptRenderDelayingExtensions.push(t):void this.Hut.scriptNonRenderDelayingExtensions.push(t)}s&&(i.startsWith(ft.cdn)&&(e(i,"/v0.js")||e(i,"/amp4ads-v0.js"))||e(i,"/dist/amp.js")||e(i,"/dist/amp-inabox.js")||e(i,"/dist/v0.js")||e(i,"/dist/amp4ads-v0.js"))?this.Hut.scriptAmpEngine=t:s&&i.startsWith(ft.cdn+"/v0/amp-viewer-integration-gmail-")&&e(i,".js")?this.Hut.scriptGmailAmpViewer=t:s&&(i.startsWith(ft.cdn+"/v0/amp-viewer-integration-")||i.startsWith(ft.cdn+"/viewer/google/v")&&e(i,".js"))?this.Hut.scriptAmpViewer=t:-1==this.Hut.other.indexOf(t)&&this.Hut.other.push(t)}qut(t){t.hasAttribute("amp-runtime")?this.Hut.styleAmpRuntime=t:t.hasAttribute("amp-custom")?this.Hut.styleAmpCustom=t:t.hasAttribute("amp-boilerplate")||t.hasAttribute("amp4ads-boilerplate")?this.Hut.styleAmpBoilerplate=t:-1==this.Hut.other.indexOf(t)&&this.Hut.other.push(t)}Yut(t){const i=t.getAttribute("rel");if("stylesheet"==i)return t.getAttribute("href").startsWith(ft.cdn)&&e(t.getAttribute("href"),"/v0.css")?void(this.Hut.linkStylesheetRuntimeCss=t):null==this.Hut.styleAmpCustom?void this.Hut.linkStylesheetBeforeAmpCustom.push(t):void 0;"icon"!=i&&"icon shortcut"!=i&&"shortcut icon"!=i?"dns-prefetch preconnect"!=i?-1==this.Hut.other.indexOf(t)&&this.Hut.other.push(t):this.Hut.linkResourceHints.push(t):this.Hut.linkIcons.push(t)}Jut(t){return this.zut(t,this.Hut.metaCharset),this.zut(t,this.Hut.linkStylesheetRuntimeCss),this.zut(t,this.Hut.styleAmpRuntime),this.But(t,this.Hut.metaOther),this.zut(t,this.Hut.scriptAmpEngine),this.zut(t,this.Hut.scriptAmpViewer),this.zut(t,this.Hut.scriptGmailAmpViewer),this.But(t,this.Hut.scriptRenderDelayingExtensions),this.But(t,this.Hut.scriptNonRenderDelayingExtensions),this.But(t,this.Hut.otherScripts),this.But(t,this.Hut.linkIcons),this.But(t,this.Hut.linkResourceHints),this.But(t,this.Hut.linkStylesheetBeforeAmpCustom),this.zut(t,this.Hut.styleAmpCustom),this.But(t,this.Hut.other),this.zut(t,this.Hut.styleAmpBoilerplate),this.zut(t,this.Hut.noscript),t}},this.Xut=new class{constructor(){this.metadata={},this.gx=[],this.sa=[],this.Qut=null,this.Zut=null,this.tpt="",this.ept="",this.ipt=[],this.spt=[],this.npt=null}generateMetadata(t){const{head:e}=t;this.rpt(e),this.opt(t),this.apt(t);const i=t.documentElement.outerHTML;if(this.hpt(i),this.lpt(i),this.cpt(t,i),this.upt(),this.gx.length>0&&(this.metadata.customStyleSheets=this.gx),this.spt.length>0){this.metadata.images=[];for(let t=0;t<this.spt.length;t++){const e=this.spt[t];this.metadata.images.push(e.src)}}return this.tpt&&(this.metadata.ctaType=this.tpt),this.ept&&(this.metadata.ctaUrl=this.ept),JSON.stringify(this.metadata)}rpt(t){if(null!=t)for(let e=0;e<t.children.length;e++){const i=t.children.item(e);"SCRIPT"==i.tagName&&i.hasAttribute("src")&&(null==this.Qut&&(this.Qut=i),this.Zut=i,i.hasAttribute("custom-element")&&this.sa.push({"custom-element":i.getAttribute("custom-element"),"src":i.getAttribute("src")}),i.hasAttribute("custom-template")&&this.sa.push({"custom-template":i.getAttribute("custom-template"),"src":i.getAttribute("src")})),"LINK"==i.tagName&&"stylesheet"==i.getAttribute("rel")&&i.hasAttribute("href")&&this.dpt(i),"META"==i.tagName&&i.hasAttribute("name")&&i.hasAttribute("content")&&this.ppt(i)}}dpt(t){const e={href:t.getAttribute("href")};t.hasAttribute("media")&&(e.media=t.getAttribute("media")),this.gx.push(e)}ppt(t){"amp-cta-type"==t.getAttribute("name")&&(this.tpt=t.getAttribute("content")),"amp-cta-url"==t.getAttribute("name")&&(this.ept=t.getAttribute("content"))}opt(t){const e=t.querySelectorAll("amp-img[src]");for(let t=0;t<e.length;t++){const i=e[t];let s,n,r=-1;i.hasAttribute("width")&&(s=i.getAttribute("width")),i.hasAttribute("height")&&(n=i.getAttribute("height")),n&&s&&(r=n*s),this.spt.push({src:i.getAttribute("src"),area:r})}}apt(t){const e=t.querySelectorAll("script[type]");for(let t=0;t<e.length;t++){const i=e[t];if("application/json"==i.getAttribute("type")){if(i.hasAttribute("amp-ad-metadata")){const t=g(i.textContent);for(const e in t)this.metadata[e]=t[e]}i.hasAttribute("id")&&!this.ipt.includes(i.getAttribute("id"))&&this.ipt.push(i.getAttribute("id"))}}}hpt(t){let e=0,i=0;if(null!=this.Qut){const s=this.Qut.outerHTML,n=this.Zut.outerHTML;e=t.indexOf(s),i=t.indexOf(n)+n.length}this.metadata.ampRuntimeUtf16CharOffsets=[e,i]}lpt(t){if(this.ipt.length>0){this.metadata.jsonUtf16CharOffsets={};for(let e=0;e<this.ipt.length;e++){const i=this.ipt[e],s=this.npt.innerHTML,n=t.indexOf(s),r=n+s.length;this.metadata.jsonUtf16CharOffsets[i]=[n,r]}}}cpt(t,e){const i=t.querySelectorAll("amp-analytics");if(i.length>0){this.metadata.jsonUtf16CharOffsets||(this.metadata.jsonUtf16CharOffsets={}),this.metadata.jsonUtf16CharOffsets["amp-analytics"]=[];for(let t=0;t<i.length;t++){const s=i[t].innerHTML,n=e.indexOf(s),r=n+s.length;this.metadata.jsonUtf16CharOffsets["amp-analytics"].push(n),this.metadata.jsonUtf16CharOffsets["amp-analytics"].push(r)}}}upt(){if(this.sa.length>0){this.metadata.customElementExtensions=[],this.metadata.extensions=[];for(let t=0;t<this.sa.length;t++){const e=this.sa[t];let i;i=null!=e["custom-element"]?e["custom-element"]:e["custom-template"],-1==this.metadata.customElementExtensions.indexOf(i)&&(this.metadata.customElementExtensions.push(i),this.metadata.extensions.push({"custom-element":i,"src":e.src}))}}}}}buildCallback(){$(this.element.hasAttribute("src")||this.element.hasAttribute("srcdoc"),'Attribute src or srcdoc required for <amp-ad type="fake">: %s',this.element),this.element.hasAttribute(dn)&&this.element.getAttribute(dn).split(",").forEach((t=>{const e=t.split(":");var i,s,n;i=this.win,s=e[0],n=e[1],i.__AMP_EXPERIMENT_BRANCHES=i.__AMP_EXPERIMENT_BRANCHES||{},function(t,e,i,s){const n=dt(t,e),r=null!=i?i:!n;if(r!=n&&(pt(t)[e]=r,0)){const i=mt(t);i[e]=r,function(t,e){const i=[];for(const t in e)i.push((!1===e[t]?"-":"")+t);try{var s;null===(s=t.localStorage)||void 0===s||s.setItem(lt,i.join(","))}catch(t){k().error("EXPERIMENTS","Failed to save experiments to localStorage.")}}(t,i)}}(i,s,!!n),i.__AMP_EXPERIMENT_BRANCHES[s]=n})),super.buildCallback()}isValidElement(){const t=this.element.getAttribute("id");return!(!t||!t.startsWith("i-amphtml-demo-"))}getAdUrl(){const t=this.element.getAttribute("src");if(t)return t;const e=this.element.getAttribute("srcdoc");return`data:text/html,${encodeURIComponent(e)}`}sendXhrRequest(t){return super.sendXhrRequest(t).then((t=>{if(!t)return null;const{headers:e,status:s}=t;return"true"==this.element.getAttribute("a4a-conversion")?t.text().then((t=>(i(t,"?__amp_source_origin=")&&(t=t.split("?__amp_source_origin=")[0]),new Response(this.mpt(t),{status:s,headers:e})))):t}))}mpt(t){const e=(new DOMParser).parseFromString(t,"text/html"),i=e.documentElement;i.hasAttribute("⚡")?i.removeAttribute("⚡"):i.hasAttribute("amp")?i.removeAttribute("amp"):i.hasAttribute("AMP")&&i.removeAttribute("AMP"),i.hasAttribute("⚡4ads")||i.hasAttribute("⚡4ADS")||i.setAttribute("amp4ads",""),this.Gut.reorderHead(e.head);const s=this.Xut.generateMetadata(e),n=e.querySelector("script[amp-ad-metadata]");n&&n.parentNode.removeChild(n);const r=i.outerHTML.split("</body>");return r[0]+'<script type="application/json" amp-ad-metadata>'+s+"<\/script></body>"+r[1]}})})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-ad-network-fake-impl-0.1.mjs.map