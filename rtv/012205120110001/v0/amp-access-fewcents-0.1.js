;
(self.AMP=self.AMP||[]).push({m:0,v:"2205120110001",n:"amp-access-fewcents",ev:"0.1",l:!1,f:function(t,n){!function(){Array.isArray;var n=Object.prototype;function e(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function i(t,n){t.insertBefore(n,t.firstChild)}function r(t,n,e){return function(t,n){for(var e in n)t.setAttribute(e,n[e]);return t}(t.createElement(n),e)}function a(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}n.hasOwnProperty,n.toString,self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var s,o=self.__AMP_LOG;function c(t){return o.user||(o.user=u()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(o.user.win,t)?o.userForEmbed||(o.userForEmbed=u()):o.user}function u(t){return function(t,n){throw new Error("failed to call initLogConstructor")}()}function f(t,n,e,i,r,a,s,o,c,u,f){return t}var l=function(){var t=this;this.promise=new Promise((function(n,e){t.resolve=n,t.reject=e}))};function h(t,n){return m(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function v(t,n){return x(d(t),n)}function p(t){return t.nodeType?(e=t,n=(e.ownerDocument||e).defaultView,h(n,"ampdoc")).getAmpDoc(t):t;var n,e}function d(t){var n=p(t);return n.isSingleDoc()?n.win:n}function m(t,n){f(function(t,n){var e=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!e||!e.ctor)}(t,n));var e=g(t)[n];return e.obj||(f(e.ctor),f(e.context),e.obj=new e.ctor(e.context),f(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function x(t,n){var e=g(t)[n];return e?e.promise?e.promise:(m(t,n),e.promise=Promise.resolve(e.obj)):null}function g(t){var n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}function w(t,n,e,i){return function(t,n,e,i){var r=v(t,n);if(r)return r;var a=p(t);return a.whenExtensionsKnown().then((function(){var t=a.getExtensionVersion(e);return t?h(a.win,"extensions").waitForExtension(e,t):null})).then((function(e){return e?i?v(t,n):function(t,n){return function(t,n){var e=x(t,n);if(e)return e;var i,r,a,s,o=g(t);return o[n]=(r=(i=new l).promise,a=i.reject,s=i.resolve,r.catch((function(){})),{obj:null,promise:r,resolve:s,reject:a,context:null,ctor:null}),o[n].promise}(d(t),n)}(t,n):null}))}(t,n,e,i).then((function(t){return function(t,n,e){return i=t,r=n,a=e,s=e,o=e,c().assert(i,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.",r,a,s,o,void 0,void 0,void 0,void 0,void 0);var i,r,a,s,o}(t,n,e)}))}var b,y={fcTitleText:"Instant Access With Fewcents.",fcPromptText:"I already bought this",fcButtonText:"Unlock",fcPoweredImageRef:"https://images.fewcents.co/paywall/powered-fewcents.png",fcTermsRef:"https://www.fewcents.co/terms",fcPrivacyRef:"https://www.fewcents.co/privacy",fcContactUsRef:"mailto:support@fewcents.co"};function R(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function j(t,n,e,i){return function(t,n,e,i){var r=t,a=e,s=function(t){try{return a(t)}catch(t){var n,e;throw null===(n=(e=self).__AMP_REPORT_ERROR)||void 0===n||n.call(e,t),t}},o=function(){if(void 0!==b)return b;b=!1;try{var t={get capture(){return b=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return b}(),c=!(null==i||!i.capture);return r.addEventListener(n,s,o?i:c),function(){null==r||r.removeEventListener(n,s,o?i:c),a=null,r=null,s=null}}(t,n,e,i)}var O,k,U=function(){function t(t){this.pi=t,this.bi=0,this.gi=0,this.yi=e()}var n=t.prototype;return n.has=function(t){return!!this.yi[t]},n.get=function(t){var n=this.yi[t];if(n)return n.access=++this.gi,n.payload},n.put=function(t,n){this.has(t)||this.bi++,this.yi[t]={payload:n,access:this.gi},this.wi()},n.wi=function(){if(!(this.bi<=this.pi)){var t,n=this.yi,e=this.gi+1;for(var i in n){var r=n[i].access;r<e&&(e=r,t=i)}void 0!==t&&(delete n[t],this.bi--)}},t}();function I(t,n,e){if(n[e])return n[e];var i=t.querySelector("style[".concat(e,"], link[").concat(e,"]"));return i?(n[e]=i,i):null}function T(t,n){for(var e=t.styleSheets,i=0;i<e.length;i++)if(e[i].ownerNode==n)return!0;return!1}new Set(["c","v","a","ad"]);var E=function(){function t(t,n){this.ampdoc=t.ampdoc,this.IE=n,this.tat=null,this.nat=null,this.eat=this.IE.getAdapterConfig(),this.iat=this.rat(),this.aat=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?R(Object(e),!0).forEach((function(n){a(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):R(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},y),this.sat=null,this.Ht=h(this.ampdoc.win,"xhr"),this.Pe=m(this.ampdoc.win,"timer"),this.yo=function(t){return h(t,"vsync")}(this.ampdoc.win),this.oat=null,this.cat=null,function(t,n,r,a,s){var o=t.getHeadNode(),c=function(t,n,r,a){var s=t.__AMP_CSS_SM;s||(s=t.__AMP_CSS_SM=e());var o="amp-extension=".concat(a);if(o){var c=I(t,s,o);if(c)return"STYLE"==c.tagName&&c.textContent!==n&&(c.textContent=n),c}var u=(t.ownerDocument||t).createElement("style");u.textContent=n;return u.setAttribute("amp-extension",a),function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e){var r=e.nextSibling;t.insertBefore(n,r)}else i(t,n)}(t,u,I(t,s,"amp-runtime")),o&&(s[o]=u),u}(o,function(t,n){var e=t.__AMP_CSS_TR;return e?e(n):n}(o,"#amp-access-fewcents-dialog{padding:20px}.aaf-container{height:auto;width:70%;max-width:540px;-ms-flex-align:center;align-items:center;margin:20px auto auto;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:5px 15px;background-color:#f5f5f5;border:0px;border-radius:5px;opacity:1;transition:opacity 0.5s ease 0s;font-family:Arial;font-weight:400;box-shadow:1px 2px 2px 2px grey;overflow:hidden}.aaf-headerText{font-size:17px;text-align:center;word-wrap:normal;overflow:hidden;margin-top:10px}.aaf-purchase-button{line-height:1.2;cursor:pointer;color:#fff;border:0;background:#08289a;width:100%;border-radius:5px;height:40px;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;font-size:16px;outline:none;margin:auto;padding:0px 25px;max-width:160px}.aaf-imageTag{max-height:30px}.aaf-already-bought{font-size:13px;font-weight:500;text-align:center;margin-top:4px;color:#08289a}.aaf-price-btn-div{display:-ms-flexbox;display:flex;place-content:center space-evenly;-ms-flex-align:center;align-items:center;margin:12px auto 0px;max-width:250px}.aaf-article-price{font-size:24px;font-weight:400;text-align:center;margin-right:10px;color:#000}.aaf-btn-div{line-height:1.2;margin-top:0.5 rem;text-align:center}.aaf-bottom-div{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.aaf-fewcents-image-tag{max-height:45px}.aaf-refRow{word-break:break-word}.aaf-refElements,.aaf-refRow{text-align:center;color:#a8a3a3}.aaf-refElements{padding:4px;font-size:11px;white-space:nowrap}.aaf-partition-bar{font-size:11px;margin:0px 4px}@media (max-width:786px){#amp-access-fewcents-dialog{width:350px}}\n/*# sourceURL=/extensions/amp-access-fewcents/0.1/amp-access-fewcents.css*/"),0,"amp-access-fewcents");if(r){var u=t.getRootNode();if(T(u,c))return c;var f=setInterval((function(){T(u,c)&&clearInterval(f)}),4)}}(this.ampdoc,0,(function(){}))}var n=t.prototype;return n.authorize=function(){var t=this;return this.uat().then((function(n){return t.fat(),{access:n.data.access,data:JSON.stringify(n)}}),(function(n){if(!n||!n.response)throw n;var e=n.response;if(402!==e.status)throw n;return e.json().catch((function(){throw n})).then((function(n){return t.lat(n),t.fat().then(t.hat.bind(t)),{access:!1,data:JSON.stringify(n)}}))})).catch((function(){return t.fat(),{access:!0}}))},n.rat=function(){var t=this.eat.accessKey,n=this.eat.articleIdentifier,e=this.eat.category,i=(O||(O=self.document.createElement("a"),k=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new U(100))),function(t,n,e){if(e&&e.has(n))return e.get(n);t.href=n,t.protocol||(t.href=t.href);var i,r={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==r.pathname[0]&&(r.pathname="/"+r.pathname),("http:"==r.protocol&&80==r.port||"https:"==r.protocol&&443==r.port)&&(r.port="",r.host=r.hostname),i=t.origin&&"null"!=t.origin?t.origin:"data:"!=r.protocol&&r.host?r.protocol+"//"+r.host:r.href,r.origin=i;var a=r;return e&&e.put(n,a),a}(O,undefined,k)).hostname;return this.vat()+"v1/amp/authorizeBid?articleUrl=SOURCE_URL&ampReaderId=READER_ID&returnUrl=RETURN_URL&accessKey="+encodeURIComponent(t)+"&category="+encodeURIComponent(e)+"&articleIdentifier="+encodeURIComponent(n)+"&domain="+encodeURIComponent(i)},n.vat=function(){var t=this.eat.environment;return"development"===t?"https://api.hounds.fewcents.co/":"demo"===t?"https://api.demo.fewcents.co/":"https://api.fewcents.co/"},n.lat=function(t){var n,e,i,r=null==t||null===(n=t.data)||void 0===n?void 0:n.purchaseOptions;this.oat=null==r?void 0:r[0],this.cat=null==t||null===(e=t.data)||void 0===e?void 0:e.loginUrl;var a=null==t||null===(i=t.data)||void 0===i?void 0:i.bidId;a&&(this.sat=a)},n.uat=function(){var t=this,n=this.iat;return this.sat&&(n=n+"&bidId="+this.sat),this.IE.buildUrl(n,!1).then((function(n){return t.IE.getLoginUrl(n)})).then((function(n){return t.Pe.timeoutPromise(1e4,t.Ht.fetchJson(n,{})).then((function(t){return t.json()}))}))},n.fat=function(){var t=this;return this.pat?s||(s=Promise.resolve(void 0)):(this.dat&&(this.dat=null),this.mat&&(this.mat=null),this.yo.mutatePromise((function(){t.pat=!0,t.tat=null,function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(t.xat())})))},n.xat=function(){var t=this.eat.contentSelector,n=this.ampdoc.getElementById(t);return c().assertElement(n,"No element found with given id",t)},n.hat=function(){this.nat=this.xat(),this.tat=r(this.ampdoc.win.document,"div",{class:"aaf-container"}),this.gat(),this.wat(),this.bat();var t=r(this.ampdoc.win.document,"div",{class:"aaf-bottom-div"}),n=this.yat();t.appendChild(n);var e=r(this.ampdoc.win.document,"img",{class:"aaf-fewcents-image-tag",src:this.aat.fcPoweredImageRef});t.appendChild(e),this.tat.appendChild(t),this.nat.appendChild(this.tat),this.pat=!1},n.gat=function(){var t=r(this.ampdoc.win.document,"img",{class:"aaf-imageTag",src:this.eat.publisherLogoUrl});this.tat.appendChild(t);var n=r(this.ampdoc.win.document,"div",{class:"aaf-headerText"});n.textContent=this.aat.fcTitleText,this.tat.appendChild(n)},n.wat=function(){var t=this,n=r(this.ampdoc.win.document,"a",{class:"aaf-already-bought",href:this.cat,target:"_blank",rel:"noopener noreferrer"});n.textContent=this.aat.fcPromptText,this.mat=j(n,"click",(function(n){t.Rat(n)})),this.tat.appendChild(n)},n.bat=function(){var t,n,e=this,i=r(this.ampdoc.win.document,"div",{class:"aaf-price-btn-div"});this.tat.appendChild(i);var a=r(this.ampdoc.win.document,"div",{class:"aaf-article-price"});a.textContent=null===(t=this.oat)||void 0===t||null===(n=t.price)||void 0===n?void 0:n.price,i.appendChild(a);var s=r(this.ampdoc.win.document,"div",{class:"aaf-btn-div"}),o=r(this.ampdoc.win.document,"button",{class:"aaf-purchase-button",style:"background:".concat(this.eat.primaryColor)});o.textContent=this.aat.fcButtonText,this.dat=j(o,"click",(function(t){e.Rat(t)})),s.appendChild(o),i.appendChild(s)},n.yat=function(){var t=r(this.ampdoc.win.document,"div",{class:"aaf-refRow"}),n=r(this.ampdoc.win.document,"a",{class:"aaf-refElements",href:this.aat.fcTermsRef,target:"_blank",rel:"noopener noreferrer"});n.textContent="Terms",t.appendChild(n),this.jat(t);var e=r(this.ampdoc.win.document,"a",{class:"aaf-refElements",href:this.aat.fcPrivacyRef,target:"_blank",rel:"noopener noreferrer"});e.textContent="Privacy",t.appendChild(e),this.jat(t);var i=r(this.ampdoc.win.document,"a",{class:"aaf-refElements",href:this.aat.fcContactUsRef,target:"_blank",rel:"noopener noreferrer"});return i.textContent="Contact Us",t.appendChild(i),this.jat(t),t},n.jat=function(t){var n=r(this.ampdoc.win.document,"span",{class:"aaf-partition-bar"});n.textContent="|",t.appendChild(n)},n.Rat=function(t){var n=this;return t.preventDefault(),this.IE.buildUrl(this.cat,!1).then((function(t){n.IE.loginWithUrl(t)}))},t}();t.registerServiceForDoc("fewcents",(function(t){return(n=t.getHeadNode(),w(n,"access","amp-access")).then((function(t){var n=t.getVendorSource("fewcents"),e=new E(t,n);return n.getAdapter().registerVendor(e),e}));var n}))}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-access-fewcents-0.1.js.map